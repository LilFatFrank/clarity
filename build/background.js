const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-BrbBtG9A.js","assets/index.browser.esm-BdHCRyEa.js"])))=>i.map(i=>d[i]);
import{c as Pp,H as Cp,a as li,u as kp,s as Oc,b as $c,t as Np,d as zc,e as Rp,f as Rd,r as Bp,g as Op,h as $p,i as zp,j as Mp,k as Dp,l as Lp,m as Fp,n as Up,o as jp,p as Be,q as jt,S as V,v as vs,w as Vp,x as Gp,y as qp,z as Hp,A as Wp,B as Zp,C as Kp,D as Yp,E as yo,F as Jp,G as Vt,I as bo,J as Xp,K as Qp,L as Bd,M as Xn,N as eh,O as th,P as nh,Q as rh,R as fi,T as xs,U as Od,V as sh,W as Ge,X as dt,Y as Zt,Z as ah,_ as _t,$ as ih,a0 as oh,a1 as ch,a2 as uh,a3 as dh,a4 as lh,a5 as fh,a6 as ph,a7 as hh,a8 as $d,a9 as mh,aa as zd,ab as Md,ac as yh,ad as bh,ae as gh,af as wh,ag as vh,ah as pi,ai as xh,aj as _h,ak as nn,al as Eh,am as Ee,an as Ah,ao as Mc,ap as Th,aq as Ft,ar as ne,as as Sh,at as Ih,au as Ph,av as Ch,aw as kh,ax as Dd,ay as we,az as Nh,aA as se,aB as Dc,aC as Lc,aD as Fc,aE as Uc,aF as Ld,aG as Rh}from"./assets/index.browser.esm-BdHCRyEa.js";const Bh=BigInt(0),ir=BigInt(1),Oh=BigInt(2),$h=BigInt(7),zh=BigInt(256),Mh=BigInt(113),Fd=[],Ud=[],jd=[];for(let e=0,t=ir,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Fd.push(2*(5*r+n)),Ud.push((e+1)*(e+2)/2%64);let s=Bh;for(let a=0;a<7;a++)t=(t<<ir^(t>>$h)*Mh)%zh,t&Oh&&(s^=ir<<(ir<<BigInt(a))-ir);jd.push(s)}const Vd=Mp(jd,!0),Dh=Vd[0],Lh=Vd[1],jc=(e,t,n)=>n>32?$p(e,t,n):Bp(e,t,n),Vc=(e,t,n)=>n>32?zp(e,t,n):Op(e,t,n);function Fh(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],f=jc(u,d,1)^n[o],l=Vc(u,d,1)^n[o+1];for(let p=0;p<50;p+=10)e[i+p]^=f,e[i+p+1]^=l}let s=e[2],a=e[3];for(let i=0;i<24;i++){const o=Ud[i],c=jc(s,a,o),u=Vc(s,a,o),d=Fd[i];s=e[d],a=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=e[i+o];for(let o=0;o<10;o++)e[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=Dh[r],e[1]^=Lh[r]}Rd(n)}class go extends Cp{constructor(t,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,li(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=kp(this.state)}clone(){return this._cloneInto()}keccak(){Oc(this.state32),Fh(this.state32,this.rounds),Oc(this.state32),this.posOut=0,this.pos=0}update(t){$c(this),t=Np(t),zc(t);const{blockLen:n,state:r}=this,s=t.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$c(this,!1),zc(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return li(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Rp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Rd(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new go(n,r,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Uh=(e,t,n)=>Pp(()=>new go(t,e,n)),Gd=Uh(1,136,256/8);function jh(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const d=e.charAt(u),f=d.charCodeAt(0);if(t[f]!==255)throw new TypeError(d+" is ambiguous");t[f]=u}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function i(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,f=0,l=0;const p=u.length;for(;l!==p&&u[l]===0;)l++,d++;const h=(p-l)*a+1>>>0,m=new Uint8Array(h);for(;l!==p;){let v=u[l],g=0;for(let y=h-1;(v!==0||g<f)&&y!==-1;y--,g++)v+=256*m[y]>>>0,m[y]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");f=g,l++}let w=h-f;for(;w!==h&&m[w]===0;)w++;let b=r.repeat(d);for(;w<h;++w)b+=e.charAt(m[w]);return b}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,f=0,l=0;for(;u[d]===r;)f++,d++;const p=(u.length-d)*s+1>>>0,h=new Uint8Array(p);for(;d<u.length;){const v=u.charCodeAt(d);if(v>255)return;let g=t[v];if(g===255)return;let y=0;for(let x=p-1;(g!==0||y<l)&&x!==-1;x--,y++)g+=n*h[x]>>>0,h[x]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");l=y,d++}let m=p-l;for(;m!==p&&h[m]===0;)m++;const w=new Uint8Array(f+(p-m));let b=f;for(;m!==p;)w[b++]=h[m++];return w}function c(u){const d=o(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:i,decodeUnsafe:o,decode:c}}var Vh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Ea=jh(Vh);var Gh=Object.defineProperty,qh=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),wo=(e,t)=>{for(var n in t)Gh(e,n,{get:t[n],enumerable:!0})},Hh={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"}},Wh=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}],ee;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ee||(ee={}));var Gc;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Gc||(Gc={}));const M=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dt=e=>{switch(typeof e){case"undefined":return M.undefined;case"string":return M.string;case"number":return Number.isNaN(e)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(e)?M.array:e===null?M.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?M.promise:typeof Map<"u"&&e instanceof Map?M.map:typeof Set<"u"&&e instanceof Set?M.set:typeof Date<"u"&&e instanceof Date?M.date:M.object;default:return M.unknown}},I=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Pt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pt.create=e=>new Pt(e);const hi=(e,t)=>{let n;switch(e.code){case I.invalid_type:e.received===M.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ee.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${ee.joinValues(e.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ee.joinValues(e.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${ee.joinValues(e.options)}, received '${e.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ee.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case I.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case I.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=t.defaultError,ee.assertNever(e)}return{message:n}};let Zh=hi;function Kh(){return Zh}const Yh=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function $(e,t){const n=Kh(),r=Yh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===hi?void 0:hi].filter(s=>!!s)});e.common.issues.push(r)}class Te{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return Te.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return G;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:t.value,value:r}}}const G=Object.freeze({status:"aborted"}),pr=e=>({status:"dirty",value:e}),We=e=>({status:"valid",value:e}),qc=e=>e.status==="aborted",Hc=e=>e.status==="dirty",Dn=e=>e.status==="valid",_s=e=>typeof Promise<"u"&&e instanceof Promise;var j;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(j||(j={}));class lt{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wc=(e,t)=>{if(Dn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pt(e.common.issues);return this._error=n,this._error}}};function W(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:s}}class K{get description(){return this._def.description}_getType(t){return Dt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Dt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Te,ctx:{common:t.parent.common,data:t.data,parsedType:Dt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_s(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dt(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Wc(r,s)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dt(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:n});return Dn(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>Dn(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dt(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(_s(s)?s:Promise.resolve(s));return Wc(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:I.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new cn({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return At.create(this,this._def)}nullable(){return un.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ct.create(this)}promise(){return Ps.create(this,this._def)}or(t){return As.create([this,t],this._def)}and(t){return Ts.create(this,t,this._def)}transform(t){return new cn({...W(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Cs({...W(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new Zd({typeName:q.ZodBranded,type:this,...W(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new ks({...W(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return xo.create(this,t)}readonly(){return Ns.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jh=/^c[^\s-]{8,}$/i,Xh=/^[0-9a-z]+$/,Qh=/^[0-9A-HJKMNP-TV-Z]{26}$/i,em=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tm=/^[a-z0-9_-]{21}$/i,nm=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,am="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Aa;const im=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,om=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,um=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fm=new RegExp(`^${qd}$`);function Hd(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function pm(e){return new RegExp(`^${Hd(e)}$`)}function hm(e){let t=`${qd}T${Hd(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function mm(e,t){return!!((t==="v4"||!t)&&im.test(e)||(t==="v6"||!t)&&cm.test(e))}function ym(e,t){if(!nm.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function bm(e,t){return!!((t==="v4"||!t)&&om.test(e)||(t==="v6"||!t)&&um.test(e))}class it extends K{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==M.string){const a=this._getOrReturnCtx(t);return $(a,{code:I.invalid_type,expected:M.string,received:a.parsedType}),G}const r=new Te;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),$(s,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),$(s,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?$(s,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&$(s,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")sm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"email",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Aa||(Aa=new RegExp(am,"u")),Aa.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"emoji",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")em.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"uuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")tm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"nanoid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Jh.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"cuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Xh.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"cuid2",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Qh.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"ulid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),$(s,{validation:"url",code:I.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"regex",code:I.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?hm(a).test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?fm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?pm(a).test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{code:I.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?rm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"duration",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?mm(t.data,a.version)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"ip",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?ym(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"jwt",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?bm(t.data,a.version)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"cidr",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?dm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"base64",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?lm.test(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{validation:"base64url",code:I.invalid_string,message:a.message}),r.dirty()):ee.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:I.invalid_string,...j.errToObj(r)})}_addCheck(t){return new it({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...j.errToObj(t)})}url(t){return this._addCheck({kind:"url",...j.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...j.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...j.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...j.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...j.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...j.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...j.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...j.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...j.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...j.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...j.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...j.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...j.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...j.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...j.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...j.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...j.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...j.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...j.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...j.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...j.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...j.errToObj(n)})}nonempty(t){return this.min(1,j.errToObj(t))}trim(){return new it({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}it.create=e=>new it({checks:[],typeName:q.ZodString,coerce:e?.coerce??!1,...W(e)});function gm(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class rn extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==M.number){const a=this._getOrReturnCtx(t);return $(a,{code:I.invalid_type,expected:M.number,received:a.parsedType}),G}let r;const s=new Te;for(const a of this._def.checks)a.kind==="int"?ee.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),$(r,{code:I.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?gm(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),$(r,{code:I.not_finite,message:a.message}),s.dirty()):ee.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,j.toString(n))}gt(t,n){return this.setLimit("min",t,!1,j.toString(n))}lte(t,n){return this.setLimit("max",t,!0,j.toString(n))}lt(t,n){return this.setLimit("max",t,!1,j.toString(n))}setLimit(t,n,r,s){return new rn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:j.toString(s)}]})}_addCheck(t){return new rn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:j.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:j.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ee.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}rn.create=e=>new rn({checks:[],typeName:q.ZodNumber,coerce:e?.coerce||!1,...W(e)});class sn extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==M.bigint)return this._getInvalidInput(t);let r;const s=new Te;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),$(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ee.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return $(n,{code:I.invalid_type,expected:M.bigint,received:n.parsedType}),G}gte(t,n){return this.setLimit("min",t,!0,j.toString(n))}gt(t,n){return this.setLimit("min",t,!1,j.toString(n))}lte(t,n){return this.setLimit("max",t,!0,j.toString(n))}lt(t,n){return this.setLimit("max",t,!1,j.toString(n))}setLimit(t,n,r,s){return new sn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:j.toString(s)}]})}_addCheck(t){return new sn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}sn.create=e=>new sn({checks:[],typeName:q.ZodBigInt,coerce:e?.coerce??!1,...W(e)});class Es extends K{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==M.boolean){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.boolean,received:r.parsedType}),G}return We(t.data)}}Es.create=e=>new Es({typeName:q.ZodBoolean,coerce:e?.coerce||!1,...W(e)});class Ln extends K{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==M.date){const a=this._getOrReturnCtx(t);return $(a,{code:I.invalid_type,expected:M.date,received:a.parsedType}),G}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return $(a,{code:I.invalid_date}),G}const r=new Te;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),$(s,{code:I.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),$(s,{code:I.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ee.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ln({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:j.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:j.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ln.create=e=>new Ln({checks:[],coerce:e?.coerce||!1,typeName:q.ZodDate,...W(e)});class Zc extends K{_parse(t){if(this._getType(t)!==M.symbol){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.symbol,received:r.parsedType}),G}return We(t.data)}}Zc.create=e=>new Zc({typeName:q.ZodSymbol,...W(e)});class mi extends K{_parse(t){if(this._getType(t)!==M.undefined){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.undefined,received:r.parsedType}),G}return We(t.data)}}mi.create=e=>new mi({typeName:q.ZodUndefined,...W(e)});class yi extends K{_parse(t){if(this._getType(t)!==M.null){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.null,received:r.parsedType}),G}return We(t.data)}}yi.create=e=>new yi({typeName:q.ZodNull,...W(e)});class bi extends K{constructor(){super(...arguments),this._any=!0}_parse(t){return We(t.data)}}bi.create=e=>new bi({typeName:q.ZodAny,...W(e)});class Kc extends K{constructor(){super(...arguments),this._unknown=!0}_parse(t){return We(t.data)}}Kc.create=e=>new Kc({typeName:q.ZodUnknown,...W(e)});class Ut extends K{_parse(t){const n=this._getOrReturnCtx(t);return $(n,{code:I.invalid_type,expected:M.never,received:n.parsedType}),G}}Ut.create=e=>new Ut({typeName:q.ZodNever,...W(e)});class Yc extends K{_parse(t){if(this._getType(t)!==M.undefined){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.void,received:r.parsedType}),G}return We(t.data)}}Yc.create=e=>new Yc({typeName:q.ZodVoid,...W(e)});class ct extends K{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==M.array)return $(n,{code:I.invalid_type,expected:M.array,received:n.parsedType}),G;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&($(n,{code:i?I.too_big:I.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&($(n,{code:I.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&($(n,{code:I.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new lt(n,i,n.path,o)))).then(i=>Te.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new lt(n,i,n.path,o)));return Te.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new ct({...this._def,minLength:{value:t,message:j.toString(n)}})}max(t,n){return new ct({...this._def,maxLength:{value:t,message:j.toString(n)}})}length(t,n){return new ct({...this._def,exactLength:{value:t,message:j.toString(n)}})}nonempty(t){return this.min(1,t)}}ct.create=(e,t)=>new ct({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...W(t)});function Tn(e){if(e instanceof le){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=At.create(Tn(r))}return new le({...e._def,shape:()=>t})}else return e instanceof ct?new ct({...e._def,type:Tn(e.element)}):e instanceof At?At.create(Tn(e.unwrap())):e instanceof un?un.create(Tn(e.unwrap())):e instanceof an?an.create(e.items.map(t=>Tn(t))):e}class le extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ee.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==M.object){const u=this._getOrReturnCtx(t);return $(u,{code:I.invalid_type,expected:M.object,received:u.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ut&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const c=[];for(const u of i){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new lt(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ut){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&($(s,{code:I.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new lt(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,l=await d.value;u.push({key:f,value:l,alwaysSet:d.alwaysSet})}return u}).then(u=>Te.mergeObjectSync(r,u)):Te.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return j.errToObj,new le({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:j.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new le({...this._def,unknownKeys:"strip"})}passthrough(){return new le({...this._def,unknownKeys:"passthrough"})}extend(t){return new le({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new le({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new le({...this._def,catchall:t})}pick(t){const n={};for(const r of ee.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new le({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ee.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new le({...this._def,shape:()=>n})}deepPartial(){return Tn(this)}partial(t){const n={};for(const r of ee.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new le({...this._def,shape:()=>n})}required(t){const n={};for(const r of ee.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof At;)a=a._def.innerType;n[r]=a}return new le({...this._def,shape:()=>n})}keyof(){return Wd(ee.objectKeys(this.shape))}}le.create=(e,t)=>new le({shape:()=>e,unknownKeys:"strip",catchall:Ut.create(),typeName:q.ZodObject,...W(t)});le.strictCreate=(e,t)=>new le({shape:()=>e,unknownKeys:"strict",catchall:Ut.create(),typeName:q.ZodObject,...W(t)});le.lazycreate=(e,t)=>new le({shape:e,unknownKeys:"strip",catchall:Ut.create(),typeName:q.ZodObject,...W(t)});class As extends K{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new Pt(o.ctx.common.issues));return $(n,{code:I.invalid_union,unionErrors:i}),G}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new Pt(c));return $(n,{code:I.invalid_union,unionErrors:o}),G}}get options(){return this._def.options}}As.create=(e,t)=>new As({options:e,typeName:q.ZodUnion,...W(t)});const vt=e=>e instanceof wi?vt(e.schema):e instanceof cn?vt(e.innerType()):e instanceof Is?[e.value]:e instanceof on?e.options:e instanceof vi?ee.objectValues(e.enum):e instanceof Cs?vt(e._def.innerType):e instanceof mi?[void 0]:e instanceof yi?[null]:e instanceof At?[void 0,...vt(e.unwrap())]:e instanceof un?[null,...vt(e.unwrap())]:e instanceof Zd||e instanceof Ns?vt(e.unwrap()):e instanceof ks?vt(e._def.innerType):[];class vo extends K{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==M.object)return $(n,{code:I.invalid_type,expected:M.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):($(n,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),G)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const i=vt(a.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new vo({typeName:q.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...W(r)})}}function gi(e,t){const n=Dt(e),r=Dt(t);if(e===t)return{valid:!0,data:e};if(n===M.object&&r===M.object){const s=ee.objectKeys(t),a=ee.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const c=gi(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===M.array&&r===M.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],c=gi(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===M.date&&r===M.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ts extends K{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(qc(a)||qc(i))return G;const o=gi(a.value,i.value);return o.valid?((Hc(a)||Hc(i))&&n.dirty(),{status:n.value,value:o.data}):($(r,{code:I.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ts.create=(e,t,n)=>new Ts({left:e,right:t,typeName:q.ZodIntersection,...W(n)});class an extends K{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==M.array)return $(r,{code:I.invalid_type,expected:M.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return $(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&($(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new lt(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Te.mergeArray(n,i)):Te.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new an({...this._def,rest:t})}}an.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new an({items:e,typeName:q.ZodTuple,rest:null,...W(t)})};class Ss extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==M.object)return $(r,{code:I.invalid_type,expected:M.object,received:r.parsedType}),G;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new lt(r,o,r.path,o)),value:i._parse(new lt(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Te.mergeObjectAsync(n,s):Te.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof K?new Ss({keyType:t,valueType:n,typeName:q.ZodRecord,...W(r)}):new Ss({keyType:it.create(),valueType:t,typeName:q.ZodRecord,...W(n)})}}class Jc extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==M.map)return $(r,{code:I.invalid_type,expected:M.map,received:r.parsedType}),G;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],u)=>({key:s._parse(new lt(r,o,r.path,[u,"key"])),value:a._parse(new lt(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return G;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return G;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}Jc.create=(e,t,n)=>new Jc({valueType:t,keyType:e,typeName:q.ZodMap,...W(n)});class yr extends K{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==M.set)return $(r,{code:I.invalid_type,expected:M.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&($(r,{code:I.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&($(r,{code:I.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return G;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>a._parse(new lt(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,n){return new yr({...this._def,minSize:{value:t,message:j.toString(n)}})}max(t,n){return new yr({...this._def,maxSize:{value:t,message:j.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}yr.create=(e,t)=>new yr({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...W(t)});class wi extends K{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wi.create=(e,t)=>new wi({getter:e,typeName:q.ZodLazy,...W(t)});class Is extends K{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return $(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:t.data}}get value(){return this._def.value}}Is.create=(e,t)=>new Is({value:e,typeName:q.ZodLiteral,...W(t)});function Wd(e,t){return new on({values:e,typeName:q.ZodEnum,...W(t)})}class on extends K{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return $(n,{expected:ee.joinValues(r),received:n.parsedType,code:I.invalid_type}),G}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return $(n,{received:n.data,code:I.invalid_enum_value,options:r}),G}return We(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return on.create(t,{...this._def,...n})}exclude(t,n=this._def){return on.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}on.create=Wd;class vi extends K{_parse(t){const n=ee.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==M.string&&r.parsedType!==M.number){const s=ee.objectValues(n);return $(r,{expected:ee.joinValues(s),received:r.parsedType,code:I.invalid_type}),G}if(this._cache||(this._cache=new Set(ee.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ee.objectValues(n);return $(r,{received:r.data,code:I.invalid_enum_value,options:s}),G}return We(t.data)}get enum(){return this._def.values}}vi.create=(e,t)=>new vi({values:e,typeName:q.ZodNativeEnum,...W(t)});class Ps extends K{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==M.promise&&n.common.async===!1)return $(n,{code:I.invalid_type,expected:M.promise,received:n.parsedType}),G;const r=n.parsedType===M.promise?n.data:Promise.resolve(n.data);return We(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ps.create=(e,t)=>new Ps({type:e,typeName:q.ZodPromise,...W(t)});class cn extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{$(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return G;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?G:c.status==="dirty"||n.value==="dirty"?pr(c.value):c});{if(n.value==="aborted")return G;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?G:o.status==="dirty"||n.value==="dirty"?pr(o.value):o}}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?G:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?G:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dn(i))return G;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Dn(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):G);ee.assertNever(s)}}cn.create=(e,t,n)=>new cn({schema:e,typeName:q.ZodEffects,effect:t,...W(n)});cn.createWithPreprocess=(e,t,n)=>new cn({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...W(n)});class At extends K{_parse(t){return this._getType(t)===M.undefined?We(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}At.create=(e,t)=>new At({innerType:e,typeName:q.ZodOptional,...W(t)});class un extends K{_parse(t){return this._getType(t)===M.null?We(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}un.create=(e,t)=>new un({innerType:e,typeName:q.ZodNullable,...W(t)});class Cs extends K{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===M.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cs.create=(e,t)=>new Cs({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...W(t)});class ks extends K{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _s(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Pt(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ks.create=(e,t)=>new ks({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...W(t)});class Xc extends K{_parse(t){if(this._getType(t)!==M.nan){const r=this._getOrReturnCtx(t);return $(r,{code:I.invalid_type,expected:M.nan,received:r.parsedType}),G}return{status:"valid",value:t.data}}}Xc.create=e=>new Xc({typeName:q.ZodNaN,...W(e)});class Zd extends K{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class xo extends K{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:a.status==="dirty"?(n.dirty(),pr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?G:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new xo({in:t,out:n,typeName:q.ZodPipeline})}}class Ns extends K{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Dn(s)&&(s.value=Object.freeze(s.value)),s);return _s(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ns.create=(e,t)=>new Ns({innerType:e,typeName:q.ZodReadonly,...W(t)});var q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));const ie=it.create,Ve=rn.create;sn.create;const Kd=Es.create,wm=Ln.create,Fn=bi.create;Ut.create;const js=ct.create,be=le.create,Yd=As.create,vm=vo.create;Ts.create;an.create;const Xt=Ss.create,xm=Is.create,pt=on.create;Ps.create;At.create;un.create;const _m={string:(e=>it.create({...e,coerce:!0})),number:(e=>rn.create({...e,coerce:!0})),boolean:(e=>Es.create({...e,coerce:!0})),bigint:(e=>sn.create({...e,coerce:!0})),date:(e=>Ln.create({...e,coerce:!0}))},Em="1.1.0";let Oe=class xi extends Error{constructor(t,n={}){const r=n.cause instanceof xi?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof xi&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Em}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ot(e,t){return e.exec(t)?.groups}const Jd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xd=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Qd=/^\(.+?\).*?$/,Qc=/^tuple(?<array>(\[(\d*)\])*)$/;function _i(e){let t=e.type;if(Qc.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=_i(a),s<n-1&&(t+=", ")}const r=Ot(Qc,e.type);return t+=`)${r?.array??""}`,_i({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Sn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=_i(s),r!==n-1&&(t+=", ")}return t}function Rs(e){return e.type==="function"?`function ${e.name}(${Sn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Sn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Sn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Sn(e.inputs)})`:e.type==="constructor"?`constructor(${Sn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const el=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Am(e){return el.test(e)}function Tm(e){return Ot(el,e)}const tl=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Sm(e){return tl.test(e)}function Im(e){return Ot(tl,e)}const nl=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Pm(e){return nl.test(e)}function Cm(e){return Ot(nl,e)}const rl=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Vs(e){return rl.test(e)}function km(e){return Ot(rl,e)}const sl=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Nm(e){return sl.test(e)}function Rm(e){return Ot(sl,e)}const al=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Bm(e){return al.test(e)}function Om(e){return Ot(al,e)}const $m=/^receive\(\) external payable$/;function zm(e){return $m.test(e)}const eu=new Set(["memory","indexed","storage","calldata"]),Mm=new Set(["indexed"]),Ei=new Set(["calldata","memory","storage"]);class Dm extends Oe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Lm extends Oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Fm extends Oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Um extends Oe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class jm extends Oe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Vm extends Oe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Gm extends Oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class qm extends Oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hm extends Oe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Qn extends Oe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Wm extends Oe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Zm extends Oe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Km extends Oe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ym extends Oe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Jm(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const i of s[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const Ta=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ai(e,t={}){if(Pm(e))return Xm(e,t);if(Sm(e))return Qm(e,t);if(Am(e))return ey(e,t);if(Nm(e))return ty(e,t);if(Bm(e))return ny(e);if(zm(e))return{type:"receive",stateMutability:"payable"};throw new Wm({signature:e})}function Xm(e,t={}){const n=Cm(e);if(!n)throw new Qn({signature:e,type:"function"});const r=ze(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Ct(r[o],{modifiers:Ei,structs:t,type:"function"}));const i=[];if(n.returns){const o=ze(n.returns),c=o.length;for(let u=0;u<c;u++)i.push(Ct(o[u],{modifiers:Ei,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Qm(e,t={}){const n=Im(e);if(!n)throw new Qn({signature:e,type:"event"});const r=ze(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Ct(r[i],{modifiers:Mm,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function ey(e,t={}){const n=Tm(e);if(!n)throw new Qn({signature:e,type:"error"});const r=ze(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Ct(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function ty(e,t={}){const n=Rm(e);if(!n)throw new Qn({signature:e,type:"constructor"});const r=ze(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Ct(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function ny(e){const t=Om(e);if(!t)throw new Qn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ry=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sy=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ay=/^u?int$/;function Ct(e,t){const n=Jm(e,t?.type,t?.structs);if(Ta.has(n))return Ta.get(n);const r=Qd.test(e),s=Ot(r?sy:ry,e);if(!s)throw new jm({param:e});if(s.name&&oy(s.name))throw new Vm({param:e,name:s.name});const a=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const f=ze(s.type),l=[],p=f.length;for(let h=0;h<p;h++)l.push(Ct(f[h],{structs:o}));u={components:l}}else if(s.type in o)c="tuple",u={components:o[s.type]};else if(ay.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!il(c))throw new Fm({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Gm({param:e,type:t?.type,modifier:s.modifier});if(Ei.has(s.modifier)&&!cy(c,!!s.array))throw new qm({param:e,type:t?.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...a,...i,...u};return Ta.set(n,d),d}function ze(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const i=e[a],o=e.slice(a+1);switch(i){case",":return r===0?ze(o,[...t,n.trim()]):ze(o,t,`${n}${i}`,r);case"(":return ze(o,t,`${n}${i}`,r+1);case")":return ze(o,t,`${n}${i}`,r-1);default:return ze(o,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Ym({current:n,depth:r});return t.push(n.trim()),t}function il(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Jd.test(e)||Xd.test(e)}const iy=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function oy(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Jd.test(e)||Xd.test(e)||iy.test(e)}function cy(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function _o(e){const t={},n=e.length;for(let i=0;i<n;i++){const o=e[i];if(!Vs(o))continue;const c=km(o);if(!c)throw new Qn({signature:o,type:"struct"});const u=c.properties.split(";"),d=[],f=u.length;for(let l=0;l<f;l++){const h=u[l].trim();if(!h)continue;const m=Ct(h,{type:"struct"});d.push(m)}if(!d.length)throw new Zm({signature:o});t[c.name]=d}const r={},s=Object.entries(t),a=s.length;for(let i=0;i<a;i++){const[o,c]=s[i];r[o]=ol(c,t)}return r}const uy=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ol(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const i=e[a];if(Qd.test(i.type))r.push(i);else{const c=Ot(uy,i.type);if(!c?.type)throw new Hm({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new Km({type:d});r.push({...i,type:`tuple${u??""}`,components:ol(t[d]??[],t,new Set([...n,d]))})}else if(il(d))r.push(i);else throw new Lm({type:d})}}return r}function cl(e){const t=_o(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];Vs(a)||n.push(Ai(a,t))}return n}function tu(e){let t;if(typeof e=="string")t=Ai(e);else{const n=_o(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Vs(a)){t=Ai(a,n);break}}}if(!t)throw new Dm({signature:e});return t}function nu(e){const t=[];if(typeof e=="string"){const n=ze(e),r=n.length;for(let s=0;s<r;s++)t.push(Ct(n[s],{modifiers:eu}))}else{const n=_o(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(Vs(a))continue;const i=ze(a),o=i.length;for(let c=0;c<o;c++)t.push(Ct(i[c],{modifiers:eu,structs:n}))}}if(t.length===0)throw new Um({params:e});return t}function F(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function Xe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new xy(e.type);return`${e.name}(${Gs(e.inputs,{includeName:t})})`}function Gs(e,{includeName:t=!1}={}){return e?e.map(n=>dy(n,{includeName:t})).join(t?", ":","):""}function dy(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Gs(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Qe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ue(e){return Qe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const ul="2.38.6";let Sa={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${ul}`},_=class Ti extends Error{constructor(t,n={}){const r=n.cause instanceof Ti?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ti&&n.cause.docsPath||n.docsPath,a=Sa.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Sa.version?[`Version: ${Sa.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=ul}walk(t){return dl(this,t)}};function dl(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?dl(e.cause,t):t?null:e}class ll extends _{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Bs extends _{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class fl extends _{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Gs(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Vr extends _{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class ly extends _{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class fy extends _{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ue(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class py extends _{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class hy extends _{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ru extends _{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class pl extends _{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class my extends _{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class hl extends _{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class su extends _{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Un extends _{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ml extends _{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class yy extends _{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class by extends _{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Xe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Xe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let gy=class extends _{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class br extends _{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Gs(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class qs extends _{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Xe(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class wy extends _{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class vy extends _{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let yl=class extends _{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class xy extends _{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class _y extends _{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let bl=class extends _{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},gl=class extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class au extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function gn(e,{dir:t,size:n=32}={}){return typeof e=="string"?Lt(e,{dir:t,size:n}):Ey(e,{dir:t,size:n})}function Lt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new gl({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ey(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new gl({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}let wl=class extends _{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Ay=class extends _{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Ty extends _{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Sy=class extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function qe(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function rt(e,{size:t}){if(ue(e)>t)throw new Sy({givenSize:ue(e),maxSize:t})}function re(e,t={}){const{signed:n}=t;t.size&&rt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Iy(e,t={}){let n=e;if(t.size&&(rt(n,{size:t.size}),n=qe(n)),qe(n)==="0x00")return!1;if(qe(n)==="0x01")return!0;throw new Ty(n)}function Me(e,t={}){return Number(re(e,t))}const Py=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Q(e,t={}){return typeof e=="number"||typeof e=="bigint"?T(e,t):typeof e=="string"?jn(e,t):typeof e=="boolean"?vl(e,t):pe(e,t)}function vl(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(rt(n,{size:t.size}),gn(n,{size:t.size})):n}function pe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Py[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(rt(r,{size:t.size}),gn(r,{dir:"right",size:t.size})):r}function T(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof e=="bigint"?"n":"";throw new wl({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?gn(o,{size:r}):o}const Cy=new TextEncoder;function jn(e,t={}){const n=Cy.encode(e);return pe(n,t)}const ky=new TextEncoder;function Tt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ry(e,t):typeof e=="boolean"?Ny(e,t):Qe(e)?Ne(e,t):Qt(e,t)}function Ny(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(rt(n,{size:t.size}),gn(n,{size:t.size})):n}const yt={zero:48,nine:57,A:65,F:70,a:97,f:102};function iu(e){if(e>=yt.zero&&e<=yt.nine)return e-yt.zero;if(e>=yt.A&&e<=yt.F)return e-(yt.A-10);if(e>=yt.a&&e<=yt.f)return e-(yt.a-10)}function Ne(e,t={}){let n=e;t.size&&(rt(n,{size:t.size}),n=gn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let i=0,o=0;i<s;i++){const c=iu(r.charCodeAt(o++)),u=iu(r.charCodeAt(o++));if(c===void 0||u===void 0)throw new _(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[i]=c*16+u}return a}function Ry(e,t){const n=T(e,t);return Ne(n)}function Qt(e,t={}){const n=ky.encode(e);return typeof t.size=="number"?(rt(n,{size:t.size}),gn(n,{dir:"right",size:t.size})):n}function ye(e,t){const n=t||"hex",r=Gd(Qe(e,{strict:!1})?Tt(e):e);return n==="bytes"?r:Q(r)}const By=e=>ye(Tt(e));function Oy(e){return By(e)}function $y(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new _("Unable to normalize signature.");return s}const zy=e=>{const t=typeof e=="string"?e:Rs(e);return $y(t)};function xl(e){return Oy(zy(e))}const Hs=xl;let fe=class extends _{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Gr=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ia=new Gr(8192);function qr(e,t){if(Ia.has(`${e}.${t}`))return Ia.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ye(Qt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const a=`0x${s.join("")}`;return Ia.set(`${e}.${t}`,a),a}function Nn(e,t){if(!oe(e,{strict:!1}))throw new fe({address:e});return qr(e,t)}const My=/^0x[a-fA-F0-9]{40}$/,Pa=new Gr(8192);function oe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Pa.has(r))return Pa.get(r);const s=My.test(e)?e.toLowerCase()===e?!0:n?qr(e)===e:!0:!1;return Pa.set(r,s),s}function He(e){return typeof e[0]=="string"?Ze(e):Dy(e)}function Dy(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ze(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function dn(e,t,n,{strict:r}={}){return Qe(e,{strict:!1})?Si(e,t,n,{strict:r}):Al(e,t,n,{strict:r})}function _l(e,t){if(typeof t=="number"&&t>0&&t>ue(e)-1)throw new bl({offset:t,position:"start",size:ue(e)})}function El(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ue(e)!==n-t)throw new bl({offset:n,position:"end",size:ue(e)})}function Al(e,t,n,{strict:r}={}){_l(e,t);const s=e.slice(t,n);return r&&El(s,t,n),s}function Si(e,t,n,{strict:r}={}){_l(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&El(s,t,n),s}const Ly=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Tl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Gt(e,t){if(e.length!==t.length)throw new py({expectedLength:e.length,givenLength:t.length});const n=Fy({params:e,values:t}),r=Ao(n);return r.length===0?"0x":r}function Fy({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Eo({param:e[r],value:t[r]}));return n}function Eo({param:e,value:t}){const n=To(e.type);if(n){const[r,s]=n;return jy(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Wy(t,{param:e});if(e.type==="address")return Uy(t);if(e.type==="bool")return Gy(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Tl.exec(e.type)??[];return qy(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Vy(t,{param:e});if(e.type==="string")return Hy(t);throw new wy(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ao(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=ue(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(T(t+s,{size:32})),r.push(o),s+=ue(o)):n.push(o)}return He([...n,...r])}function Uy(e){if(!oe(e))throw new fe({address:e});return{dynamic:!1,encoded:Lt(e.toLowerCase())}}function jy(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new yl(e);if(!r&&e.length!==t)throw new ly({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let i=0;i<e.length;i++){const o=Eo({param:n,value:e[i]});o.dynamic&&(s=!0),a.push(o)}if(r||s){const i=Ao(a);if(r){const o=T(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?He([o,i]):o}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:He(a.map(({encoded:i})=>i))}}function Vy(e,{param:t}){const[,n]=t.type.split("bytes"),r=ue(e);if(!n){let s=e;return r%32!==0&&(s=Lt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:He([Lt(T(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new fy({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Lt(e,{dir:"right"})}}function Gy(e){if(typeof e!="boolean")throw new _(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Lt(vl(e))}}function qy(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new wl({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:T(e,{size:32,signed:t})}}function Hy(e){const t=jn(e),n=Math.ceil(ue(t)/32),r=[];for(let s=0;s<n;s++)r.push(Lt(dn(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:He([Lt(T(ue(t),{size:32})),...r])}}function Wy(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],i=Array.isArray(e)?s:a.name,o=Eo({param:a,value:e[i]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ao(r):He(r.map(({encoded:s})=>s))}}function To(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Hr=e=>dn(xl(e),0,4);function wn(e){const{abi:t,args:n=[],name:r}=e,s=Qe(r,{strict:!1}),a=t.filter(o=>s?o.type==="function"?Hr(o)===r:o.type==="event"?Hs(o)===r:!1:"name"in o&&o.name===r);if(a.length===0)return;if(a.length===1)return a[0];let i;for(const o of a){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in o&&o.inputs[d];return f?Ii(u,f):!1})){if(i&&"inputs"in i&&i.inputs){const u=Sl(o.inputs,i.inputs,n);if(u)throw new by({abiItem:o,type:u[0]},{abiItem:i,type:u[1]})}i=o}}return i||a[0]}function Ii(e,t){const n=typeof e,r=t.type;switch(r){case"address":return oe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Ii(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ii(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Sl(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Sl(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?oe(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?oe(n[r],{strict:!1}):!1)return i}}const ou="/docs/contract/encodeEventTopics";function Wr(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=wn({abi:t,name:n});if(!c)throw new su(n,{docsPath:ou});s=c}if(s.type!=="event")throw new su(void 0,{docsPath:ou});const a=Xe(s),i=Hs(a);let o=[];if(r&&"inputs"in s){const c=s.inputs?.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(d=>r[d.name])??[]:[];u.length>0&&(o=c?.map((d,f)=>Array.isArray(u[f])?u[f].map((l,p)=>cu({param:d,value:u[f][p]})):typeof u[f]<"u"&&u[f]!==null?cu({param:d,value:u[f]}):null)??[])}return[i,...o]}function cu({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ye(Tt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new _y(e.type);return Gt([e],[t])}function Ws(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:a,transport:i})=>{a==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Il(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=t,u=Ws(e,{method:"eth_newFilter"}),d=a?Wr({abi:r,args:s,eventName:a}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?T(i):i,toBlock:typeof c=="bigint"?T(c):c,topics:d}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:!!o,type:"event"}}function ce(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const uu="/docs/contract/encodeFunctionData";function Zy(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=wn({abi:t,args:n,name:r});if(!a)throw new Un(r,{docsPath:uu});s=a}if(s.type!=="function")throw new Un(void 0,{docsPath:uu});return{abi:[s],functionName:Hr(Xe(s))}}function Se(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Zy(e),s=n[0],a=r,i="inputs"in s&&s.inputs?Gt(s.inputs,t??[]):void 0;return Ze([a,i??"0x"])}const Ky={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Pl={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Yy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let du=class extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Cl=class extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Jy=class extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Xy={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Jy({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Cl({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new du({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new du({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function So(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Xy);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Qy(e,t={}){typeof t.size<"u"&&rt(e,{size:t.size});const n=pe(e,t);return re(n,t)}function eb(e,t={}){let n=e;if(typeof t.size<"u"&&(rt(n,{size:t.size}),n=qe(n)),n.length>1||n[0]>1)throw new Ay(n);return!!n[0]}function St(e,t={}){typeof t.size<"u"&&rt(e,{size:t.size});const n=pe(e,t);return Me(n,t)}function tb(e,t={}){let n=e;return typeof t.size<"u"&&(rt(n,{size:t.size}),n=qe(n,{dir:"right"})),new TextDecoder().decode(n)}function Zr(e,t){const n=typeof t=="string"?Ne(t):t,r=So(n);if(ue(n)===0&&e.length>0)throw new Vr;if(ue(t)&&ue(t)<32)throw new fl({data:typeof t=="string"?t:pe(t),params:e,size:ue(t)});let s=0;const a=[];for(let i=0;i<e.length;++i){const o=e[i];r.setPosition(s);const[c,u]=Rn(r,o,{staticPosition:0});s+=u,a.push(c)}return a}function Rn(e,t,{staticPosition:n}){const r=To(t.type);if(r){const[s,a]=r;return rb(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return ob(e,t,{staticPosition:n});if(t.type==="address")return nb(e);if(t.type==="bool")return sb(e);if(t.type.startsWith("bytes"))return ab(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ib(e,t);if(t.type==="string")return cb(e,{staticPosition:n});throw new vy(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const lu=32,Pi=32;function nb(e){const t=e.readBytes(32);return[qr(pe(Al(t,-20))),32]}function rb(e,t,{length:n,staticPosition:r}){if(!n){const i=St(e.readBytes(Pi)),o=r+i,c=o+lu;e.setPosition(o);const u=St(e.readBytes(lu)),d=gr(t);let f=0;const l=[];for(let p=0;p<u;++p){e.setPosition(c+(d?p*32:f));const[h,m]=Rn(e,t,{staticPosition:c});f+=m,l.push(h)}return e.setPosition(r+32),[l,32]}if(gr(t)){const i=St(e.readBytes(Pi)),o=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[d]=Rn(e,t,{staticPosition:o});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[o,c]=Rn(e,t,{staticPosition:r+s});s+=c,a.push(o)}return[a,s]}function sb(e){return[eb(e.readBytes(32),{size:32}),32]}function ab(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=St(e.readBytes(32));e.setPosition(n+i);const o=St(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[pe(c),32]}return[pe(e.readBytes(Number.parseInt(s,10),32)),32]}function ib(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Qy(s,{signed:n}):St(s,{signed:n}),32]}function ob(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let a=0;if(gr(t)){const i=St(e.readBytes(Pi)),o=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+a);const[d,f]=Rn(e,u,{staticPosition:o});a+=f,s[r?c:u?.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const o=t.components[i],[c,u]=Rn(e,o,{staticPosition:n});s[r?i:o?.name]=c,a+=u}return[s,a]}function cb(e,{staticPosition:t}){const n=St(e.readBytes(32)),r=t+n;e.setPosition(r);const s=St(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),i=tb(qe(a));return e.setPosition(t+32),[i,32]}function gr(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(gr);const n=To(e.type);return!!(n&&gr({...e,type:n[1]}))}function ub(e){const{abi:t,data:n}=e,r=dn(n,0,4);if(r==="0x")throw new Vr;const a=[...t||[],Pl,Yy].find(i=>i.type==="error"&&r===Hr(Xe(i)));if(!a)throw new pl(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Zr(a.inputs,dn(n,4)):void 0,errorName:a.name}}const he=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function kl({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?he(t[a]):t[a]}`).join(", ")})`}const db={gwei:9,wei:18},lb={ether:-9,wei:9};function Nl(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Io(e,t="wei"){return Nl(e,db[t])}function Re(e,t="wei"){return Nl(e,lb[t])}class fb extends _{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class pb extends _{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function fu(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function hb(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=fu(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=fu(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Kr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class mb extends _{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class yb extends _{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class bb extends _{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Kr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class gb extends _{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class wb extends _{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l}){const p=Kr({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:f,value:typeof l<"u"&&`${Io(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Re(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Re(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Re(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Rl extends _{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let i="Transaction";r&&a!==void 0&&(i=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(i=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(i=`Transaction at block number "${n}" at index "${a}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Bl extends _{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Ol extends _{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class vb extends _{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const xb=e=>e,Po=e=>e;class $l extends _{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l,stateOverride:p}){const h=n?ce(n):void 0;let m=Kr({from:h?.address,to:f,value:typeof l<"u"&&`${Io(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Re(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Re(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Re(u)} gwei`,nonce:d});p&&(m+=`
${hb(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class zl extends _{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:i,sender:o}){const c=wn({abi:n,args:r,name:i}),u=c?kl({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Xe(c,{includeName:!0}):void 0,f=Kr({address:s&&xb(s),function:d,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=o}}class Ci extends _{constructor({abi:t,data:n,functionName:r,message:s}){let a,i,o,c;if(n&&n!=="0x")try{i=ub({abi:t,data:n});const{abiItem:d,errorName:f,args:l}=i;if(f==="Error")c=l[0];else if(f==="Panic"){const[p]=l;c=Ky[p]}else{const p=d?Xe(d,{includeName:!0}):void 0,h=d&&l?kl({abiItem:d,args:l,includeFunctionName:!1,includeName:!1}):void 0;o=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(d){a=d}else s&&(c=s);let u;a instanceof pl&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class _b extends _{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Eb extends _{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Zs extends _{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class mr extends _{constructor({body:t,cause:n,details:r,headers:s,status:a,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${Po(i)}`,t&&`Request body: ${he(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=a,this.url=i}}class Co extends _{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Po(r)}`,`Request body: ${he(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class pu extends _{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Po(n)}`,`Request body: ${he(t)}`],name:"TimeoutError"})}}const Ab=-1;class $e extends _{constructor(t,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||t.name,this.code=t instanceof Co?t.code:n??Ab}}class Le extends $e{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class wr extends $e{constructor(t){super(t,{code:wr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class vr extends $e{constructor(t){super(t,{code:vr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class xr extends $e{constructor(t,{method:n}={}){super(t,{code:xr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class _r extends $e{constructor(t){super(t,{code:_r.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(_r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ln extends $e{constructor(t){super(t,{code:ln.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class fn extends $e{constructor(t){super(t,{code:fn.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Er extends $e{constructor(t){super(t,{code:Er.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Er,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ar extends $e{constructor(t){super(t,{code:Ar.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tr extends $e{constructor(t){super(t,{code:Tr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Kt extends $e{constructor(t,{method:n}={}){super(t,{code:Kt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Vn extends $e{constructor(t){super(t,{code:Vn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Sr extends $e{constructor(t){super(t,{code:Sr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Bn extends Le{constructor(t){super(t,{code:Bn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ir extends Le{constructor(t){super(t,{code:Ir.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Pr extends Le{constructor(t,{method:n}={}){super(t,{code:Pr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Cr extends Le{constructor(t){super(t,{code:Cr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class kr extends Le{constructor(t){super(t,{code:kr.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Nr extends Le{constructor(t){super(t,{code:Nr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gn extends Le{constructor(t){super(t,{code:Gn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Rr extends Le{constructor(t){super(t,{code:Rr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Br extends Le{constructor(t){super(t,{code:Br.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Or extends Le{constructor(t){super(t,{code:Or.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class $r extends Le{constructor(t){super(t,{code:$r.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class zr extends Le{constructor(t){super(t,{code:zr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class qn extends Le{constructor(t){super(t,{code:qn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Tb extends $e{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Sb=3;function pn(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:i}){const o=e instanceof Zs?e:e instanceof _?e.walk(h=>"data"in h)||e.walk():{},{code:c,data:u,details:d,message:f,shortMessage:l}=o,p=e instanceof Vr?new _b({functionName:a}):[Sb,ln.code].includes(c)&&(u||d||f||l)?new Ci({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof Co?d:l??f}):e;return new zl(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}function Ml(e){const t=ye(`0x${e.substring(4)}`).substring(26);return qr(`0x${t}`)}const Ib="modulepreload",Pb=function(e){return"/"+e},hu={},Dl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Pb(u),u in hu)return;hu[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":Ib,d||(l.as="script"),l.crossOrigin="",l.href=u,o&&l.setAttribute("nonce",o),document.head.appendChild(l),d)return new Promise((p,h)=>{l.addEventListener("load",p),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};async function Cb({hash:e,signature:t}){const n=Qe(e)?e:Q(e),{secp256k1:r}=await Dl(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>M5);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:f,yParity:l}=t,p=Number(l??f),h=mu(p);return new r.Signature(re(u),re(d)).addRecoveryBit(h)}const i=Qe(t)?t:Q(t);if(ue(i)!==65)throw new Error("invalid signature length");const o=Me(`0x${i.slice(130)}`),c=mu(o);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function mu(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ll({hash:e,signature:t}){return Ml(await Cb({hash:e,signature:t}))}function kt(e,t="hex"){const n=Fl(e),r=So(new Uint8Array(n.length));return n.encode(r),t==="hex"?pe(r.bytes):r.bytes}function Fl(e){return Array.isArray(e)?kb(e.map(t=>Fl(t))):Nb(e)}function kb(e){const t=e.reduce((s,a)=>s+a.length,0),n=Ul(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function Nb(e){const t=typeof e=="string"?Ne(e):e,n=Ul(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Ul(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new _("Length is too large.")}function jl(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=ye(Ze(["0x05",kt([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?Ne(a):a}async function Ks(e){const{authorization:t,signature:n}=e;return Ll({hash:jl(t),signature:n??t})}class Rb extends _{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l}){const p=Kr({from:n?.address,to:f,value:typeof l<"u"&&`${Io(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Re(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Re(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Re(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class In extends _{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class hn extends _{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Re(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(hn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ki extends _{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Re(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(ki,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ni extends _{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ri extends _{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Bi extends _{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Bi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Oi extends _{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Oi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $i extends _{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class zi extends _{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(zi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Mi extends _{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Mi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Mr extends _{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Re(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Re(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Yr extends _{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Ys(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof _?e.walk(s=>s?.code===In.code):e;return r instanceof _?new In({cause:e,message:r.details}):In.nodeMessage.test(n)?new In({cause:e,message:e.details}):hn.nodeMessage.test(n)?new hn({cause:e,maxFeePerGas:t?.maxFeePerGas}):ki.nodeMessage.test(n)?new ki({cause:e,maxFeePerGas:t?.maxFeePerGas}):Ni.nodeMessage.test(n)?new Ni({cause:e,nonce:t?.nonce}):Ri.nodeMessage.test(n)?new Ri({cause:e,nonce:t?.nonce}):Bi.nodeMessage.test(n)?new Bi({cause:e,nonce:t?.nonce}):Oi.nodeMessage.test(n)?new Oi({cause:e}):$i.nodeMessage.test(n)?new $i({cause:e,gas:t?.gas}):zi.nodeMessage.test(n)?new zi({cause:e,gas:t?.gas}):Mi.nodeMessage.test(n)?new Mi({cause:e}):Mr.nodeMessage.test(n)?new Mr({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Yr({cause:e})}function Bb(e,{docsPath:t,...n}){const r=(()=>{const s=Ys(e,n);return s instanceof Yr?e:s})();return new Rb(r,{docsPath:t,...n})}function Jr(e,{format:t}){if(!t)return{};const n={};function r(a){const i=Object.keys(a);for(const o of i)o in e&&(n[o]=e[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const s=t(e||{});return r(s),n}function Js(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,a)=>{const i=t(s,a);if(n)for(const o of n)delete i[o];return{...i,...r(s,a)}},type:e})}const Ob={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function qt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=zb(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>pe(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=T(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=T(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=T(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=T(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Ob[e.type]),typeof e.value<"u"&&(n.value=T(e.value)),n}const $b=Js("transactionRequest",qt);function zb(e){return e.map(t=>({address:t.address,r:t.r?T(BigInt(t.r)):t.r,s:t.s?T(BigInt(t.s)):t.s,chainId:T(t.chainId),nonce:T(t.nonce),...typeof t.yParity<"u"?{yParity:T(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:T(t.v)}:{}}))}function yu(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new au({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new au({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Mb(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,i={};if(a!==void 0&&(i.code=a),t!==void 0&&(i.balance=T(t)),n!==void 0&&(i.nonce=T(n)),r!==void 0&&(i.state=yu(r)),s!==void 0){if(i.state)throw new pb;i.stateDiff=yu(s)}return i}function ko(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!oe(n,{strict:!1}))throw new fe({address:n});if(t[n])throw new fb({address:n});t[n]=Mb(r)}return t}const Db=2n**16n-1n,Xs=2n**256n-1n;function $t(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,i=t?ce(t):void 0;if(i&&!oe(i.address))throw new fe({address:i.address});if(a&&!oe(a))throw new fe({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new mb;if(r&&r>Xs)throw new hn({maxFeePerGas:r});if(s&&r&&s>r)throw new Mr({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Lb extends _{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class No extends _{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Fb extends _{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Re(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Vl extends _{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Gl={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Qs(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Me(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Me(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Gl[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Ub(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const ql=Js("transaction",Qs);function Ub(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ro(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Qs(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Hl=Js("block",Ro);async function ot(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,i=n!==void 0?T(n):void 0;let o=null;if(t?o=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):o=await e.request({method:"eth_getBlockByNumber",params:[i||r,a]},{dedupe:!!i}),!o)throw new Vl({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Ro)(o,"getBlock")}async function Bo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function jb(e,t){return Wl(e,t)}async function Wl(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const o=n||await F(e,ot,"getBlock")({}),c=await a({block:o,client:e,request:s});if(c===null)throw new Error;return c}if(typeof a<"u")return a;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return re(i)}catch{const[a,i]=await Promise.all([n?Promise.resolve(n):F(e,ot,"getBlock")({}),F(e,Bo,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new No;const o=i-a.baseFeePerGas;return o<0n?0n:o}}async function Vb(e,t){return Di(e,t)}async function Di(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Lb;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await F(e,ot,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(l!==null)return l}if(a==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new No;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Wl(e,{block:d,chain:r,request:s}),p=u(d.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??p+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await F(e,Bo,"getGasPrice")({}))}}async function Oo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return Me(s)}function $o(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>Ne(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>pe(a))}function zo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ne(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ne(i)):e.commitments,a=[];for(let i=0;i<r.length;i++){const o=r[i],c=s[i];a.push(Uint8Array.from(t.computeBlobKzgProof(o,c)))}return n==="bytes"?a:a.map(i=>pe(i))}function Zl(e,t){const n=t||"hex",r=Dp(Qe(e,{strict:!1})?Tt(e):e);return n==="bytes"?r:Q(r)}function Gb(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Zl(t,"bytes");return s.set([n],0),r==="bytes"?s:pe(s)}function Kl(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(Gb({commitment:a,to:r,version:n}));return s}const bu=6,Yl=32,Mo=4096,Jl=Yl*Mo,gu=Jl*bu-1-1*Mo*bu,Xl=1;class qb extends _{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Ql extends _{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Hb extends _{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Wb extends _{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Xl}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Zb(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ne(e.data):e.data,r=ue(n);if(!r)throw new Ql;if(r>gu)throw new qb({maxSize:gu,size:r});const s=[];let a=!0,i=0;for(;a;){const o=So(new Uint8Array(Jl));let c=0;for(;c<Mo;){const u=n.slice(i,i+(Yl-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),a=!1;break}c++,i+=31}s.push(o)}return t==="bytes"?s.map(o=>o.bytes):s.map(o=>pe(o.bytes))}function ef(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Zb({data:t,to:r}),a=e.commitments??$o({blobs:s,kzg:n,to:r}),i=e.proofs??zo({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let c=0;c<s.length;c++)o.push({blob:s[c],commitment:a[c],proof:i[c]});return o}function tf(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new bb({transaction:e})}async function zt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Me(t)}const Do=["blobVersionedHashes","chainId","fees","gas","nonce","type"],wu=new Map;async function er(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:i,nonce:o,nonceManager:c,parameters:u=Do,type:d}=t,f=n&&ce(n),l={...t,...f?{from:f?.address}:{}};let p;async function h(){return p||(p=await F(e,ot,"getBlock")({blockTag:"latest"}),p)}let m;async function w(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await F(e,zt,"getChainId")({}),m))}if(u.includes("nonce")&&typeof o>"u"&&f)if(c){const b=await w();l.nonce=await c.consume({address:f.address,chainId:b,client:e})}else l.nonce=await F(e,Oo,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const b=$o({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const v=Kl({commitments:b,to:"hex"});l.blobVersionedHashes=v}if(u.includes("sidecars")){const v=zo({blobs:r,commitments:b,kzg:i}),g=ef({blobs:r,commitments:b,proofs:v,to:"hex"});l.sidecars=g}}if(u.includes("chainId")&&(l.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{l.type=tf(l)}catch{let b=wu.get(e.uid);typeof b>"u"&&(b=typeof(await h())?.baseFeePerGas=="bigint",wu.set(e.uid,b)),l.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await h(),{maxFeePerGas:v,maxPriorityFeePerGas:g}=await Di(e,{block:b,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new Fb({maxPriorityFeePerGas:g});l.maxPriorityFeePerGas=g,l.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new No;if(typeof t.gasPrice>"u"){const b=await h(),{gasPrice:v}=await Di(e,{block:b,chain:s,request:l,type:"legacy"});l.gasPrice=v}}return u.includes("gas")&&typeof a>"u"&&(l.gas=await F(e,Lo,"estimateGas")({...l,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),$t(l),delete l.parameters,l}async function Lo(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?ce(n):void 0,a=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:i,authorizationList:o,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:l,gas:p,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,value:g,stateOverride:y,...x}=r?await er(e,{...t,parameters:a}):t,E=(typeof d=="bigint"?T(d):void 0)||f,N=ko(y),z=await(async()=>{if(x.to)return x.to;if(o&&o.length>0)return await Ks({authorization:o[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`")})})();$t(t);const B=e.chain?.formatters?.transactionRequest?.format,O=(B||qt)({...Jr(x,{format:B}),account:s,accessList:i,authorizationList:o,blobs:c,blobVersionedHashes:u,data:l,gas:p,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:z,value:g},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:N?[O,E??e.experimental_blockTag??"latest",N]:E?[O,E]:[O]}))}catch(i){throw Bb(i,{...t,account:s,chain:e.chain})}}async function Kb(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:i,...o}=t,c=Se({abi:n,args:s,functionName:a});try{return await F(e,Lo,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...o})}catch(u){const d=o.account?ce(o.account):void 0;throw pn(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:d?.address})}}function Xr(e,t){if(!oe(e,{strict:!1}))throw new fe({address:e});if(!oe(t,{strict:!1}))throw new fe({address:t});return e.toLowerCase()===t.toLowerCase()}const vu="/docs/contract/decodeEventLog";function Fo(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[i,...o]=s;if(!i)throw new my({docsPath:vu});const c=t.find(m=>m.type==="event"&&i===Hs(Xe(m)));if(!(c&&"name"in c)||c.type!=="event")throw new hl(i,{docsPath:vu});const{name:u,inputs:d}=c,f=d?.some(m=>!("name"in m&&m.name)),l=f?[]:{},p=d.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const[w,b]=p[m],v=o[m];if(!v)throw new qs({abiItem:c,param:w});l[f?b:w.name||b]=Yb({param:w,value:v})}const h=d.filter(m=>!("indexed"in m&&m.indexed));if(h.length>0){if(n&&n!=="0x")try{const m=Zr(h,n);if(m)if(f)for(let w=0;w<d.length;w++)l[w]=l[w]??m.shift();else for(let w=0;w<h.length;w++)l[h[w].name]=m[w]}catch(m){if(a)throw m instanceof fl||m instanceof Cl?new br({abiItem:c,data:n,params:h,size:ue(n)}):m}else if(a)throw new br({abiItem:c,data:"0x",params:h,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Yb({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Zr([e],t)||[])[0]}function Uo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const o=t.find(u=>u.type==="event"&&i.topics[0]===Hs(u));if(!o)return null;const c=Fo({...i,abi:[o],strict:s});return a&&!a.includes(c.eventName)||!Jb({args:c.args,inputs:o.inputs,matchArgs:n})?null:{...c,...i}}catch(o){let c,u;if(o instanceof hl)return null;if(o instanceof br||o instanceof qs){if(s)return null;c=o.abiItem.name,u=o.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Jb(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,i,o){try{return a.type==="address"?Xr(i,o):a.type==="string"||a.type==="bytes"?ye(Tt(i))===o:i===o}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const o=n[i];return o?(Array.isArray(a)?a:[a]).some(u=>s(o,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const o=n.find(u=>u.name===a);return o?(Array.isArray(i)?i:[i]).some(u=>s(o,u,t[a])):!1}):!1}function ft(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function jo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const u=c??!1,d=i??(a?[a]:void 0);let f=[];d&&(f=[d.flatMap(m=>Wr({abi:[m],eventName:m.name,args:i?void 0:o}))],a&&(f=f[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?T(r):r,toBlock:typeof s=="bigint"?T(s):s}]});const p=l.map(h=>ft(h));return d?Uo({abi:d,args:o,logs:p,strict:u}):p}async function nf(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:u}=t,d=i?wn({abi:n,name:i}):void 0,f=d?void 0:n.filter(l=>l.type==="event");return F(e,jo,"getLogs")({address:r,args:s,blockHash:a,event:d,events:f,fromBlock:o,toBlock:c,strict:u})}const Ca="/docs/contract/decodeFunctionResult";function vn(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const o=wn({abi:t,args:n,name:r});if(!o)throw new Un(r,{docsPath:Ca});a=o}if(a.type!=="function")throw new Un(void 0,{docsPath:Ca});if(!a.outputs)throw new ml(a.name,{docsPath:Ca});const i=Zr(a.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Xb="0.1.1";function Qb(){return Xb}class Z extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Z){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof Z&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,o=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Qb()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return rf(this,t)}}function rf(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?rf(e.cause,t):t?null:e}function Qr(e,t){if(Pn(e)>t)throw new y1({givenSize:Pn(e),maxSize:t})}const bt={zero:48,nine:57,A:65,F:70,a:97,f:102};function xu(e){if(e>=bt.zero&&e<=bt.nine)return e-bt.zero;if(e>=bt.A&&e<=bt.F)return e-(bt.A-10);if(e>=bt.a&&e<=bt.f)return e-(bt.a-10)}function e1(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new b1({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=n==="right";s[i?a:r-a-1]=e[i?a:e.length-a-1]}return s}function sf(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function ea(e,t){if(De(e)>t)throw new E1({givenSize:De(e),maxSize:t})}function t1(e,t){if(typeof t=="number"&&t>0&&t>De(e)-1)throw new hf({offset:t,position:"start",size:De(e)})}function n1(e,t,n){if(typeof t=="number"&&typeof n=="number"&&De(e)!==n-t)throw new hf({offset:n,position:"end",size:De(e)})}function af(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new A1({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const r1="#__bigint";function of(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+r1:s,n)}const s1=new TextDecoder,a1=new TextEncoder;function i1(e){return e instanceof Uint8Array?e:typeof e=="string"?cf(e):o1(e)}function o1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function cf(e,t={}){const{size:n}=t;let r=e;n&&(ea(e,n),r=yn(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const u=xu(s.charCodeAt(c++)),d=xu(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new Z(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[o]=u*16+d}return i}function c1(e,t={}){const{size:n}=t,r=a1.encode(e);return typeof n=="number"?(Qr(r,n),u1(r,n)):r}function u1(e,t){return e1(e,{dir:"right",size:t})}function Pn(e){return e.length}function d1(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function l1(e,t={}){const{size:n}=t;typeof n<"u"&&Qr(e,n);const r=tt(e,t);return lf(r,t)}function f1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Qr(r,n),r=uf(r)),r.length>1||r[0]>1)throw new m1(r);return!!r[0]}function It(e,t={}){const{size:n}=t;typeof n<"u"&&Qr(e,n);const r=tt(e,t);return ff(r,t)}function p1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Qr(r,n),r=h1(r)),s1.decode(r)}function uf(e){return sf(e,{dir:"left"})}function h1(e){return sf(e,{dir:"right"})}class m1 extends Z{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let y1=class extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},b1=class extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const g1=new TextEncoder,w1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function v1(e,t={}){const{strict:n=!1}=t;if(!e)throw new _u(e);if(typeof e!="string")throw new _u(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Eu(e);if(!e.startsWith("0x"))throw new Eu(e)}function et(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function x1(e){return e instanceof Uint8Array?tt(e):Array.isArray(e)?tt(new Uint8Array(e)):e}function df(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ea(n,t.size),mn(n,t.size)):n}function tt(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=w1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ea(r,t.size),yn(r,t.size)):r}function _e(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const u=typeof e=="bigint"?"n":"";throw new pf({max:a?`${a}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?mn(c,r):c}function Vo(e,t={}){return tt(g1.encode(e),t)}function mn(e,t){return af(e,{dir:"left",size:t})}function yn(e,t){return af(e,{dir:"right",size:t})}function ut(e,t,n,r={}){const{strict:s}=r;t1(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&n1(a,t,n),a}function De(e){return Math.ceil((e.length-2)/2)}function lf(e,t={}){const{signed:n}=t;t.size&&ea(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,i=a>>1n;return r<=i?r:r-a-1n}function ff(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:lf(e,t))}function _1(e,t={}){const{strict:n=!1}=t;try{return v1(e,{strict:n}),!0}catch{return!1}}class pf extends Z{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class _u extends Z{constructor(t){super(`Value \`${typeof t=="object"?of(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Eu extends Z{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class E1 extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class hf extends Z{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class A1 extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function T1(e){return{address:e.address,amount:_e(e.amount),index:_e(e.index),validatorIndex:_e(e.validatorIndex)}}function mf(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:_e(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:_e(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:_e(e.gasLimit)},...typeof e.number=="bigint"&&{number:_e(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:_e(e.prevRandao)},...typeof e.time=="bigint"&&{time:_e(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(T1)}}}const Os=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Li=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],yf=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],bf=[...yf,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],S1=[...yf,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Au=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Tu=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],gf=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Su=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],I1="0x82ad56cb",wf="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",P1="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",C1="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Go="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Fi extends _{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class k1 extends _{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class N1 extends _{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class vf extends _{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class es extends _{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const ka="/docs/contract/encodeDeployData";function ta(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ll({docsPath:ka});if(!("inputs"in s))throw new Bs({docsPath:ka});if(!s.inputs||s.inputs.length===0)throw new Bs({docsPath:ka});const a=Gt(s.inputs,n);return Ze([r,a])}function tr({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Fi({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Fi({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function xf(e,{docsPath:t,...n}){const r=(()=>{const s=Ys(e,n);return s instanceof Yr?e:s})();return new $l(r,{docsPath:t,...n})}function qo(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Na=new Map;function _f({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const d=c();i();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let p=0;p<d.length;p++){const{resolve:h}=d[p];h?.([l[p],l])}}).catch(l=>{for(let p=0;p<d.length;p++){const{reject:h}=d[p];h?.(l)}})},i=()=>Na.delete(t),o=()=>c().map(({args:d})=>d),c=()=>Na.get(t)||[],u=d=>Na.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:f,resolve:l,reject:p}=qo();return n?.([...o(),d])&&a(),c().length>0?(u({args:d,resolve:l,reject:p}),f):(u({args:d,resolve:l,reject:p}),setTimeout(a,r),f)}}}async function na(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:u,code:d,data:f,factory:l,factoryData:p,gas:h,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:g,to:y,value:x,stateOverride:A,...E}=t,N=n?ce(n):void 0;if(d&&(l||p))throw new _("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&y)throw new _("Cannot provide both `code` & `to` as parameters.");const z=d&&f,B=l&&p&&y&&f,R=z||B,O=z?Ef({code:d,data:f}):B?O1({data:f,factory:l,factoryData:p,to:y}):f;try{$t(t);const Y=(typeof a=="bigint"?T(a):void 0)||i,P=u?mf(u):void 0,S=ko(A),D=e.chain?.formatters?.transactionRequest?.format,U=(D||qt)({...Jr(E,{format:D}),accessList:o,account:N,authorizationList:r,blobs:c,data:O,gas:h,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:g,to:R?void 0:y,value:x},"call");if(s&&R1({request:U})&&!S&&!P)try{return await B1(e,{...U,blockNumber:a,blockTag:i})}catch(ae){if(!(ae instanceof vf)&&!(ae instanceof Fi))throw ae}const H=(()=>{const ae=[U,Y];return S&&P?[...ae,S,P]:S?[...ae,S]:P?[...ae,{},P]:ae})(),J=await e.request({method:"eth_call",params:H});return J==="0x"?{data:void 0}:{data:J}}catch(L){const Y=$1(L),{offchainLookup:P,offchainLookupSignature:S}=await Dl(async()=>{const{offchainLookup:D,offchainLookupSignature:k}=await import("./assets/ccip-BrbBtG9A.js");return{offchainLookup:D,offchainLookupSignature:k}},__vite__mapDeps([0,1]));if(e.ccipRead!==!1&&Y?.slice(0,10)===S&&y)return{data:await P(e,{data:Y,to:y})};throw R&&Y?.slice(0,10)==="0x101bb98d"?new Eb({factory:l}):xf(L,{...t,account:N,chain:e.chain})}}function R1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(I1)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function B1(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",data:o,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return tr({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new vf})(),f=(typeof a=="bigint"?T(a):void 0)||i,{schedule:l}=_f({id:`${e.uid}.${f}`,wait:s,shouldSplitBatch(m){return m.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async m=>{const w=m.map(g=>({allowFailure:!0,callData:g.data,target:g.to})),b=Se({abi:Os,args:[w],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:Ef({code:Go,data:b})}:{to:u,data:b}},f]});return vn({abi:Os,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:h}]=await l({data:o,to:c});if(!h)throw new Zs({data:p});return p==="0x"?{data:void 0}:{data:p}}function Ef(e){const{code:t,data:n}=e;return ta({abi:cl(["constructor(bytes, bytes)"]),bytecode:wf,args:[t,n]})}function O1(e){const{data:t,factory:n,factoryData:r,to:s}=e;return ta({abi:cl(["constructor(address, bytes, address, bytes)"]),bytecode:P1,args:[s,t,n,r]})}function $1(e){if(!(e instanceof _))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function nt(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,o=Se({abi:n,args:s,functionName:a});try{const{data:c}=await F(e,na,"call")({...i,data:o,to:r});return vn({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw pn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function z1(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=t,c=o.account?ce(o.account):e.account,u=Se({abi:n,args:s,functionName:i});try{const{data:d}=await F(e,na,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),f=vn({abi:n,args:s,functionName:i,data:d||"0x"}),l=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:f,request:{abi:l,address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(d){throw pn(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const Ra=new Map,Iu=new Map;let M1=0;function Nt(e,t,n){const r=++M1,s=()=>Ra.get(e)||[],a=()=>{const d=s();Ra.set(e,d.filter(f=>f.id!==r))},i=()=>{const d=s();if(!d.some(l=>l.id===r))return;const f=Iu.get(e);if(d.length===1&&f){const l=f();l instanceof Promise&&l.catch(()=>{})}a()},o=s();if(Ra.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return i;const c={};for(const d in t)c[d]=((...f)=>{const l=s();if(l.length!==0)for(const p of l)p.fns[d]?.(...f)});const u=n(c);return typeof u=="function"&&Iu.set(e,u),i}async function Ui(e){return new Promise(t=>setTimeout(t,e))}function nr(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const c=await n?.(o)??r;await Ui(c);const u=async()=>{s&&(await e({unpoll:a}),await Ui(r),u())};u()})(),a}const D1=new Map,L1=new Map;function F1(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=t(e,D1),r=t(e,L1);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function U1(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=F1(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const j1=e=>`blockNumber.${e}`;async function ts(e,{cacheTime:t=e.cacheTime}={}){const n=await U1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:j1(e.uid),cacheTime:t});return BigInt(n)}async function ra(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>ft(a));return!("abi"in t)||!t.abi?s:Uo({abi:t.abi,logs:s,strict:n})}async function sa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function V1(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=l??!1,b=he(["watchContractEvent",r,s,a,e.uid,i,f,w,o]);return Nt(b,{onLogs:u,onError:c},v=>{let g;o!==void 0&&(g=o-1n);let y,x=!1;const A=nr(async()=>{if(!x){try{y=await F(e,Il,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:w,fromBlock:o})}catch{}x=!0;return}try{let E;if(y)E=await F(e,ra,"getFilterChanges")({filter:y});else{const N=await F(e,ts,"getBlockNumber")({});g&&g<N?E=await F(e,nf,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:N,strict:w}):E=[],g=N}if(E.length===0)return;if(a)v.onLogs(E);else for(const N of E)v.onLogs([N])}catch(E){y&&E instanceof fn&&(x=!1),v.onError?.(E)}},{emitOnBegin:!0,interval:f});return async()=>{y&&await F(e,sa,"uninstallFilter")({filter:y}),A()}})})():(()=>{const w=l??!1,b=he(["watchContractEvent",r,s,a,e.uid,i,f,w]);let v=!0,g=()=>v=!1;return Nt(b,{onLogs:u,onError:c},y=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const N=e.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return N?N.value:e.transport}return e.transport})(),A=i?Wr({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await x.subscribe({params:["logs",{address:r,topics:A}],onData(N){if(!v)return;const z=N.result;try{const{eventName:B,args:R}=Fo({abi:n,data:z.data,topics:z.topics,strict:l}),O=ft(z,{args:R,eventName:B});y.onLogs([O])}catch(B){let R,O;if(B instanceof br||B instanceof qs){if(l)return;R=B.abiItem.name,O=B.abiItem.inputs?.some(Y=>!("name"in Y&&Y.name))}const L=ft(z,{args:O?[]:{},eventName:R});y.onLogs([L])}},onError(N){y.onError?.(N)}});g=E,v||g()}catch(x){c?.(x)}})(),()=>g()))})()}class ht extends _{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class en extends _{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function ns({chain:e,currentChainId:t}){if(!e)throw new N1;if(t!==e.id)throw new k1({chain:e,currentChainId:t})}function aa(e,{docsPath:t,...n}){const r=(()=>{const s=Ys(e,n);return s instanceof Yr?e:s})();return new wb(r,{docsPath:t,...n})}async function ia(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Ba=new Gr(128);async function rs(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,type:h,value:m,...w}=t;if(typeof n>"u")throw new ht({docsPath:"/docs/actions/wallet/sendTransaction"});const b=n?ce(n):null;try{$t(t);const v=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Ks({authorization:a[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let g;r!==null&&(g=await F(e,zt,"getChainId")({}),ns({currentChainId:g,chain:r}));const y=e.chain?.formatters?.transactionRequest?.format,A=(y||qt)({...Jr(w,{format:y}),accessList:s,account:b,authorizationList:a,blobs:i,chainId:g,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,to:v,type:h,value:m},"sendTransaction"),E=Ba.get(e.uid),N=E?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:N,params:[A]},{retryCount:0})}catch(z){if(E===!1)throw z;const B=z;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[A]},{retryCount:0}).then(R=>(Ba.set(e.uid,!0),R)).catch(R=>{const O=R;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(Ba.set(e.uid,!1),B):O});throw B}}if(b?.type==="local"){const g=await F(e,er,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,nonceManager:b.nonceManager,parameters:[...Do,"sidecars"],type:h,value:m,...w,to:v}),y=r?.serializers?.transaction,x=await b.signTransaction(g,{serializer:y});return await F(e,ia,"sendRawTransaction")({serializedTransaction:x})}throw b?.type==="smart"?new en({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new en({docsPath:"/docs/actions/wallet/sendTransaction",type:b?.type})}catch(v){throw v instanceof en?v:aa(v,{...t,account:b,chain:t.chain||void 0})}}async function Hn(e,t){return Hn.internal(e,rs,"sendTransaction",t)}(function(e){async function t(n,r,s,a){const{abi:i,account:o=n.account,address:c,args:u,dataSuffix:d,functionName:f,...l}=a;if(typeof o>"u")throw new ht({docsPath:"/docs/contract/writeContract"});const p=o?ce(o):null,h=Se({abi:i,args:u,functionName:f});try{return await F(n,r,s)({data:`${h}${d?d.replace("0x",""):""}`,to:c,account:p,...l})}catch(m){throw pn(m,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:p?.address})}}e.internal=t})(Hn||(Hn={}));class G1 extends _{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function $s(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const i=async({count:o=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:o,error:u}):t;d&&await Ui(d),i({count:o+1})};try{const u=await e();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});a(u)}};i()})}const Af={"0x0":"reverted","0x1":"success"};function Ho(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>ft(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Me(e.transactionIndex):null,status:e.status?Af[e.status]:null,type:e.type?Gl[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Tf=Js("transactionReceipt",Ho),Sf="0x5792579257925792579257925792579257925792579257925792579257925792",If=T(0,{size:32});async function Pf(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:i=32,forceAtomic:o=!1,id:c,version:u="2.0.0"}=t,d=n?ce(n):null,f=t.calls.map(l=>{const p=l,h=p.abi?Se({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?He([h,p.dataSuffix]):h,to:p.to,value:p.value?T(p.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:f,capabilities:r,chainId:T(s.id),from:d?.address,id:c,version:u}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const p=l;if(a&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Gn(new _(v,{details:v}))}if(o&&f.length>1){const b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new qn(new _(b,{details:b}))}const h=[];for(const b of f){const v=rs(e,{account:d,chain:s,data:b.data,to:b.to,value:b.value?re(b.value):void 0});h.push(v),i>0&&await new Promise(g=>setTimeout(g,i))}const m=await Promise.allSettled(h);if(m.every(b=>b.status==="rejected"))throw m[0].reason;const w=m.map(b=>b.status==="fulfilled"?b.value:If);return{id:He([...w,T(s.id,{size:32}),Sf])}}throw aa(l,{...t,account:d,chain:t.chain})}}async function Cf(e,t){async function n(d){if(d.endsWith(Sf.slice(2))){const l=qe(Si(d,-64,-32)),p=Si(d,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(w=>If.slice(2)!==w?e.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=h.some(w=>w===null)?100:h.every(w=>w?.status==="0x1")?200:h.every(w=>w?.status==="0x0")?500:600;return{atomic:!1,chainId:Me(l),receipts:h.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:a,version:i="2.0.0",...o}=await n(t.id),[c,u]=(()=>{const d=o.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...o,atomic:r,chainId:s?Me(s):void 0,receipts:a?.map(d=>({...d,blockNumber:re(d.blockNumber),gasUsed:re(d.gasUsed),status:Af[d.status]}))??[],statusCode:u,status:c,version:i}}async function kf(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:a=4,retryDelay:i=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:c=!1}=t,u=he(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:f,reject:l}=qo();let p;const h=Nt(u,{resolve:f,reject:l},m=>{const w=nr(async()=>{const b=v=>{clearTimeout(p),w(),v(),h()};try{const v=await $s(async()=>{const g=await F(e,Cf,"getCallsStatus")({id:n});if(c&&g.status==="failure")throw new G1(g);return g},{retryCount:a,delay:i});if(!s(v))return;b(()=>m.resolve(v))}catch(v){b(()=>m.reject(v))}},{interval:r,emitOnBegin:!0});return w});return p=o?setTimeout(()=>{h(),clearTimeout(p),l(new q1({id:n}))},o):void 0,await d}class q1 extends _{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const ji=256;let hs=ji,ms;function Nf(e=11){if(!ms||hs+e>ji*2){ms="",hs=0;for(let t=0;t<ji;t++)ms+=(256+Math.random()*256|0).toString(16).substring(1)}return ms.substring(hs,hs+++e)}function Rf(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:i="base"}=e,o=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=e.pollingInterval??u,f=e.cacheTime??d,l=e.account?ce(e.account):void 0,{config:p,request:h,value:m}=e.transport({chain:n,pollingInterval:d}),w={...p,...m},b={account:l,batch:t,cacheTime:f,ccipRead:r,chain:n,key:s,name:a,pollingInterval:d,request:h,transport:w,type:i,uid:Nf(),...o?{experimental_blockTag:o}:{}};function v(g){return y=>{const x=y(g);for(const E in b)delete x[E];const A={...g,...x};return Object.assign(A,{extend:v(A)})}}return Object.assign(b,{extend:v(b)})}function Wo(e){if(!(e instanceof _))return!1;const t=e.walk(n=>n instanceof Ci);return t instanceof Ci?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function H1(e){const{abi:t,data:n}=e,r=dn(n,0,4),s=t.find(a=>a.type==="function"&&r===Hr(Xe(a)));if(!s)throw new yy(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Zr(s.inputs,dn(n,4)):void 0}}const Oa="/docs/contract/encodeErrorResult";function Pu(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=wn({abi:t,args:r,name:n});if(!c)throw new ru(n,{docsPath:Oa});s=c}if(s.type!=="error")throw new ru(void 0,{docsPath:Oa});const a=Xe(s),i=Hr(a);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new hy(s.name,{docsPath:Oa});o=Gt(s.inputs,r)}return Ze([i,o])}const $a="/docs/contract/encodeFunctionResult";function W1(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=wn({abi:t,name:n});if(!i)throw new Un(n,{docsPath:$a});s=i}if(s.type!=="function")throw new Un(void 0,{docsPath:$a});if(!s.outputs)throw new ml(s.name,{docsPath:$a});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new yl(r)})();return Gt(s.outputs,a)}const oa="x-batch-gateway:true";async function Z1(e){const{data:t,ccipRequest:n}=e,{args:[r]}=H1({abi:Li,data:t}),s=[],a=[];return await Promise.all(r.map(async(i,o)=>{try{a[o]=i.urls.includes(oa)?await Z1({data:i.data,ccipRequest:n}):await n(i),s[o]=!1}catch(c){s[o]=!0,a[o]=K1(c)}})),W1({abi:Li,functionName:"query",result:[s,a]})}function K1(e){return e.name==="HttpRequestError"&&e.status?Pu({abi:Li,errorName:"HttpError",args:[e.status,e.shortMessage]}):Pu({abi:[Pl],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Bf(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Qe(t)?t:null}function Vi(e){let t=new Uint8Array(32).fill(0);if(!e)return pe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Bf(n[r]),a=s?Tt(s):ye(Qt(n[r]),"bytes");t=ye(He([t,a]),"bytes")}return pe(t)}function Y1(e){return`[${e.slice(2)}]`}function J1(e){const t=new Uint8Array(32).fill(0);return e?Bf(e)||ye(Qt(e)):pe(t)}function Zo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Qt(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let i=Qt(s[a]);i.byteLength>255&&(i=Qt(Y1(J1(s[a])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function X1(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return tr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(l=>a.endsWith(l)))return null;const f=s!=null?[Vi(a),BigInt(s)]:[Vi(a)];try{const l=Se({abi:Tu,functionName:"addr",args:f}),p={address:u,abi:bf,functionName:"resolveWithGateways",args:[Q(Zo(a)),l,i??[oa]],blockNumber:n,blockTag:r},m=await F(e,nt,"readContract")(p);if(m[0]==="0x")return null;const w=vn({abi:Tu,args:f,functionName:"addr",data:m[0]});return w==="0x"||qe(w)==="0x00"?null:w}catch(l){if(o)throw l;if(Wo(l))return null;throw l}}class Q1 extends _{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class or extends _{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ko extends _{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class eg extends _{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const tg=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ng=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,rg=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,sg=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ag(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Cu(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Of({uri:e,gatewayUrls:t}){const n=rg.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Cu(t?.ipfs,"https://ipfs.io"),s=Cu(t?.arweave,"https://arweave.net"),a=e.match(tg),{protocol:i,subpath:o,target:c,subtarget:u=""}=a?.groups||{},d=i==="ipns:/"||o==="ipns/",f=i==="ipfs:/"||o==="ipfs/"||ng.test(e);if(e.startsWith("http")&&!d&&!f){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(sg,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Ko({uri:e})}function $f(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Q1({data:e});return e.image||e.image_url||e.image_data}async function ig({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Yo({gatewayUrls:e,uri:$f(n)})}catch{throw new Ko({uri:t})}}async function Yo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Of({uri:t,gatewayUrls:e});if(r||await ag(n))return n;throw new Ko({uri:t})}function og(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new or({reason:"Only EIP-155 supported"});if(!i)throw new or({reason:"Chain ID not found"});if(!c)throw new or({reason:"Contract address not found"});if(!s)throw new or({reason:"Token ID not found"});if(!o)throw new or({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function cg(e,{nft:t}){if(t.namespace==="erc721")return nt(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return nt(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new eg({namespace:t.namespace})}async function ug(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?dg(e,{gatewayUrls:t,record:n}):Yo({uri:n,gatewayUrls:t})}async function dg(e,{gatewayUrls:t,record:n}){const r=og(n),s=await cg(e,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=Of({uri:s,gatewayUrls:t});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,d=JSON.parse(u);return Yo({uri:$f(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ig({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function zf(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return tr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(f=>a.endsWith(f)))return null;try{const f={address:u,abi:bf,args:[Q(Zo(a)),Se({abi:Au,functionName:"text",args:[Vi(a),s]}),i??[oa]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await F(e,nt,"readContract")(f);if(p[0]==="0x")return null;const h=vn({abi:Au,functionName:"text",data:p[0]});return h===""?null:h}catch(f){if(o)throw f;if(Wo(f))return null;throw f}}async function lg(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await F(e,zf,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await ug(e,{record:c,gatewayUrls:r})}catch{return null}}async function fg(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return tr({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:S1,args:[n,a,i??[oa]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},f=F(e,nt,"readContract"),[l]=await f(d);return l||null}catch(d){if(o)throw d;if(Wo(d))return null;throw d}}async function pg(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return tr({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await F(e,nt,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Q(Zo(s))],blockNumber:n,blockTag:r});return c}async function Mf(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:p,...h}=t,m=n?ce(n):void 0;try{$t(t);const b=(typeof r=="bigint"?T(r):void 0)||s,v=e.chain?.formatters?.transactionRequest?.format,y=(v||qt)({...Jr(h,{format:v}),account:m,blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:p},"createAccessList"),x=await e.request({method:"eth_createAccessList",params:[y,b]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(w){throw xf(w,{...t,account:m,chain:e.chain})}}async function hg(e){const t=Ws(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Df(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),u=Ws(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>Wr({abi:[p],eventName:p.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?T(a):a,toBlock:typeof o=="bigint"?T(o):o,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:!!i,toBlock:o,type:"event"}}async function Lf(e){const t=Ws(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function mg(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?T(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function yg(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function bg(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?T(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Me(a)}async function Gi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?T(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class gg extends _{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function wg(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,i,o,c,u,d,f]=await F(e,nt,"readContract")({abi:vg,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:u,salt:d},extensions:f,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new gg({address:n}):i}}const vg=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function xg(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function _g(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?T(n):void 0,i=await e.request({method:"eth_feeHistory",params:[T(t),a||r,s]},{dedupe:!!a});return xg(i)}async function Eg(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>ft(a));return t.abi?Uo({abi:t.abi,logs:s,strict:n}):s}function Ag(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!oe(s))throw new fe({address:s});if(r<0)throw new es({chainId:r})}Jo(e)}function Tg(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Ql;for(const n of t){const r=ue(n),s=Me(dn(n,0,1));if(r!==32)throw new Hb({hash:n,size:r});if(s!==Xl)throw new Wb({hash:n,version:s})}}Jo(e)}function Jo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new es({chainId:t});if(s&&!oe(s))throw new fe({address:s});if(r&&r>Xs)throw new hn({maxFeePerGas:r});if(n&&r&&n>r)throw new Mr({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Sg(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new es({chainId:t});if(a&&!oe(a))throw new fe({address:a});if(n||s)throw new _("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Xs)throw new hn({maxFeePerGas:r})}function Ig(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!oe(a))throw new fe({address:a});if(typeof t<"u"&&t<=0)throw new es({chainId:t});if(n||s)throw new _("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Xs)throw new hn({maxFeePerGas:r})}function ca(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new gb({storageKey:s[a]});if(!oe(r,{strict:!1}))throw new fe({address:r});t.push([r,s])}return t}function Xo(e,t){const n=tf(e);return n==="eip1559"?kg(e,t):n==="eip2930"?Ng(e,t):n==="eip4844"?Cg(e,t):n==="eip7702"?Pg(e,t):Rg(e,t)}function Pg(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=e;Ag(e);const l=ca(d),p=Bg(n);return Ze(["0x04",kt([T(r),a?T(a):"0x",u?T(u):"0x",c?T(c):"0x",s?T(s):"0x",i??"0x",o?T(o):"0x",f??"0x",l,p,...ss(e,t)])])}function Cg(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=e;Tg(e);let l=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof p>"u")){const g=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(A=>pe(A)),y=e.kzg,x=$o({blobs:g,kzg:y});if(typeof l>"u"&&(l=Kl({commitments:x})),typeof p>"u"){const A=zo({blobs:g,commitments:x,kzg:y});p=ef({blobs:g,commitments:x,proofs:A})}}const h=ca(d),m=[T(n),s?T(s):"0x",u?T(u):"0x",c?T(c):"0x",r?T(r):"0x",a??"0x",i?T(i):"0x",f??"0x",h,o?T(o):"0x",l??[],...ss(e,t)],w=[],b=[],v=[];if(p)for(let g=0;g<p.length;g++){const{blob:y,commitment:x,proof:A}=p[g];w.push(y),b.push(x),v.push(A)}return Ze(["0x03",kt(p?[m,w,b,v]:m)])}function kg(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Jo(e);const f=ca(u),l=[T(n),s?T(s):"0x",c?T(c):"0x",o?T(o):"0x",r?T(r):"0x",a??"0x",i?T(i):"0x",d??"0x",f,...ss(e,t)];return Ze(["0x02",kt(l)])}function Ng(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:i,value:o,accessList:c,gasPrice:u}=e;Sg(e);const d=ca(c),f=[T(n),a?T(a):"0x",u?T(u):"0x",r?T(r):"0x",i??"0x",o?T(o):"0x",s??"0x",d,...ss(e,t)];return Ze(["0x01",kt(f)])}function Rg(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:i,value:o,gasPrice:c}=e;Ig(e);let u=[a?T(a):"0x",c?T(c):"0x",r?T(r):"0x",i??"0x",o?T(o):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new yb({v:t.v});return p})(),f=qe(t.r),l=qe(t.s);u=[...u,T(d),f==="0x00"?"0x":f,l==="0x00"?"0x":l]}else n>0&&(u=[...u,T(n),"0x","0x"]);return kt(u)}function ss(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=qe(n.r),i=qe(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),a==="0x00"?"0x":a,i==="0x00"?"0x":i]}function Bg(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,i=n.address;t.push([r?Q(r):"0x",i,s?Q(s):"0x",...ss({},a)])}return t}async function Og({address:e,authorization:t,signature:n}){return Xr(Nn(e),await Ks({authorization:t,signature:n}))}const ys=new Gr(8192);function $g(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ys.get(n))return ys.get(n);const r=e().finally(()=>ys.delete(n));return ys.set(n,r),r}function zg(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new Kt(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new Kt(new Error("method not supported"),{method:u});const d=s?jn(`${c}.${he(n)}`):void 0;return $g(()=>$s(async()=>{try{return await e(n)}catch(f){const l=f;switch(l.code){case wr.code:throw new wr(l);case vr.code:throw new vr(l);case xr.code:throw new xr(l,{method:n.method});case _r.code:throw new _r(l);case ln.code:throw new ln(l);case fn.code:throw new fn(l);case Er.code:throw new Er(l);case Ar.code:throw new Ar(l);case Tr.code:throw new Tr(l);case Kt.code:throw new Kt(l,{method:n.method});case Vn.code:throw new Vn(l);case Sr.code:throw new Sr(l);case Bn.code:throw new Bn(l);case Ir.code:throw new Ir(l);case Pr.code:throw new Pr(l);case Cr.code:throw new Cr(l);case kr.code:throw new kr(l);case Nr.code:throw new Nr(l);case Gn.code:throw new Gn(l);case Rr.code:throw new Rr(l);case Br.code:throw new Br(l);case Or.code:throw new Or(l);case $r.code:throw new $r(l);case zr.code:throw new zr(l);case qn.code:throw new qn(l);case 5e3:throw new Bn(l);default:throw f instanceof _?f:new Tb(l)}}},{delay:({count:f,error:l})=>{if(l&&l instanceof mr){const p=l?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<f)*i},retryCount:o,shouldRetry:({error:f})=>Mg(f)}),{enabled:s,id:d})}}function Mg(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Vn.code||e.code===ln.code:e instanceof mr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Ie(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Dg(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout(()=>{r&&o.abort()},n)),s(await e({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&a(t),a(o)}finally{clearTimeout(i)}})()})}function Lg(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ku=Lg();function Fg(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:f}=c;try{const l=await Dg(async({signal:h})=>{const m={...c,body:Array.isArray(r)?he(r.map(g=>({jsonrpc:"2.0",id:g.id??ku.take(),...g}))):he({jsonrpc:"2.0",id:r.id??ku.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:f||(o>0?h:null)},w=new Request(e,m),b=await a?.(w,m)??{...m,url:e};return await s(b.url??e,b)},{errorInstance:new pu({body:r,url:e}),timeout:o,signal:!0});i&&await i(l);let p;if(l.headers.get("Content-Type")?.startsWith("application/json"))p=await l.json();else{p=await l.text();try{p=JSON.parse(p||"{}")}catch(h){if(l.ok)throw h;p={error:p}}}if(!l.ok)throw new mr({body:r,details:he(p.error)||l.statusText,headers:l.headers,status:l.status,url:e});return p}catch(l){throw l instanceof mr||l instanceof pu?l:new mr({body:r,cause:l,url:e})}}}}const Ug=`Ethereum Signed Message:
`;function jg(e){const t=typeof e=="string"?jn(e):typeof e.raw=="string"?e.raw:pe(e.raw),n=jn(`${Ug}${ue(t)}`);return He([n,t])}function Qo(e,t){return ye(jg(e),t)}class Vg extends _{constructor({domain:t}){super(`Invalid domain "${he(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Gg extends _{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class qg extends _{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Hg(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(c,u)=>{const d={...u};for(const f of c){const{name:l,type:p}=f;p==="address"&&(d[l]=d[l].toLowerCase())}return d},i=s.EIP712Domain?t?a(s.EIP712Domain,t):{}:{},o=(()=>{if(r!=="EIP712Domain")return a(s[r],n)})();return he({domain:i,message:o,primaryType:r,types:s})}function Ff(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(i,o)=>{for(const c of i){const{name:u,type:d}=c,f=o[u],l=d.match(Tl);if(l&&(typeof f=="number"||typeof f=="bigint")){const[m,w,b]=l;T(f,{signed:w==="int",size:Number.parseInt(b,10)/8})}if(d==="address"&&typeof f=="string"&&!oe(f))throw new fe({address:f});const p=d.match(Ly);if(p){const[m,w]=p;if(w&&ue(f)!==Number.parseInt(w,10))throw new gy({expectedSize:Number.parseInt(w,10),givenSize:ue(f)})}const h=s[d];h&&(Wg(d),a(h,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Vg({domain:t});a(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new Gg({primaryType:r,types:s})}function Uf({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Wg(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new qg({type:e})}function jf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Uf({domain:t}),...e.types};Ff({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(Zg({domain:t,types:s})),r!=="EIP712Domain"&&a.push(Vf({data:n,primaryType:r,types:s})),ye(He(a))}function Zg({domain:e,types:t}){return Vf({data:e,primaryType:"EIP712Domain",types:t})}function Vf({data:e,primaryType:t,types:n}){const r=Gf({data:e,primaryType:t,types:n});return ye(r)}function Gf({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Kg({primaryType:t,types:n})];for(const a of n[t]){const[i,o]=Hf({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(i),s.push(o)}return Gt(r,s)}function Kg({primaryType:e,types:t}){const n=Q(Yg({primaryType:e,types:t}));return ye(n)}function Yg({primaryType:e,types:t}){let n="";const r=qf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:i,type:o})=>`${o} ${i}`).join(",")})`;return n}function qf({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])qf({primaryType:a.type,types:t},n);return n}function Hf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ye(Gf({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ye(r)];if(n==="string")return[{type:"bytes32"},ye(Q(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(i=>Hf({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ye(Gt(a.map(([i])=>i),a.map(([,i])=>i)))]}return[{type:n},r]}const Nu="0x0000000000000000000000000000000000000000000000000000000000000000";class Jg extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Xg={checksum:new Jg(8192)},za=Xg.checksum;function Wf(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Gd(i1(e));return n==="Bytes"?r:tt(r)}const Qg=/^0x[a-fA-F0-9]{40}$/;function ua(e,t={}){const{strict:n=!0}=t;if(!Qg.test(e))throw new Ru({address:e,cause:new e6});if(n){if(e.toLowerCase()===e)return;if(Zf(e)!==e)throw new Ru({address:e,cause:new t6})}}function Zf(e){if(za.has(e))return za.get(e);ua(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Wf(c1(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return za.set(e,s),s}function qi(e,t={}){const{strict:n=!0}=t??{};try{return ua(e,{strict:n}),!0}catch{return!1}}class Ru extends Z{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class e6 extends Z{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class t6 extends Z{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const n6=/^(.*)\[([0-9]*)\]$/,r6=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Kf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Bu=2n**256n-1n;function On(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=nc(t.type);if(a){const[i,o]=a;return a6(e,{...t,type:o},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return u6(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return s6(e,{checksum:r});if(t.type==="bool")return i6(e);if(t.type.startsWith("bytes"))return o6(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return c6(e,t);if(t.type==="string")return d6(e,{staticPosition:s});throw new sc(t.type)}const Ou=32,Hi=32;function s6(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?Zf(a):a)(tt(d1(r,-20))),32]}function a6(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const c=It(e.readBytes(Hi)),u=a+c,d=u+Ou;e.setPosition(u);const f=It(e.readBytes(Ou)),l=Dr(t);let p=0;const h=[];for(let m=0;m<f;++m){e.setPosition(d+(l?m*32:p));const[w,b]=On(e,t,{checksumAddress:r,staticPosition:d});p+=b,h.push(w)}return e.setPosition(a+32),[h,32]}if(Dr(t)){const c=It(e.readBytes(Hi)),u=a+c,d=[];for(let f=0;f<s;++f){e.setPosition(u+f*32);const[l]=On(e,t,{checksumAddress:r,staticPosition:u});d.push(l)}return e.setPosition(a+32),[d,32]}let i=0;const o=[];for(let c=0;c<s;++c){const[u,d]=On(e,t,{checksumAddress:r,staticPosition:a+i});i+=d,o.push(u)}return[o,i]}function i6(e){return[f1(e.readBytes(32),{size:32}),32]}function o6(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=It(e.readBytes(32));e.setPosition(n+i);const o=It(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[tt(c),32]}return[tt(e.readBytes(Number.parseInt(s,10),32)),32]}function c6(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?l1(s,{signed:n}):It(s,{signed:n}),32]}function u6(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:c})=>!c),i=a?[]:{};let o=0;if(Dr(t)){const c=It(e.readBytes(Hi)),u=s+c;for(let d=0;d<t.components.length;++d){const f=t.components[d];e.setPosition(u+o);const[l,p]=On(e,f,{checksumAddress:r,staticPosition:u});o+=p,i[a?d:f?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[d,f]=On(e,u,{checksumAddress:r,staticPosition:s});i[a?c:u?.name]=d,o+=f}return[i,o]}function d6(e,{staticPosition:t}){const n=It(e.readBytes(32)),r=t+n;e.setPosition(r);const s=It(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),i=p1(uf(a));return e.setPosition(t+32),[i,32]}function l6({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(ec({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function ec({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=nc(r.type);if(s){const[a,i]=s;return p6(n,{checksumAddress:e,length:a,parameter:{...r,type:i}})}if(r.type==="tuple")return g6(n,{checksumAddress:e,parameter:r});if(r.type==="address")return f6(n,{checksum:e});if(r.type==="bool")return m6(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,i="256"]=Kf.exec(r.type)??[];return y6(n,{signed:a,size:Number(i)})}if(r.type.startsWith("bytes"))return h6(n,{type:r.type});if(r.type==="string")return b6(n);throw new sc(r.type)}function tc(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=De(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(_e(t+s,{size:32})),r.push(o),s+=De(o)):n.push(o)}return et(...n,...r)}function f6(e,t){const{checksum:n=!1}=t;return ua(e,{strict:n}),{dynamic:!1,encoded:mn(e.toLowerCase())}}function p6(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new I6(e);if(!a&&e.length!==r)throw new S6({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const o=[];for(let c=0;c<e.length;c++){const u=ec({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),o.push(u)}if(a||i){const c=tc(o);if(a){const u=_e(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?et(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:et(...o.map(({encoded:c})=>c))}}function h6(e,{type:t}){const[,n]=t.split("bytes"),r=De(e);if(!n){let s=e;return r%32!==0&&(s=yn(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:et(mn(_e(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Jf({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:yn(e)}}function m6(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:mn(df(e))}}function y6(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new pf({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_e(e,{size:32,signed:t})}}function b6(e){const t=Vo(e),n=Math.ceil(De(t)/32),r=[];for(let s=0;s<n;s++)r.push(yn(ut(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:et(yn(_e(De(t),{size:32})),...r)}}function g6(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let i=0;i<r.components.length;i++){const o=r.components[i],c=Array.isArray(e)?i:o.name,u=ec({checksumAddress:n,parameter:o,value:e[c]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?tc(a):et(...a.map(({encoded:i})=>i))}}function nc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Dr(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Dr);const n=nc(e.type);return!!(n&&Dr({...e,type:n[1]}))}const w6={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new _6({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new x6({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new $u({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new $u({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function v6(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(w6);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class $u extends Z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class x6 extends Z{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class _6 extends Z{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function E6(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?cf(t):t,i=v6(a);if(Pn(a)===0&&e.length>0)throw new T6;if(Pn(a)&&Pn(a)<32)throw new A6({data:typeof t=="string"?t:tt(t),parameters:e,size:Pn(a)});let o=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(o);const[f,l]=On(i,d,{checksumAddress:s,staticPosition:0});o+=l,r==="Array"?c.push(f):c[d.name??u]=f}return c}function rc(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Xf({expectedLength:e.length,givenLength:t.length});const s=l6({checksumAddress:r,parameters:e,values:t}),a=tc(s);return a.length===0?"0x":a}function Wi(e,t){if(e.length!==t.length)throw new Xf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Wi.encode(s,a))}return et(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return ua(c),mn(c.toLowerCase(),s?32:0)}if(n==="string")return Vo(r);if(n==="bytes")return r;if(n==="bool")return mn(df(r),s?32:1);const a=n.match(Kf);if(a){const[c,u,d="256"]=a,f=Number.parseInt(d,10)/8;return _e(r,{size:s?32:f,signed:u==="int"})}const i=n.match(r6);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Jf({expectedSize:Number.parseInt(u,10),value:r});return yn(r,s?32:0)}const o=n.match(n6);if(o&&Array.isArray(r)){const[c,u]=o,d=[];for(let f=0;f<r.length;f++)d.push(t(u,r[f],!0));return d.length===0?"0x":et(...d)}throw new sc(n)}e.encode=t})(Wi||(Wi={}));function Yf(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?nu(e):e}class A6 extends Z{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Sn(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class T6 extends Z{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class S6 extends Z{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Jf extends Z{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${De(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Xf extends Z{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class I6 extends Z{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class sc extends Z{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Qf(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Ma({signature:e});if(typeof e.s>"u")throw new Ma({signature:e});if(n&&typeof e.yParity>"u")throw new Ma({signature:e});if(e.r<0n||e.r>Bu)throw new O6({value:e.r});if(e.s<0n||e.s>Bu)throw new $6({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new ic({value:e.yParity})}function P6(e){return e0(tt(e))}function e0(e){if(e.length!==130&&e.length!==132)throw new B6({signature:e});const t=BigInt(ut(e,0,32)),n=BigInt(ut(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return ac(s)}catch{throw new ic({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function C6(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return k6(e)}function k6(e){const t=typeof e=="string"?e0(e):e instanceof Uint8Array?P6(e):typeof e.r=="string"?R6(e):e.v?N6(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Qf(t),t}function N6(e){return{r:e.r,s:e.s,yParity:ac(e.v)}}function R6(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ac(n)),typeof r!="number")throw new ic({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function ac(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new z6({value:e})}class B6 extends Z{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${De(x1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ma extends Z{constructor({signature:t}){super(`Signature \`${of(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class O6 extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class $6 extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ic extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class z6 extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function M6(e,t={}){return typeof e.chainId=="string"?D6(e):{...e,...t.signature}}function D6(e){const{address:t,chainId:n,nonce:r}=e,s=C6(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const L6="0x8010801080108010801080108010801080108010801080108010801080108010",F6=Yf("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function t0(e){if(typeof e=="string"){if(ut(e,-32)!==L6)throw new V6(e)}else Qf(e.authorization)}function U6(e){t0(e);const t=ff(ut(e,-64,-32)),n=ut(e,-t-64,-64),r=ut(e,0,-t-64),[s,a,i]=E6(F6,n);return{authorization:M6({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:a}:{}}}function j6(e){try{return t0(e),!0}catch{return!1}}let V6=class extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function G6(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function q6(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Me(e.nonce):void 0,storageProof:e.storageProof?G6(e.storageProof):void 0}}async function H6(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?T(n):void 0,o=await e.request({method:"eth_getProof",params:[t,s,i||a]});return q6(o)}async function W6(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?T(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function oc(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const i=r||"latest",o=n!==void 0?T(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(a)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,T(a)]},{dedupe:!!o}),!c)throw new Rl({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||Qs)(c,"getTransaction")}async function Z6(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([F(e,ts,"getBlockNumber")({}),t?F(e,oc,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function gs(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Bl({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ho)(n,"getTransactionReceipt")}async function K6(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:i,blockTag:o,stateOverride:c}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return tr({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let h=0,m=0;for(let v=0;v<u.length;v++){const{abi:g,address:y,args:x,functionName:A}=u[v];try{const E=Se({abi:g,args:x,functionName:A});m+=(E.length-2)/2,d>0&&m>d&&p[h].length>0&&(h++,m=(E.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:E,target:y}]}catch(E){const N=pn(E,{abi:g,address:y,args:x,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!s)throw N;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:y}]}}const w=await Promise.allSettled(p.map(v=>F(e,nt,"readContract")({...l===null?{code:Go}:{address:l},abi:Os,account:n,args:[v],authorizationList:r,blockNumber:a,blockOverrides:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),b=[];for(let v=0;v<w.length;v++){const g=w[v];if(g.status==="rejected"){if(!s)throw g.reason;for(let x=0;x<p[v].length;x++)b.push({status:"failure",error:g.reason,result:void 0});continue}const y=g.value;for(let x=0;x<y.length;x++){const{returnData:A,success:E}=y[x],{callData:N}=p[v][x],{abi:z,address:B,functionName:R,args:O}=u[b.length];try{if(N==="0x")throw new Vr;if(!E)throw new Zs({data:A});const L=vn({abi:z,args:O,data:A,functionName:R});b.push(s?{result:L,status:"success"}:L)}catch(L){const Y=pn(L,{abi:z,address:B,args:O,docsPath:"/docs/contract/multicall",functionName:R});if(!s)throw Y;b.push({error:Y,result:void 0,status:"failure"})}}}if(b.length!==u.length)throw new _("multicall results mismatch");return b}async function Zi(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:i,validation:o}=t;try{const c=[];for(const l of s){const p=l.blockOverrides?mf(l.blockOverrides):void 0,h=l.calls.map(w=>{const b=w,v=b.account?ce(b.account):void 0,g=b.abi?Se(b):b.data,y={...b,account:v,data:b.dataSuffix?He([g||"0x",b.dataSuffix]):g,from:b.from??v?.address};return $t(y),qt(y)}),m=l.stateOverrides?ko(l.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:m})}const d=(typeof n=="bigint"?T(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:i,validation:o},d]})).map((l,p)=>({...Ro(l),calls:l.calls.map((h,m)=>{const{abi:w,args:b,functionName:v,to:g}=s[p].calls[m],y=h.error?.data??h.returnData,x=BigInt(h.gasUsed),A=h.logs?.map(B=>ft(B)),E=h.status==="0x1"?"success":"failure",N=w&&E==="success"&&y!=="0x"?vn({abi:w,data:y,functionName:v}):null,z=(()=>{if(E==="success")return;let B;if(h.error?.data==="0x"?B=new Vr:h.error&&(B=new Zs(h.error)),!!B)return pn(B,{abi:w??[],address:g??"0x",args:b,functionName:v??"<unknown>"})})();return{data:y,gasUsed:x,logs:A,status:E,...E==="success"?{result:N}:{error:z}}})}))}catch(c){const u=c,d=Ys(u,{});throw d instanceof Yr?u:d}}function Ki(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new Z("Unable to normalize signature.");return s}function Yi(e,t){const n=typeof e,r=t.type;switch(r){case"address":return qi(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Yi(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Yi(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function n0(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return n0(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?qi(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?qi(n[r],{strict:!1}):!1)return i}}function r0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?tu(e):e;return{...r,...n?{hash:Cn(r)}:{}}}function da(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=_1(t,{strict:!1}),i=e.filter(u=>a?u.type==="function"||u.type==="error"?s0(u)===ut(t,0,4):u.type==="event"?Cn(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new zs({name:t});if(i.length===1)return{...i[0],...s?{hash:Cn(i[0])}:{}};let o;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Cn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((f,l)=>{const p="inputs"in u&&u.inputs[l];return p?Yi(f,p):!1})){if(o&&"inputs"in o&&o.inputs){const f=n0(u.inputs,o.inputs,r);if(f)throw new J6({abiItem:u,type:f[0]},{abiItem:o,type:f[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new zs({name:t});return{...c,...s?{hash:Cn(c)}:{}}}function s0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return da(n,r)}return e[0]})();return ut(Cn(t),0,4)}function Y6(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return da(r,s)}return e[0]})(),n=typeof t=="string"?t:Rs(t);return Ki(n)}function Cn(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return da(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Wf(Vo(Y6(t)))}class J6 extends Z{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Ki(Rs(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Ki(Rs(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class zs extends Z{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function X6(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[a,i]=e;return[e5(a),i]}return e})(),{bytecode:r,args:s}=n;return et(r,t.inputs?.length&&s?.length?rc(t.inputs,s):"0x")}function Q6(e){return r0(e)}function e5(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new zs({name:"constructor"});return t}function t5(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,d,f]=e;return[zu(u,d,{args:f}),f]}const[o,c]=e;return[o,c]})(),{overloads:r}=t,s=r?zu([t,...r],t.name,{args:n}):t,a=n5(s),i=n.length>0?rc(s.inputs,n):void 0;return i?et(a,i):a}function An(e,t={}){return r0(e,t)}function zu(e,t,n){const r=da(e,t,n);if(r.type!=="function")throw new zs({name:t,type:"function"});return r}function n5(e){return s0(e)}const r5="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",st="0x0000000000000000000000000000000000000000",s5="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function a5(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:i,traceTransfers:o,validation:c}=t,u=t.account?ce(t.account):void 0;if(i&&!u)throw new _("`account` is required when `traceAssetChanges` is true");const d=u?X6(Q6("constructor(bytes, bytes)"),{bytecode:wf,args:[s5,t5(An("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:U}=await Mf(e,{account:u.address,...k,data:k.abi?Se(k):k.data});return U.map(({address:H,storageKeys:J})=>J.length>0?H:null)})).then(k=>k.flat().filter(Boolean)):[],l=await Zi(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:a},{calls:f.map((k,U)=>({abi:[An("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:st,nonce:U})),stateOverrides:[{address:st,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u?.address})),stateOverrides:a},...i?[{calls:[{data:d}]},{calls:f.map((k,U)=>({abi:[An("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:st,nonce:U})),stateOverrides:[{address:st,nonce:0}]},{calls:f.map((k,U)=>({to:k,abi:[An("function decimals() returns (uint256)")],functionName:"decimals",from:st,nonce:U})),stateOverrides:[{address:st,nonce:0}]},{calls:f.map((k,U)=>({to:k,abi:[An("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:st,nonce:U})),stateOverrides:[{address:st,nonce:0}]},{calls:f.map((k,U)=>({to:k,abi:[An("function symbol() returns (string)")],functionName:"symbol",from:st,nonce:U})),stateOverrides:[{address:st,nonce:0}]}]:[]],traceTransfers:o,validation:c}),p=i?l[2]:l[0],[h,m,,w,b,v,g,y]=i?l:[],{calls:x,...A}=p,E=x.slice(0,-1)??[],N=h?.calls??[],z=m?.calls??[],B=[...N,...z].map(k=>k.status==="success"?re(k.data):null),R=w?.calls??[],O=b?.calls??[],L=[...R,...O].map(k=>k.status==="success"?re(k.data):null),Y=(v?.calls??[]).map(k=>k.status==="success"?k.result:null),P=(y?.calls??[]).map(k=>k.status==="success"?k.result:null),S=(g?.calls??[]).map(k=>k.status==="success"?k.result:null),D=[];for(const[k,U]of L.entries()){const H=B[k];if(typeof U!="bigint"||typeof H!="bigint")continue;const J=Y[k-1],ae=P[k-1],Ke=S[k-1],Pe=k===0?{address:r5,decimals:18,symbol:"ETH"}:{address:f[k-1],decimals:Ke||J?Number(J??1):void 0,symbol:ae??void 0};D.some(ge=>ge.token.address===Pe.address)||D.push({token:Pe,value:{pre:H,post:U,diff:U-H}})}return{assetChanges:D,block:A,results:E}}const a0="0x6492649264926492649264926492649264926492649264926492649264926492";function i5(e){if(ut(e,-32)!==a0)throw new u5(e)}function o5(e){const{data:t,signature:n,to:r}=e;return et(rc(Yf("address, bytes, bytes"),[r,t,n]),a0)}function c5(e){try{return i5(e),!0}catch{return!1}}class u5 extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cc=BigInt(0),Ji=BigInt(1);function as(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function uc(e){if(!as(e))throw new Error("Uint8Array expected")}function Lr(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function bs(e){const t=e.toString(16);return t.length&1?"0"+t:t}function i0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?cc:BigInt("0x"+e)}const o0=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",d5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fr(e){if(uc(e),o0)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=d5[e[n]];return t}const gt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mu(e){if(e>=gt._0&&e<=gt._9)return e-gt._0;if(e>=gt.A&&e<=gt.F)return e-(gt.A-10);if(e>=gt.a&&e<=gt.f)return e-(gt.a-10)}function Ms(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(o0)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=Mu(e.charCodeAt(a)),o=Mu(e.charCodeAt(a+1));if(i===void 0||o===void 0){const c=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=i*16+o}return r}function tn(e){return i0(Fr(e))}function c0(e){return uc(e),i0(Fr(Uint8Array.from(e).reverse()))}function is(e,t){return Ms(e.toString(16).padStart(t*2,"0"))}function u0(e,t){return is(e,t).reverse()}function Ue(e,t,n){let r;if(typeof t=="string")try{r=Ms(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(as(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ds(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];uc(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const Da=e=>typeof e=="bigint"&&cc<=e;function dc(e,t,n){return Da(e)&&Da(t)&&Da(n)&&t<=e&&e<n}function $n(e,t,n,r){if(!dc(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function l5(e){let t;for(t=0;e>cc;e>>=Ji,t+=1);return t}const la=e=>(Ji<<BigInt(e))-Ji,La=e=>new Uint8Array(e),Du=e=>Uint8Array.from(e);function f5(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=La(e),s=La(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...f)=>n(s,r,...f),c=(f=La(0))=>{s=o(Du([0]),f),r=o(),f.length!==0&&(s=o(Du([1]),f),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const l=[];for(;f<t;){r=o();const p=r.slice();l.push(p),f+=r.length}return Ds(...l)};return(f,l)=>{i(),c(f);let p;for(;!(p=l(u()));)c();return i(),p}}const p5={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||as(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function fa(e,t,n={}){const r=(s,a,i)=>{const o=p5[a];if(typeof o!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!o(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+c)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function Lu(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ke=BigInt(0),Ae=BigInt(1),Yt=BigInt(2),h5=BigInt(3),d0=BigInt(4),l0=BigInt(5),f0=BigInt(8);function Ce(e,t){const n=e%t;return n>=ke?n:t+n}function Fe(e,t,n){let r=e;for(;t-- >ke;)r*=r,r%=n;return r}function Xi(e,t){if(e===ke)throw new Error("invert: expected non-zero number");if(t<=ke)throw new Error("invert: expected positive modulus, got "+t);let n=Ce(e,t),r=t,s=ke,a=Ae;for(;n!==ke;){const o=r/n,c=r%n,u=s-a*o;r=n,n=c,s=a,a=u}if(r!==Ae)throw new Error("invert: does not exist");return Ce(s,t)}function p0(e,t){const n=(e.ORDER+Ae)/d0,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function m5(e,t){const n=(e.ORDER-l0)/f0,r=e.mul(t,Yt),s=e.pow(r,n),a=e.mul(t,s),i=e.mul(e.mul(a,Yt),s),o=e.mul(a,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}function y5(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Ae,n=0;for(;t%Yt===ke;)t/=Yt,n++;let r=Yt;const s=lc(e);for(;Fu(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return p0;let a=s.pow(r,t);const i=(t+Ae)/Yt;return function(c,u){if(c.is0(u))return u;if(Fu(c,u)!==1)throw new Error("Cannot find square root");let d=n,f=c.mul(c.ONE,a),l=c.pow(u,t),p=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let h=1,m=c.sqr(l);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===d)throw new Error("Cannot find square root");const w=Ae<<BigInt(d-h-1),b=c.pow(f,w);d=h,f=c.sqr(b),l=c.mul(l,f),p=c.mul(p,b)}return p}}function b5(e){return e%d0===h5?p0:e%f0===l0?m5:y5(e)}const g5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function w5(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=g5.reduce((r,s)=>(r[s]="function",r),t);return fa(e,n)}function v5(e,t,n){if(n<ke)throw new Error("invalid exponent, negatives unsupported");if(n===ke)return e.ONE;if(n===Ae)return t;let r=e.ONE,s=t;for(;n>ke;)n&Ae&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ae;return r}function h0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,o,c)=>e.is0(o)?i:(r[c]=i,e.mul(i,o)),e.ONE),a=e.inv(s);return t.reduceRight((i,o,c)=>e.is0(o)?i:(r[c]=e.mul(i,r[c]),e.mul(i,o)),a),r}function Fu(e,t){const n=(e.ORDER-Ae)/Yt,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!i)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function m0(e,t){t!==void 0&&li(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lc(e,t,n=!1,r={}){if(e<=ke)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=m0(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const o=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:la(s),ZERO:ke,ONE:Ae,create:c=>Ce(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ke<=c&&c<e},is0:c=>c===ke,isOdd:c=>(c&Ae)===Ae,neg:c=>Ce(-c,e),eql:(c,u)=>c===u,sqr:c=>Ce(c*c,e),add:(c,u)=>Ce(c+u,e),sub:(c,u)=>Ce(c-u,e),mul:(c,u)=>Ce(c*u,e),pow:(c,u)=>v5(o,c,u),div:(c,u)=>Ce(c*Xi(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Xi(c,e),sqrt:r.sqrt||(c=>(i||(i=b5(e)),i(o,c))),toBytes:c=>n?u0(c,a):is(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?c0(c):tn(c)},invertBatch:c=>h0(o,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(o)}function y0(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function b0(e){const t=y0(e);return t+Math.ceil(t/2)}function x5(e,t,n=!1){const r=e.length,s=y0(t),a=b0(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const i=n?c0(e):tn(e),o=Ce(i,t-Ae)+Ae;return n?u0(o,s):is(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uu=BigInt(0),Qi=BigInt(1);function Fa(e,t){const n=t.negate();return e?n:t}function g0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ua(e,t){g0(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=la(e),i=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:i}}function ju(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:i}=n;let o=Number(e&s),c=e>>i;o>r&&(o-=a,c+=Qi);const u=t*r,d=u+Math.abs(o)-1,f=o===0,l=o<0,p=t%2!==0;return{nextN:c,offset:d,isZero:f,isNeg:l,isNegF:p,offsetF:u}}function _5(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function E5(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ja=new WeakMap,w0=new WeakMap;function Va(e){return w0.get(e)||1}function A5(e,t){return{constTimeNegate:Fa,hasPrecomputes(n){return Va(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Uu;)r&Qi&&(s=s.add(a)),a=a.double(),r>>=Qi;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=Ua(r,t),i=[];let o=n,c=o;for(let u=0;u<s;u++){c=o,i.push(c);for(let d=1;d<a;d++)c=c.add(o),i.push(c);o=c.double()}return i},wNAF(n,r,s){let a=e.ZERO,i=e.BASE;const o=Ua(n,t);for(let c=0;c<o.windows;c++){const{nextN:u,offset:d,isZero:f,isNeg:l,isNegF:p,offsetF:h}=ju(s,c,o);s=u,f?i=i.add(Fa(p,r[h])):a=a.add(Fa(l,r[d]))}return{p:a,f:i}},wNAFUnsafe(n,r,s,a=e.ZERO){const i=Ua(n,t);for(let o=0;o<i.windows&&s!==Uu;o++){const{nextN:c,offset:u,isZero:d,isNeg:f}=ju(s,o,i);if(s=c,!d){const l=r[u];a=a.add(f?l.negate():l)}}return a},getPrecomputes(n,r,s){let a=ja.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&ja.set(r,s(a))),a},wNAFCached(n,r,s){const a=Va(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const i=Va(n);return i===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,a)},setWindowSize(n,r){g0(r,t),w0.set(n,r),ja.delete(n)}}}function T5(e,t,n,r){_5(n,e),E5(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=l5(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=la(c),d=new Array(Number(u)+1).fill(i),f=Math.floor((t.BITS-1)/c)*c;let l=i;for(let p=f;p>=0;p-=c){d.fill(i);for(let m=0;m<a;m++){const w=r[m],b=Number(w>>BigInt(p)&u);d[b]=d[b].add(n[m])}let h=i;for(let m=d.length-1,w=i;m>0;m--)w=w.add(d[m]),h=h.add(w);if(l=l.add(h),p!==0)for(let m=0;m<c;m++)l=l.double()}return l}function v0(e){return w5(e.Fp),fa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...m0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vu(e){e.lowS!==void 0&&Lr("lowS",e.lowS),e.prehash!==void 0&&Lr("prehash",e.prehash)}function S5(e){const t=v0(e);fa(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class I5 extends Error{constructor(t=""){super(t)}}const xt={Err:I5,_tlv:{encode:(e,t)=>{const{Err:n}=xt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=bs(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?bs(s.length/2|128):"";return bs(e)+a+s+t},decode(e,t){const{Err:n}=xt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=t.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=xt;if(e<Et)throw new t("integer: negative integers are not allowed");let n=bs(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=xt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return tn(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=xt,s=Ue("signature",e),{v:a,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=xt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function Ga(e,t){return Fr(is(e,t))}const Et=BigInt(0),me=BigInt(1);BigInt(2);const qa=BigInt(3),P5=BigInt(4);function C5(e){const t=S5(e),{Fp:n}=t,r=lc(t.n,t.nBitLength),s=t.toBytes||((g,y,x)=>{const A=y.toAffine();return Ds(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),a=t.fromBytes||(g=>{const y=g.subarray(1),x=n.fromBytes(y.subarray(0,n.BYTES)),A=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x,y:A}});function i(g){const{a:y,b:x}=t,A=n.sqr(g),E=n.mul(A,g);return n.add(n.add(E,n.mul(g,y)),x)}function o(g,y){const x=n.sqr(y),A=i(g);return n.eql(x,A)}if(!o(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,qa),P5),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(g){return dc(g,me,t.n)}function f(g){const{allowedPrivateKeyLengths:y,nByteLength:x,wrapPrivateKey:A,n:E}=t;if(y&&typeof g!="bigint"){if(as(g)&&(g=Fr(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(x*2,"0")}let N;try{N=typeof g=="bigint"?g:tn(Ue("private key",g,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof g)}return A&&(N=Ce(N,E)),$n("private key",N,me,E),N}function l(g){if(!(g instanceof m))throw new Error("ProjectivePoint expected")}const p=Lu((g,y)=>{const{px:x,py:A,pz:E}=g;if(n.eql(E,n.ONE))return{x,y:A};const N=g.is0();y==null&&(y=N?n.ONE:n.inv(E));const z=n.mul(x,y),B=n.mul(A,y),R=n.mul(E,y);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:z,y:B}}),h=Lu(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:x}=g.toAffine();if(!n.isValid(y)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!o(y,x))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(y,x,A){if(y==null||!n.isValid(y))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required");this.px=y,this.py=x,this.pz=A,Object.freeze(this)}static fromAffine(y){const{x,y:A}=y||{};if(!y||!n.isValid(x)||!n.isValid(A))throw new Error("invalid affine point");if(y instanceof m)throw new Error("projective point not allowed");const E=N=>n.eql(N,n.ZERO);return E(x)&&E(A)?m.ZERO:new m(x,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const x=h0(n,y.map(A=>A.pz));return y.map((A,E)=>A.toAffine(x[E])).map(m.fromAffine)}static fromHex(y){const x=m.fromAffine(a(Ue("pointHex",y)));return x.assertValidity(),x}static fromPrivateKey(y){return m.BASE.multiply(f(y))}static msm(y,x){return T5(m,r,y,x)}_setWindowSize(y){v.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:x,py:A,pz:E}=this,{px:N,py:z,pz:B}=y,R=n.eql(n.mul(x,B),n.mul(N,E)),O=n.eql(n.mul(A,B),n.mul(z,E));return R&&O}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:x}=t,A=n.mul(x,qa),{px:E,py:N,pz:z}=this;let B=n.ZERO,R=n.ZERO,O=n.ZERO,L=n.mul(E,E),Y=n.mul(N,N),P=n.mul(z,z),S=n.mul(E,N);return S=n.add(S,S),O=n.mul(E,z),O=n.add(O,O),B=n.mul(y,O),R=n.mul(A,P),R=n.add(B,R),B=n.sub(Y,R),R=n.add(Y,R),R=n.mul(B,R),B=n.mul(S,B),O=n.mul(A,O),P=n.mul(y,P),S=n.sub(L,P),S=n.mul(y,S),S=n.add(S,O),O=n.add(L,L),L=n.add(O,L),L=n.add(L,P),L=n.mul(L,S),R=n.add(R,L),P=n.mul(N,z),P=n.add(P,P),L=n.mul(P,S),B=n.sub(B,L),O=n.mul(P,Y),O=n.add(O,O),O=n.add(O,O),new m(B,R,O)}add(y){l(y);const{px:x,py:A,pz:E}=this,{px:N,py:z,pz:B}=y;let R=n.ZERO,O=n.ZERO,L=n.ZERO;const Y=t.a,P=n.mul(t.b,qa);let S=n.mul(x,N),D=n.mul(A,z),k=n.mul(E,B),U=n.add(x,A),H=n.add(N,z);U=n.mul(U,H),H=n.add(S,D),U=n.sub(U,H),H=n.add(x,E);let J=n.add(N,B);return H=n.mul(H,J),J=n.add(S,k),H=n.sub(H,J),J=n.add(A,E),R=n.add(z,B),J=n.mul(J,R),R=n.add(D,k),J=n.sub(J,R),L=n.mul(Y,H),R=n.mul(P,k),L=n.add(R,L),R=n.sub(D,L),L=n.add(D,L),O=n.mul(R,L),D=n.add(S,S),D=n.add(D,S),k=n.mul(Y,k),H=n.mul(P,H),D=n.add(D,k),k=n.sub(S,k),k=n.mul(Y,k),H=n.add(H,k),S=n.mul(D,H),O=n.add(O,S),S=n.mul(J,H),R=n.mul(U,R),R=n.sub(R,S),S=n.mul(U,D),L=n.mul(J,L),L=n.add(L,S),new m(R,O,L)}subtract(y){return this.add(y.negate())}is0(){return this.equals(m.ZERO)}wNAF(y){return v.wNAFCached(this,y,m.normalizeZ)}multiplyUnsafe(y){const{endo:x,n:A}=t;$n("scalar",y,Et,A);const E=m.ZERO;if(y===Et)return E;if(this.is0()||y===me)return this;if(!x||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,y,m.normalizeZ);let{k1neg:N,k1:z,k2neg:B,k2:R}=x.splitScalar(y),O=E,L=E,Y=this;for(;z>Et||R>Et;)z&me&&(O=O.add(Y)),R&me&&(L=L.add(Y)),Y=Y.double(),z>>=me,R>>=me;return N&&(O=O.negate()),B&&(L=L.negate()),L=new m(n.mul(L.px,x.beta),L.py,L.pz),O.add(L)}multiply(y){const{endo:x,n:A}=t;$n("scalar",y,me,A);let E,N;if(x){const{k1neg:z,k1:B,k2neg:R,k2:O}=x.splitScalar(y);let{p:L,f:Y}=this.wNAF(B),{p:P,f:S}=this.wNAF(O);L=v.constTimeNegate(z,L),P=v.constTimeNegate(R,P),P=new m(n.mul(P.px,x.beta),P.py,P.pz),E=L.add(P),N=Y.add(S)}else{const{p:z,f:B}=this.wNAF(y);E=z,N=B}return m.normalizeZ([E,N])[0]}multiplyAndAddUnsafe(y,x,A){const E=m.BASE,N=(B,R)=>R===Et||R===me||!B.equals(E)?B.multiplyUnsafe(R):B.multiply(R),z=N(this,x).add(N(y,A));return z.is0()?void 0:z}toAffine(y){return p(this,y)}isTorsionFree(){const{h:y,isTorsionFree:x}=t;if(y===me)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:x}=t;return y===me?this:x?x(m,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Lr("isCompressed",y),this.assertValidity(),s(m,this,y)}toHex(y=!0){return Lr("isCompressed",y),Fr(this.toRawBytes(y))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:b}=t,v=A5(m,w?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:d}}function k5(e){const t=v0(e);return fa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function N5(e){const t=k5(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,i=n.BYTES+1,o=2*n.BYTES+1;function c(P){return Ce(P,r)}function u(P){return Xi(P,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:p}=C5({...t,toBytes(P,S,D){const k=S.toAffine(),U=n.toBytes(k.x),H=Ds;return Lr("isCompressed",D),D?H(Uint8Array.from([S.hasEvenY()?2:3]),U):H(Uint8Array.from([4]),U,n.toBytes(k.y))},fromBytes(P){const S=P.length,D=P[0],k=P.subarray(1);if(S===i&&(D===2||D===3)){const U=tn(k);if(!dc(U,me,n.ORDER))throw new Error("Point is not on curve");const H=l(U);let J;try{J=n.sqrt(H)}catch(Pe){const ge=Pe instanceof Error?": "+Pe.message:"";throw new Error("Point is not on curve"+ge)}const ae=(J&me)===me;return(D&1)===1!==ae&&(J=n.neg(J)),{x:U,y:J}}else if(S===o&&D===4){const U=n.fromBytes(k.subarray(0,n.BYTES)),H=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:U,y:H}}else{const U=i,H=o;throw new Error("invalid Point, expected length of "+U+", or uncompressed "+H+", got "+S)}}});function h(P){const S=r>>me;return P>S}function m(P){return h(P)?c(-P):P}const w=(P,S,D)=>tn(P.slice(S,D));class b{constructor(S,D,k){$n("r",S,me,r),$n("s",D,me,r),this.r=S,this.s=D,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(S){const D=s;return S=Ue("compactSignature",S,D*2),new b(w(S,0,D),w(S,D,2*D))}static fromDER(S){const{r:D,s:k}=xt.toSig(Ue("DER",S));return new b(D,k)}assertValidity(){}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:D,s:k,recovery:U}=this,H=E(Ue("msgHash",S));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const J=U===2||U===3?D+t.n:D;if(J>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ae=(U&1)===0?"02":"03",Ke=d.fromHex(ae+Ga(J,n.BYTES)),Pe=u(J),ge=c(-H*Pe),xn=c(k*Pe),Mt=d.BASE.multiplyAndAddUnsafe(Ke,ge,xn);if(!Mt)throw new Error("point at infinify");return Mt.assertValidity(),Mt}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ms(this.toDERHex())}toDERHex(){return xt.hexFromSig(this)}toCompactRawBytes(){return Ms(this.toCompactHex())}toCompactHex(){const S=s;return Ga(this.r,S)+Ga(this.s,S)}}const v={isValidPrivateKey(P){try{return f(P),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const P=b0(t.n);return x5(t.randomBytes(P),t.n)},precompute(P=8,S=d.BASE){return S._setWindowSize(P),S.multiply(BigInt(3)),S}};function g(P,S=!0){return d.fromPrivateKey(P).toRawBytes(S)}function y(P){if(typeof P=="bigint")return!1;if(P instanceof d)return!0;const D=Ue("key",P).length,k=n.BYTES,U=k+1,H=2*k+1;if(!(t.allowedPrivateKeyLengths||s===U))return D===U||D===H}function x(P,S,D=!0){if(y(P)===!0)throw new Error("first arg must be private key");if(y(S)===!1)throw new Error("second arg must be public key");return d.fromHex(S).multiply(f(P)).toRawBytes(D)}const A=t.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const S=tn(P),D=P.length*8-a;return D>0?S>>BigInt(D):S},E=t.bits2int_modN||function(P){return c(A(P))},N=la(a);function z(P){return $n("num < 2^"+a,P,Et,N),is(P,s)}function B(P,S,D=R){if(["recovered","canonical"].some(Ht=>Ht in D))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:U}=t;let{lowS:H,prehash:J,extraEntropy:ae}=D;H==null&&(H=!0),P=Ue("msgHash",P),Vu(D),J&&(P=Ue("prehashed msgHash",k(P)));const Ke=E(P),Pe=f(S),ge=[z(Pe),z(Ke)];if(ae!=null&&ae!==!1){const Ht=ae===!0?U(n.BYTES):ae;ge.push(Ue("extraEntropy",Ht))}const xn=Ds(...ge),Mt=Ke;function xa(Ht){const _n=A(Ht);if(!p(_n))return;const _a=u(_n),sr=d.BASE.multiply(_n).toAffine(),Wt=c(sr.x);if(Wt===Et)return;const ar=c(_a*c(Mt+Wt*Pe));if(ar===Et)return;let En=(sr.x===Wt?0:2)|Number(sr.y&me),Bc=ar;return H&&h(ar)&&(Bc=m(ar),En^=1),new b(Wt,Bc,En)}return{seed:xn,k2sig:xa}}const R={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function L(P,S,D=R){const{seed:k,k2sig:U}=B(P,S,D),H=t;return f5(H.hash.outputLen,H.nByteLength,H.hmac)(k,U)}d.BASE._setWindowSize(8);function Y(P,S,D,k=O){const U=P;S=Ue("msgHash",S),D=Ue("publicKey",D);const{lowS:H,prehash:J,format:ae}=k;if(Vu(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(ae!==void 0&&ae!=="compact"&&ae!=="der")throw new Error("format must be compact or der");const Ke=typeof U=="string"||as(U),Pe=!Ke&&!ae&&typeof U=="object"&&U!==null&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!Ke&&!Pe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ge,xn;try{if(Pe&&(ge=new b(U.r,U.s)),Ke){try{ae!=="compact"&&(ge=b.fromDER(U))}catch(En){if(!(En instanceof xt.Err))throw En}!ge&&ae!=="der"&&(ge=b.fromCompact(U))}xn=d.fromHex(D)}catch{return!1}if(!ge||H&&ge.hasHighS())return!1;J&&(S=t.hash(S));const{r:Mt,s:xa}=ge,Ht=E(S),_n=u(xa),_a=c(Ht*_n),sr=c(Mt*_n),Wt=d.BASE.multiplyAndAddUnsafe(xn,_a,sr)?.toAffine();return Wt?c(Wt.x)===Mt:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:x,sign:L,verify:Y,ProjectivePoint:d,Signature:b,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R5(e){return{hash:e,hmac:(t,...n)=>Fp(e,t,Up(...n)),randomBytes:Lp}}function B5(e,t){const n=r=>N5({...e,...R5(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Gu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O5=BigInt(0),$5=BigInt(1),eo=BigInt(2),qu=(e,t)=>(e+t/eo)/t;function z5(e){const t=x0,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=Fe(d,n,t)*d%t,l=Fe(f,n,t)*d%t,p=Fe(l,eo,t)*u%t,h=Fe(p,s,t)*p%t,m=Fe(h,a,t)*h%t,w=Fe(m,o,t)*m%t,b=Fe(w,c,t)*w%t,v=Fe(b,o,t)*m%t,g=Fe(v,n,t)*d%t,y=Fe(g,i,t)*h%t,x=Fe(y,r,t)*u%t,A=Fe(x,eo,t);if(!to.eql(to.sqr(A),e))throw new Error("Cannot find square root");return A}const to=lc(x0,void 0,void 0,{sqrt:z5}),pa=B5({a:O5,b:BigInt(7),Fp:to,n:Gu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Gu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-$5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=qu(a*e,t),c=qu(-r*e,t);let u=Ce(e-o*n-c*s,t),d=Ce(-o*r-c*a,t);const f=u>i,l=d>i;if(f&&(u=t-u),l&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},jp),M5=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:pa},Symbol.toStringTag,{value:"Module"}));function _0({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new pa.Signature(re(e),re(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:Ne(i)}async function ha(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const o=t.signature;return Qe(o)?o:typeof o=="object"&&"r"in o&&"s"in o?_0(o):pe(o)})();try{return j6(i)?await D5(e,{...t,multicallAddress:a,signature:i}):await L5(e,{...t,verifierAddress:s,signature:i})}catch(o){try{if(Xr(Nn(n),await Ll({hash:r,signature:i})))return!0}catch{}if(o instanceof bn)return!1;throw o}}async function D5(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:i}=t,{authorization:o,data:c,signature:u,to:d}=U6(t.signature);if(await Gi(e,{address:n,blockNumber:r,blockTag:s})===Ze(["0xef0100",o.address]))return await F5(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const l={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:T(o.r,{size:32}),s:T(o.s,{size:32}),yParity:o.yParity};if(!await Og({address:n,authorization:l}))throw new bn;const h=await F(e,nt,"readContract")({...i?{address:i}:{code:Go},authorizationList:[l],abi:Os,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Se({abi:gf,functionName:"isValidSignature",args:[a,u]})}]]});if(h[h.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new bn}async function L5(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:i,verifierAddress:o,...c}=t,u=await(async()=>!r&&!s||c5(i)?i:o5({data:s,signature:i,to:r}))(),d=o?{to:o,data:Se({abi:Su,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:ta({abi:Su,args:[n,a,u],bytecode:C1}),...c},{data:f}=await F(e,na,"call")(d).catch(l=>{throw l instanceof $l?new bn:l});if(Iy(f??"0x0"))return!0;throw new bn}async function F5(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:i}=t;if((await F(e,nt,"readContract")({address:n,abi:gf,args:[a,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof zl?new bn:c})).startsWith("0x1626ba7e"))return!0;throw new bn}class bn extends Error{}async function U5(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...i}){const o=Qo(n);return ha(e,{address:t,factory:r,factoryData:s,hash:o,signature:a,...i})}async function j5(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:u,...d}=t,f=jf({message:i,primaryType:o,types:c,domain:u});return ha(e,{address:n,factory:r,factoryData:s,hash:f,signature:a,...d})}function E0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=e.pollingInterval}){const o=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const f=he(["watchBlockNumber",e.uid,t,n,i]);return Nt(f,{onBlockNumber:r,onError:s},l=>nr(async()=>{try{const p=await F(e,ts,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let h=c+1n;h<p;h++)l.onBlockNumber(h,c),c=h}(c===void 0||p>c)&&(l.onBlockNumber(p,c),c=p)}catch(p){l.onError?.(p)}},{emitOnBegin:t,interval:i}))})():(()=>{const f=he(["watchBlockNumber",e.uid,t,n]);return Nt(f,{onBlockNumber:r,onError:s},l=>{let p=!0,h=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return b?b.value:e.transport}return e.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(b){if(!p)return;const v=re(b.result?.number);l.onBlockNumber(v,c),c=v},onError(b){l.onError?.(b)}});h=w,p||h()}catch(m){s?.(m)}})(),()=>h()})})()}async function A0(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:i=6,retryDelay:o=({count:x})=>~~(1<<x)*200,timeout:c=18e4}=t,u=he(["waitForTransactionReceipt",e.uid,s]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let f,l,p,h=!1,m,w;const{promise:b,resolve:v,reject:g}=qo(),y=c?setTimeout(()=>{w?.(),m?.(),g(new vb({hash:s}))},c):void 0;return m=Nt(u,{onReplaced:a,resolve:v,reject:g},async x=>{if(p=await F(e,gs,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(y),x.resolve(p),m?.();return}w=F(e,E0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(A){const E=z=>{clearTimeout(y),w?.(),z(),m?.()};let N=A;if(!h)try{if(p){if(r>1&&(!p.blockNumber||N-p.blockNumber+1n<r))return;E(()=>x.resolve(p));return}if(n&&!f&&(h=!0,await $s(async()=>{f=await F(e,oc,"getTransaction")({hash:s}),f.blockNumber&&(N=f.blockNumber)},{delay:o,retryCount:i}),h=!1),p=await F(e,gs,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||N-p.blockNumber+1n<r))return;E(()=>x.resolve(p))}catch(z){if(z instanceof Rl||z instanceof Bl){if(!f){h=!1;return}try{l=f,h=!0;const B=await $s(()=>F(e,ot,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:L})=>L instanceof Vl});h=!1;const R=B.transactions.find(({from:L,nonce:Y})=>L===l.from&&Y===l.nonce);if(!R||(p=await F(e,gs,"getTransactionReceipt")({hash:R.hash}),r>1&&(!p.blockNumber||N-p.blockNumber+1n<r)))return;let O="replaced";R.to===l.to&&R.value===l.value&&R.input===l.input?O="repriced":R.from===R.to&&R.value===0n&&(O="cancelled"),E(()=>{x.onReplaced?.({reason:O,replacedTransaction:l,transaction:R,transactionReceipt:p}),x.resolve(p)})}catch(B){E(()=>x.reject(B))}}else E(()=>x.reject(z))}}})}),b}function V5(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=e.pollingInterval}){const u=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let f;return u?(()=>{const h=he(["watchBlocks",e.uid,t,n,r,d,c]);return Nt(h,{onBlock:s,onError:a},m=>nr(async()=>{try{const w=await F(e,ot,"getBlock")({blockTag:t,includeTransactions:d});if(w.number!==null&&f?.number!=null){if(w.number===f.number)return;if(w.number-f.number>1&&n)for(let b=f?.number+1n;b<w.number;b++){const v=await F(e,ot,"getBlock")({blockNumber:b,includeTransactions:d});m.onBlock(v,f),f=v}}(f?.number==null||t==="pending"&&w?.number==null||w.number!==null&&w.number>f.number)&&(m.onBlock(w,f),f=w)}catch(w){m.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let h=!0,m=!0,w=()=>h=!1;return(async()=>{try{r&&F(e,ot,"getBlock")({blockTag:t,includeTransactions:d}).then(g=>{h&&m&&(s(g,void 0),m=!1)}).catch(a);const b=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await b.subscribe({params:["newHeads"],async onData(g){if(!h)return;const y=await F(e,ot,"getBlock")({blockNumber:g.result?.number,includeTransactions:d}).catch(()=>{});h&&(s(y,f),m=!1,f=y)},onError(g){a?.(g)}});w=v,h||w()}catch(b){a?.(b)}})(),()=>w()})()}function G5(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=f??!1;return l?(()=>{const w=he(["watchEvent",t,n,r,e.uid,s,d,i]);return Nt(w,{onLogs:c,onError:o},b=>{let v;i!==void 0&&(v=i-1n);let g,y=!1;const x=nr(async()=>{if(!y){try{g=await F(e,Df,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:i})}catch{}y=!0;return}try{let A;if(g)A=await F(e,ra,"getFilterChanges")({filter:g});else{const E=await F(e,ts,"getBlockNumber")({});v&&v!==E?A=await F(e,jo,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:v+1n,toBlock:E}):A=[],v=E}if(A.length===0)return;if(r)b.onLogs(A);else for(const E of A)b.onLogs([E])}catch(A){g&&A instanceof fn&&(y=!1),b.onError?.(A)}},{emitOnBegin:!0,interval:d});return async()=>{g&&await F(e,sa,"uninstallFilter")({filter:g}),x()}})})():(()=>{let w=!0,b=()=>w=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),g=a??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(E=>Wr({abi:[E],eventName:E.name,args:n}))],s&&(y=y[0]));const{unsubscribe:x}=await v.subscribe({params:["logs",{address:t,topics:y}],onData(A){if(!w)return;const E=A.result;try{const{eventName:N,args:z}=Fo({abi:g??[],data:E.data,topics:E.topics,strict:p}),B=ft(E,{args:z,eventName:N});c([B])}catch(N){let z,B;if(N instanceof br||N instanceof qs){if(f)return;z=N.abiItem.name,B=N.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const R=ft(E,{args:B?[]:{},eventName:z});c([R])}},onError(A){o?.(A)}});b=x,w||b()}catch(v){o?.(v)}})(),()=>b()})()}function q5(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=he(["watchPendingTransactions",e.uid,t,a]);return Nt(u,{onTransactions:r,onError:n},d=>{let f;const l=nr(async()=>{try{if(!f)try{f=await F(e,Lf,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const p=await F(e,ra,"getFilterChanges")({filter:f});if(p.length===0)return;if(t)d.onTransactions(p);else for(const h of p)d.onTransactions([h])}catch(p){d.onError?.(p)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await F(e,sa,"uninstallFilter")({filter:f}),l()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const p=l.result;r([p])},onError(l){n?.(l)}});d=f,u||d()}catch(f){n?.(f)}})(),()=>d()})()}function H5(e){const{scheme:t,statement:n,...r}=e.match(W5)?.groups??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:o,requestId:c,...u}=e.match(Z5)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const W5=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Z5=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function K5(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!oe(r.address,{strict:!1})||t&&!Xr(r.address,t))return!1}catch{return!1}return!0}async function Y5(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...u}=t,d=H5(s);if(!d.address||!K5({address:n,domain:r,message:d,nonce:a,scheme:i,time:c}))return!1;const l=Qo(s);return ha(e,{address:d.address,hash:l,signature:o,...u})}async function fc(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||Ho)(s);if(i.status==="reverted"&&n)throw new Ol({receipt:i});return i}function Ls(e){return{call:t=>na(e,t),createAccessList:t=>Mf(e,t),createBlockFilter:()=>hg(e),createContractEventFilter:t=>Il(e,t),createEventFilter:t=>Df(e,t),createPendingTransactionFilter:()=>Lf(e),estimateContractGas:t=>Kb(e,t),estimateGas:t=>Lo(e,t),getBalance:t=>mg(e,t),getBlobBaseFee:()=>yg(e),getBlock:t=>ot(e,t),getBlockNumber:t=>ts(e,t),getBlockTransactionCount:t=>bg(e,t),getBytecode:t=>Gi(e,t),getChainId:()=>zt(e),getCode:t=>Gi(e,t),getContractEvents:t=>nf(e,t),getEip712Domain:t=>wg(e,t),getEnsAddress:t=>X1(e,t),getEnsAvatar:t=>lg(e,t),getEnsName:t=>fg(e,t),getEnsResolver:t=>pg(e,t),getEnsText:t=>zf(e,t),getFeeHistory:t=>_g(e,t),estimateFeesPerGas:t=>Vb(e,t),getFilterChanges:t=>ra(e,t),getFilterLogs:t=>Eg(e,t),getGasPrice:()=>Bo(e),getLogs:t=>jo(e,t),getProof:t=>H6(e,t),estimateMaxPriorityFeePerGas:t=>jb(e,t),getStorageAt:t=>W6(e,t),getTransaction:t=>oc(e,t),getTransactionConfirmations:t=>Z6(e,t),getTransactionCount:t=>Oo(e,t),getTransactionReceipt:t=>gs(e,t),multicall:t=>K6(e,t),prepareTransactionRequest:t=>er(e,t),readContract:t=>nt(e,t),sendRawTransaction:t=>ia(e,t),sendRawTransactionSync:t=>fc(e,t),simulate:t=>Zi(e,t),simulateBlocks:t=>Zi(e,t),simulateCalls:t=>a5(e,t),simulateContract:t=>z1(e,t),verifyHash:t=>ha(e,t),verifyMessage:t=>U5(e,t),verifySiweMessage:t=>Y5(e,t),verifyTypedData:t=>j5(e,t),uninstallFilter:t=>sa(e,t),waitForTransactionReceipt:t=>A0(e,t),watchBlocks:t=>V5(e,t),watchBlockNumber:t=>E0(e,t),watchContractEvent:t=>V1(e,t),watchEvent:t=>G5(e,t),watchPendingTransactions:t=>q5(e,t)}}function J5(e){const{key:t="public",name:n="Public Client"}=e;return Rf({...e,key:t,name:n,type:"publicClient"}).extend(Ls)}async function X5(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:T(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:i?Object.values(i).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function Q5(e,t){const{abi:n,args:r,bytecode:s,...a}=t,i=ta({abi:n,args:r,bytecode:s});return rs(e,{...a,...a.authorizationList?{to:null}:{},data:i})}async function ew(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>qr(n))}async function tw(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?ce(n):void 0,a=r?[s?.address,[T(r)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:a}),o={};for(const[c,u]of Object.entries(i)){o[Number(c)]={};for(let[d,f]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),o[Number(c)][d]=f}return typeof r=="number"?o[r]:o}async function nw(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function T0(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new ht({docsPath:"/docs/eip7702/prepareAuthorization"});const a=ce(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:ce(t.executor)})(),o={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=e.chain?.id??await F(e,zt,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await F(e,Oo,"getTransactionCount")({address:a.address,blockTag:"pending"}),(i==="self"||i?.address&&Xr(i.address,a.address))&&(o.nonce+=1)),o}async function rw(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Nn(n))}async function sw(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function aw(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await Pf(e,t);return await kf(e,{...t,id:s.id,timeout:r})}const Ha=new Gr(128);async function S0(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,pollingInterval:h,throwOnReceiptRevert:m,type:w,value:b,...v}=t,g=t.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new ht({docsPath:"/docs/actions/wallet/sendTransactionSync"});const y=n?ce(n):null;try{$t(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Ks({authorization:a[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`.")})})();if(y?.type==="json-rpc"||y===null){let A;r!==null&&(A=await F(e,zt,"getChainId")({}),ns({currentChainId:A,chain:r}));const E=e.chain?.formatters?.transactionRequest?.format,z=(E||qt)({...Jr(v,{format:E}),accessList:s,account:y,authorizationList:a,blobs:i,chainId:A,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,to:x,type:w,value:b},"sendTransaction"),B=Ha.get(e.uid),R=B?"wallet_sendTransaction":"eth_sendTransaction",O=await(async()=>{try{return await e.request({method:R,params:[z]},{retryCount:0})}catch(Y){if(B===!1)throw Y;const P=Y;if(P.name==="InvalidInputRpcError"||P.name==="InvalidParamsRpcError"||P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[z]},{retryCount:0}).then(S=>(Ha.set(e.uid,!0),S)).catch(S=>{const D=S;throw D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"?(Ha.set(e.uid,!1),P):D});throw P}})(),L=await F(e,A0,"waitForTransactionReceipt")({checkReplacement:!1,hash:O,pollingInterval:h,timeout:g});if(m&&L.status==="reverted")throw new Ol({receipt:L});return L}if(y?.type==="local"){const A=await F(e,er,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:p,nonceManager:y.nonceManager,parameters:[...Do,"sidecars"],type:w,value:b,...v,to:x}),E=r?.serializers?.transaction,N=await y.signTransaction(A,{serializer:E});return await F(e,fc,"sendRawTransactionSync")({serializedTransaction:N,throwOnReceiptRevert:m})}throw y?.type==="smart"?new en({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new en({docsPath:"/docs/actions/wallet/sendTransactionSync",type:y?.type})}catch(x){throw x instanceof en?x:aa(x,{...t,account:y,chain:t.chain||void 0})}}async function iw(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function ow(e,t){const{account:n=e.account}=t;if(!n)throw new ht({docsPath:"/docs/eip7702/signAuthorization"});const r=ce(n);if(!r.signAuthorization)throw new en({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await T0(e,t);return r.signAuthorization(s)}async function cw(e,{account:t=e.account,message:n}){if(!t)throw new ht({docsPath:"/docs/actions/wallet/signMessage"});const r=ce(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?jn(n):n.raw instanceof Uint8Array?Q(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function I0(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ht({docsPath:"/docs/actions/wallet/signTransaction"});const a=ce(n);$t({account:a,...t});const i=await F(e,zt,"getChainId")({});r!==null&&ns({currentChainId:i,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||qt;return a.signTransaction?a.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:a},"signTransaction"),chainId:T(i),from:a.address}]},{retryCount:0})}async function P0(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new ht({docsPath:"/docs/actions/wallet/signTypedData"});const i=ce(n),o={EIP712Domain:Uf({domain:r}),...t.types};if(Ff({domain:r,message:s,primaryType:a,types:o}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:a,types:o});const c=Hg({domain:r,message:s,primaryType:a,types:o});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function uw(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:T(t)}]},{retryCount:0})}async function dw(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function lw(e,t){return Hn.internal(e,S0,"sendTransactionSync",t)}function fw(e){return{addChain:t=>X5(e,t),deployContract:t=>Q5(e,t),getAddresses:()=>ew(e),getCallsStatus:t=>Cf(e,t),getCapabilities:t=>tw(e,t),getChainId:()=>zt(e),getPermissions:()=>nw(e),prepareAuthorization:t=>T0(e,t),prepareTransactionRequest:t=>er(e,t),requestAddresses:()=>rw(e),requestPermissions:t=>sw(e,t),sendCalls:t=>Pf(e,t),sendCallsSync:t=>aw(e,t),sendRawTransaction:t=>ia(e,t),sendRawTransactionSync:t=>fc(e,t),sendTransaction:t=>rs(e,t),sendTransactionSync:t=>S0(e,t),showCallsStatus:t=>iw(e,t),signAuthorization:t=>ow(e,t),signMessage:t=>cw(e,t),signTransaction:t=>I0(e,t),signTypedData:t=>P0(e,t),switchChain:t=>uw(e,t),waitForCallsStatus:t=>kf(e,t),watchAsset:t=>dw(e,t),writeContract:t=>Hn(e,t),writeContractSync:t=>lw(e,t)}}function pw(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Rf({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(fw)}function hw({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:i,type:o},c){const u=Nf();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:i,type:o},request:zg(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:c}}class mw extends _{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function C0(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:f}=t;return({chain:l,retryCount:p,timeout:h})=>{const{batchSize:m=1e3,wait:w=0}=typeof n=="object"?n:{},b=t.retryCount??p,v=h??t.timeout??1e4,g=l?.rpcUrls.default.http[0];if(!g)throw new mw;const y=Fg(g,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:v});return hw({key:a,methods:i,name:o,async request({method:x,params:A}){const E={method:x,params:A},{schedule:N}=_f({id:g,wait:w,shouldSplitBatch(O){return O.length>m},fn:O=>y.request({body:O}),sort:(O,L)=>O.id-L.id}),z=async O=>n?N(O):[await y.request({body:O})],[{error:B,result:R}]=await z(E);if(f)return{error:B,result:R};if(B)throw new Co({body:E,error:B,url:g});return R},retryCount:b,retryDelay:d,timeout:v,type:"http"},{fetchOptions:s,url:g})}}const pc=50000n,Hu=Db*32n,k0={block:Hl({format(e){const t=e.transactions?.map(n=>{if(typeof n=="string")return n;const r=k0.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?re(e.l1BatchTimestamp):null,transactions:t}}}),transaction:ql({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?re(e.l1BatchTxIndex):null}}}),transactionReceipt:Tf({format(e){return{l1BatchNumber:e.l1BatchNumber?re(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?re(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...ft(t),l1BatchNumber:t.l1BatchNumber?re(t.l1BatchNumber):null,transactionLogIndex:Me(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:re(t.blockHash),blockHash:t.blockHash,l1BatchNumber:t.l1BatchNumber?re(t.l1BatchNumber):null,transactionIndex:re(t.transactionIndex),shardId:re(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:re(t.logIndex)}))}}}),transactionRequest:$b({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:Q(e.gasPerPubdata)}:{gasPerPubdata:Q(pc)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(Ne(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(Ne(t)))}:{},...e.customSignature?{customSignature:Array.from(Ne(e.customSignature))}:{}},type:"0x71"}:{}}})};class N0 extends _{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function os(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function R0(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:a}=e;if(!os(e))throw new N0;if(!t||t<=0)throw new es({chainId:t});if(n&&!oe(n))throw new fe({address:n});if(r&&!oe(r))throw new fe({address:r});if(s&&!oe(s))throw new fe({address:s});if(s&&!a)throw new _("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&a)throw new _("`paymaster` must be provided when `paymasterInput` is defined")}function yw(e,t){return os(e)?gw(e):Xo(e,t)}const bw={transaction:yw};function gw(e){const{chainId:t,gas:n,nonce:r,to:s,from:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:d,paymaster:f,paymasterInput:l,gasPerPubdata:p,data:h}=e;R0(e);const m=[r?Q(r):"0x",c?Q(c):"0x",o?Q(o):"0x",n?Q(n):"0x",s??"0x",i?Q(i):"0x",h??"0x",Q(t),Q(""),Q(""),Q(t),a??"0x",Q(p||pc),d??[],u??"0x",f&&l?[f,l]:[]];return Ze(["0x71",kt(m)])}class ww extends _{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class vw extends _{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class xw extends _{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function no(e){const t=Tt(e);if(t.length%32!==0)throw new xw({givenLength:t.length});if(t.length>Hu)throw new ww({givenLength:t.length,maxBytecodeSize:Hu});const n=Zl(t),r=Tt(n),s=t.length/32;if(s%2===0)throw new vw({givenLengthInWords:s});const a=Tt(s),i=gn(a,{size:2}),o=new Uint8Array([1,0]);return r.set(o,0),r.set(i,2),r}const _w=e=>{R0(e);const t=Ew(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function Ew(e){const{gas:t,nonce:n,to:r,from:s,value:a,maxFeePerGas:i,maxPriorityFeePerGas:o,factoryDeps:c,paymaster:u,paymasterInput:d,gasPerPubdata:f,data:l}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:f??pc,maxFeePerGas:i??0n,maxPriorityFeePerGas:o??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:a??0n,data:l??"0x",factoryDeps:c?.map(p=>Q(no(p)))??[],paymasterInput:d||"0x"}}const B0={blockTime:1e3,formatters:k0,serializers:bw,custom:{getEip712Domain:_w}},Aw=Ie({...B0,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),Tw=Ie({...B0,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),Sw={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Iw={block:Hl({format(e){return{transactions:e.transactions?.map(n=>{if(typeof n=="string")return n;const r=Qs(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?re(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:e.stateRoot}}}),transaction:ql({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?re(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Tf({format(e){return{l1GasPrice:e.l1GasPrice?re(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?re(e.l1GasUsed):null,l1Fee:e.l1Fee?re(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Pw(e,t){return Nw(e)?kw(e):Xo(e,t)}const Cw={transaction:Pw};function kw(e){Rw(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:a,mint:i,to:o,value:c}=e,u=[t,r,o??"0x",i?Q(i):"0x",c?Q(c):"0x",s?Q(s):"0x",a?"0x1":"0x",n??"0x"];return Ze(["0x7e",kt(u)])}function Nw(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Rw(e){const{from:t,to:n}=e;if(t&&!oe(t))throw new fe({address:t});if(n&&!oe(n))throw new fe({address:n})}const Fs={blockTime:2e3,contracts:Sw,formatters:Iw,serializers:Cw},Bw=Ie({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Ow=Ie({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),cr=1,O0=Ie({...Fs,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Fs.contracts,disputeGameFactory:{[cr]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[cr]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[cr]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[cr]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:cr});({...O0});const ur=11155111,$0=Ie({...Fs,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Fs.contracts,disputeGameFactory:{[ur]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[ur]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[ur]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[ur]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:ur});({...$0});const $w=Ie({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),zw=Ie({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),Mw=Ie({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),Dw=Ie({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Lw=Ie({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),Fw=Ie({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),Uw=Ie({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jw(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function z0(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function ro(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function M0(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function so(e){if(!Array.isArray(e))throw new Error("array expected")}function D0(e,t){if(!z0(!0,t))throw new Error(`${e}: array of strings expected`)}function Vw(e,t){if(!z0(!1,t))throw new Error(`${e}: array of numbers expected`)}function Gw(...e){const t=a=>a,n=(a,i)=>o=>a(i(o)),r=e.map(a=>a.encode).reduceRight(n,t),s=e.map(a=>a.decode).reduce(n,t);return{encode:r,decode:s}}function qw(e){const t=typeof e=="string"?e.split(""):e,n=t.length;D0("alphabet",t);const r=new Map(t.map((s,a)=>[s,a]));return{encode:s=>(so(s),s.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${e}`);return t[a]})),decode:s=>(so(s),s.map(a=>{ro("alphabet.decode",a);const i=r.get(a);if(i===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return i}))}}function Hw(e=""){return ro("join",e),{encode:t=>(D0("join.decode",t),t.join(e)),decode:t=>(ro("join.decode",t),t.split(e))}}function Wu(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(so(e),!e.length)return[];let r=0;const s=[],a=Array.from(e,o=>{if(M0(o),o<0||o>=t)throw new Error(`invalid integer: ${o}`);return o}),i=a.length;for(;;){let o=0,c=!0;for(let u=r;u<i;u++){const d=a[u],f=t*o,l=f+d;if(!Number.isSafeInteger(l)||f/t!==o||l-d!==f)throw new Error("convertRadix: carry overflow");const p=l/n;o=l%n;const h=Math.floor(p);if(a[u]=h,!Number.isSafeInteger(h)||h*n+o!==l)throw new Error("convertRadix: carry overflow");if(c)h?c=!1:r=u;else continue}if(s.push(o),c)break}for(let o=0;o<e.length-1&&e[o]===0;o++)s.push(0);return s.reverse()}function Ww(e){M0(e);const t=2**8;return{encode:n=>{if(!jw(n))throw new Error("radix.encode input should be Uint8Array");return Wu(Array.from(n),t,e)},decode:n=>(Vw("radix.decode",n),Uint8Array.from(Wu(n,e,t)))}}const Zw=e=>Gw(Ww(58),qw(e),Hw("")),Kw=Zw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Yw(e){if(typeof e=="string"){if(!oe(e,{strict:!1}))throw new fe({address:e});return{address:e,type:"json-rpc"}}if(!oe(e.address,{strict:!1}))throw new fe({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let Wa=!1;async function cs({hash:e,privateKey:t,to:n="object"}){const{r,s,recovery:a}=pa.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:Qe(Wa,{strict:!1})?Ne(Wa):Wa}),i={r:T(r,{size:32}),s:T(s,{size:32}),v:a?28n:27n,yParity:a};return n==="bytes"||n==="hex"?_0({...i,to:n}):i}async function Jw(e){const{chainId:t,nonce:n,privateKey:r,to:s="object"}=e,a=e.contractAddress??e.address,i=await cs({hash:jl({address:a,chainId:t,nonce:n}),privateKey:r,to:s});return s==="object"?{address:a,chainId:t,nonce:n,...i}:i}async function Xw({message:e,privateKey:t}){return await cs({hash:Qo(e),privateKey:t,to:"hex"})}async function Qw(e){const{privateKey:t,transaction:n,serializer:r=Xo}=e,s=n.type==="eip4844"?{...n,sidecars:!1}:n,a=await cs({hash:ye(await r(s)),privateKey:t});return await r(n,a)}async function e2(e){const{privateKey:t,...n}=e;return await cs({hash:jf(n),privateKey:t,to:"hex"})}function t2(e,t={}){const{nonceManager:n}=t,r=Q(pa.getPublicKey(e.slice(2),!1)),s=Ml(r);return{...Yw({address:s,nonceManager:n,async sign({hash:i}){return cs({hash:i,privateKey:e,to:"hex"})},async signAuthorization(i){return Jw({...i,privateKey:e})},async signMessage({message:i}){return Xw({message:i,privateKey:e})},async signTransaction(i,{serializer:o}={}){return Qw({privateKey:e,transaction:i,serializer:o})},async signTypedData(i){return e2({...i,privateKey:e})}}),publicKey:r,source:"privateKey"}}const n2="0x0000000000000000000000000000000000008006",r2="0x0000000000000000000000000000000000010000",Zu=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],Ku=1,Za="/docs/contract/encodeDeployData";function s2(e){const{abi:t,args:n,bytecode:r,deploymentType:s,salt:a}=e;if(!n||n.length===0){const{functionName:d,argsContractDeployer:f}=Yu(s,a??Nu,Q(no(r)),"0x");return Se({abi:Zu,functionName:d,args:f})}const i=t.find(d=>"type"in d&&d.type==="constructor");if(!i)throw new ll({docsPath:Za});if(!("inputs"in i))throw new Bs({docsPath:Za});if(!i.inputs||i.inputs.length===0)throw new Bs({docsPath:Za});const o=Gt(i.inputs,n),{functionName:c,argsContractDeployer:u}=Yu(s,a??Nu,Q(no(r)),o);return Se({abi:Zu,functionName:c,args:u})}function Yu(e,t,n,r){const s=[t,n,r];return{create:{functionName:"create",argsContractDeployer:s},create2:{functionName:"create2",argsContractDeployer:s},createAccount:{functionName:"createAccount",argsContractDeployer:[...s,Ku]},create2Account:{functionName:"create2Account",argsContractDeployer:[...s,Ku]}}[e||"create"]}function L0(e){if(!os(e))throw new N0;$t(e)}async function a2(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t,a=n?ce(n):e.account;if(!a)throw new ht({docsPath:"/docs/actions/wallet/signTransaction"});if(L0({account:a,chain:r,...t}),!r?.custom?.getEip712Domain)throw new _("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new _("transaction serializer not found on chain.");const i=await F(e,zt,"getChainId")({});r!==null&&ns({currentChainId:i,chain:r});const o=r?.custom.getEip712Domain({...s,chainId:i,from:a.address,type:"eip712"}),c=await P0(e,{...o,account:a});return r?.serializers?.transaction({chainId:i,...s,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function F0(e,t){return os(t)?a2(e,t):await I0(e,t)}async function U0(e,t){const{account:n=e.account,chain:r=e.chain}=t,s=n?ce(n):e.account;if(!s)throw new ht({docsPath:"/docs/actions/wallet/sendTransaction"});try{L0(t);const a=await er(e,{...t,nonceManager:s.nonceManager,parameters:["gas","nonce","fees"]});let i;r!==null&&(i=await F(e,zt,"getChainId")({}),ns({currentChainId:i,chain:r}));const o=await F0(e,{...a,chainId:i});return await F(e,ia,"sendRawTransaction")({serializedTransaction:o})}catch(a){throw aa(a,{...t,account:s,chain:r})}}function i2(e,t){const{abi:n,args:r,bytecode:s,deploymentType:a,salt:i,...o}=t,c=s2({abi:n,args:r,bytecode:s,deploymentType:a,salt:i});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(s)||o.factoryDeps.push(s),U0(e,{...o,data:c,to:a==="create2"||a==="create2Account"?r2:n2})}async function Ju(e,t){return os(t)?U0(e,t):rs(e,t)}function o2(){return e=>({sendTransaction:t=>Ju(e,t),signTransaction:t=>F0(e,t),deployContract:t=>i2(e,t),writeContract:t=>Hn(Object.assign(e,{sendTransaction:n=>Ju(e,n)}),t)})}function c2(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new V(vs,{alphabet:e,base:e.length,value:n})}var u2=e=>jt({getSizeFromValue:t=>{const[n,r]=Xu(t,e[0]);if(!r)return t.length;const s=Qu(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(c2(e,t),t==="")return r;const[s,a]=Xu(t,e[0]);if(!a)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let i=Qu(a,e);const o=[];for(;i>0n;)o.unshift(Number(i%256n)),i/=256n;const c=[...Array(s.length).fill(0),...o];return n.set(c,r),r+c.length}}),d2=e=>Be({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const a=e[0].repeat(s);if(s===r.length)return[a,t.length];const i=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),o=l2(i,e);return[a+o,t.length]}});function Xu(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Qu(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function l2(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var j0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",f2=()=>u2(j0),p2=()=>d2(j0),ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V0=()=>jt({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new V(vs,{alphabet:ed,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(s=>s.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new V(vs,{alphabet:ed,base:64,value:e})}}}),h2=()=>Be({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),m2=e=>e.replace(/\u0000/g,""),y2=globalThis.TextDecoder,dr=()=>{let e;return Be({read(t,n){const r=(e||(e=new y2)).decode(t.slice(n));return[m2(r),t.length]}})};function b2(e,t){try{return"exists"in e&&!e.exists?e:Object.freeze({...e,data:t.decode(e.data)})}catch{throw new V(Gp,{address:e.address})}}function g2(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=V0().encode(t.data[0]);return Object.freeze({...w2(t),address:e,data:n,exists:!0})}function w2(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function G0(e,t,n={}){const{abortSignal:r,...s}=n,a=await e.getAccountInfo(t,{...s,encoding:"base64"}).send({abortSignal:r});return g2(t,a.value)}function v2(e){if(!e.exists)throw new V(Vp,{address:e.address})}function x2(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new V(Wp)}function ma(){if(!globalThis.isSecureContext)throw new V(Hp)}function _2(){if(ma(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new V(qp)}function q0(){if(ma(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new V(Zp)}function E2(){if(ma(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new V(Kp)}function A2(){if(ma(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new V(Yp)}var Ka,Ya;function hc(){return Ka||(Ka=f2()),Ka}function T2(){return Ya||(Ya=p2()),Ya}function S2(e){if(e.length<32||e.length>44)return!1;const t=hc();try{return t.encode(e).byteLength===32}catch{return!1}}function I2(e){if(e.length<32||e.length>44)throw new V(th,{actualLength:e.length});const r=hc().encode(e).byteLength;if(r!==32)throw new V(nh,{actualLength:r})}function P2(e){return I2(e),e}function zn(){return Vt(bo(hc(),32),e=>P2(e))}function X(){return Xn(T2(),32)}function C2(){return eh(zn(),X())}function mc(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var k2=37095705934669439343138083508754565189542113879843219016388785533085940283555n,ve=57896044618658097711785492504343953926634992332820282019728792003956564819949n,td=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function je(e){const t=e%ve;return t>=0n?t:ve+t}function at(e,t){let n=e;for(;t-- >0n;)n*=n,n%=ve;return n}function N2(e){const n=e*e%ve*e%ve,r=at(n,2n)*n%ve,s=at(r,1n)*e%ve,a=at(s,5n)*s%ve,i=at(a,10n)*a%ve,o=at(i,20n)*i%ve,c=at(o,40n)*o%ve,u=at(c,80n)*c%ve,d=at(u,80n)*c%ve,f=at(d,10n)*a%ve;return at(f,2n)*e%ve}function R2(e,t){const n=je(t*t*t),r=je(n*n*t),s=N2(e*r);let a=je(e*n*s);const i=je(t*a*a),o=a,c=je(a*td),u=i===e,d=i===je(-e),f=i===je(-e*td);return u&&(a=o),(d||f)&&(a=c),(je(a)&1n)===1n&&(a=je(-a)),!u&&!d?null:a}function B2(e,t){const n=je(e*e),r=je(n-1n),s=je(k2*n+1n),a=R2(r,s);if(a===null)return!1;const i=(t&128)!==0;return!(a===0n&&i)}function O2(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function $2(e){const n=`0x${e.reduce((r,s,a)=>`${O2(a===31?s&-129:s)}${r}`,"")}`;return BigInt(n)}function z2(e){if(e.byteLength!==32)return!1;const t=$2(e);return B2(t,e[31])}var nd=32,rd=16,M2=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function D2({programAddress:e,seeds:t}){if(_2(),t.length>rd)throw new V(Xp,{actual:t.length,maxSeeds:rd});let n;const r=t.reduce((c,u,d)=>{const f=typeof u=="string"?(n||(n=new TextEncoder)).encode(u):u;if(f.byteLength>nd)throw new V(Qp,{actual:f.byteLength,index:d,maxSeedLength:nd});return c.push(...f),c},[]),s=C2(),a=s.encode(e),i=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...a,...M2])),o=new Uint8Array(i);if(z2(o))throw new V(Bd);return s.decode(o)}async function L2({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await D2({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(r){if(yo(r,Bd))n--;else throw r}throw new V(Jp)}async function H0(e){if(q0(),e.type!=="public"||e.algorithm.name!=="Ed25519")throw new V(rh);const t=await crypto.subtle.exportKey("raw",e);return X().decode(new Uint8Array(t))}function F2(e,t,n){if(t!==n)throw new V(sh,{actual:n,codecDescription:e,expected:t})}function U2(e){return e.reduce((t,n)=>t===null||n===null?null:Math.max(t,n),0)}function Wn(e){return e.reduce((t,n)=>t===null||n===null?null:t+n,0)}function us(e){return xs(e)?e.fixedSize:null}function rr(e){return xs(e)?e.fixedSize:e.maxSize??null}function Zn(e,t={}){const n=t.size??Od(),r=Us(n,us(e)),s=Us(n,rr(e))??void 0;return jt({...r!==null?{fixedSize:r}:{getSizeFromValue:a=>(typeof n=="object"?fi(a.length,n):0)+[...a].reduce((o,c)=>o+fi(c,e),0),maxSize:s},write:(a,i,o)=>(typeof n=="number"&&F2("array",n,a.length),typeof n=="object"&&(o=n.write(a.length,i,o)),a.forEach(c=>{o=e.write(c,i,o)}),o)})}function Rt(e,t={}){const n=t.size??_t(),r=us(e),s=Us(n,r),a=Us(n,rr(e))??void 0;return Be({...s!==null?{fixedSize:s}:{maxSize:a},read:(i,o)=>{const c=[];if(typeof n=="object"&&i.slice(o).length===0)return[c,o];if(n==="remainder"){for(;o<i.length;){const[f,l]=e.read(i,o);o=l,c.push(f)}return[c,o]}const[u,d]=typeof n=="number"?[n,o]:n.read(i,o);o=d;for(let f=0;f<u;f+=1){const[l,p]=e.read(i,o);o=p,c.push(l)}return[c,o]}})}function Us(e,t){return typeof e!="number"?null:e===0?0:t===null?null:t*e}function Ye(e={}){return Ge(e.size??dt(),t=>Number(t)===1)}function yc(){return jt({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Ur(){return Be({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var j2=()=>Be({read(e,t){return[e.slice(t).reduce((r,s)=>r+s.toString(16).padStart(2,"0"),""),e.length]}});function W0(e){return Be({fixedSize:e.length,read:(t,n)=>{const r=j2();if(!Zt(t,e,n))throw new V(ah,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function Kn(e){const t=Wn(e.map(us)),n=Wn(e.map(rr))??void 0;return Be({...t===null?{maxSize:n}:{fixedSize:t},read:(r,s)=>{const a=[];return e.forEach(i=>{const[o,c]=i.read(r,s);a.push(o),s=c}),[a,s]}})}function Z0(e,t){const n=G2(e),r=(a,i)=>{const o=t(a,i);return V2(e,o),e[o].read(a,i)};if(n!==null)return Be({fixedSize:n,read:r});const s=q2(e);return Be({...s!==null?{maxSize:s}:{},read:r})}function V2(e,t){if(typeof e[t]>"u")throw new V(ch,{maxRange:e.length-1,minRange:0,variant:t})}function G2(e){if(e.length===0)return 0;if(!xs(e[0]))return null;const t=e[0].fixedSize;return e.every(r=>xs(r)&&r.fixedSize===t)?t:null}function q2(e){return U2(e.map(t=>rr(t)))}function H2(e,t={}){const n=t.discriminator??"__kind",r=t.size??dt();return Z0(e.map(([s,a])=>Ge(Kn([r,a]),([,i])=>({[n]:s,...i}))),(s,a)=>Number(r.read(s,a)[0]))}function W2(e){const t=[...new Set(Object.values(e).filter(i=>typeof i=="number"))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),s=Object.values(n),a=[...new Set([...r,...s.filter(i=>typeof i=="string")])];return{enumKeys:r,enumRecord:n,enumValues:s,numericalValues:t,stringValues:a}}function Z2({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?K2(n,s=>s===e):e>=0&&e<t.length?e:-1}function K2(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function Y2(e){if(e.length===0)return"";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const s=e[r];t[1]+1===s?t[1]=s:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[s,s])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(", ")}function J2(e,t={}){const n=t.size??dt(),r=t.useValuesAsDiscriminators??!1,{enumKeys:s,enumValues:a,numericalValues:i}=W2(e);if(r&&a.some(o=>typeof o=="string"))throw new V(ih,{stringValues:a.filter(o=>typeof o=="string")});return Ge(n,o=>{const c=Number(o),u=Z2({discriminator:c,enumKeys:s,enumValues:a,useValuesAsDiscriminators:r});if(u<0){const d=r?i:[...Array(s.length).keys()];throw new V(oh,{discriminator:c,formattedValidDiscriminators:Y2(d),validDiscriminators:d})}return a[u]})}function X2(e,t){return Ge(Kn([...t,e]),n=>n[n.length-1])}function Q2(e,t,n={}){return Ge(Rt(Kn([e,t]),n),r=>new Map(r))}function Mn(){return Be({fixedSize:0,read:(e,t)=>[void 0,t]})}function mt(e){const t=e.map(([,s])=>s),n=Wn(t.map(us)),r=Wn(t.map(rr))??void 0;return jt({...n===null?{getSizeFromValue:s=>e.map(([a,i])=>fi(s[a],i)).reduce((a,i)=>a+i,0),maxSize:r}:{fixedSize:n},write:(s,a,i)=>(e.forEach(([o,c])=>{i=c.write(s[o],a,i)}),i)})}function te(e){const t=e.map(([,s])=>s),n=Wn(t.map(us)),r=Wn(t.map(rr))??void 0;return Be({...n===null?{maxSize:r}:{fixedSize:n},read:(s,a)=>{const i={};return e.forEach(([o,c])=>{const[u,d]=c.read(s,a);a=d,i[o]=u}),[i,a]}})}var ev=e=>({__option:"Some",value:e}),tv=()=>({__option:"None"});function xe(e,t={}){const n=t.prefix===null?Ge(Mn(),()=>!1):Ye({size:t.prefix??dt()}),r=t.noneValue==="zeroes"?(uh(e),Xn(Mn(),e.fixedSize)):t.noneValue?W0(t.noneValue):Mn();return Z0([Ge(Kn([n,r]),()=>tv()),Ge(Kn([n,e]),([,s])=>ev(s))],(s,a)=>{if(t.prefix===null&&!t.noneValue)return+(a<s.length);if(t.prefix===null&&t.noneValue!=null){const i=t.noneValue==="zeroes"?new Uint8Array(r.fixedSize).fill(0):t.noneValue;return Zt(s,i,a)?0:1}return Number(n.read(s,a)[0])})}function Bt(e,...t){return t.reduce((n,r)=>r(n),e)}var Je=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(Je||{}),nv=2,rv=1;function Yn(e){return e>=2}function jr(e){return(e&rv)!==0}function sd(e,t){return e|t}function sv(e){return e|nv}var ya=Object.freeze({name:"Ed25519"});function av(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}async function ao(e,t=!1){const n=e.byteLength;if(n!==32)throw new V(fh,{actualLength:n});const r=av(e);return await crypto.subtle.importKey("pkcs8",r,ya,t,["sign"])}async function iv(e,t=!1){if(q0(),e.extractable===!1)throw new V(ph,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}async function bc(e,t){E2();const n=await crypto.subtle.sign(ya,e,t);return new Uint8Array(n)}async function ov(e,t,n){return A2(),await crypto.subtle.verify(ya,e,t,n)}async function cv(e,t=!1){if(x2(),e.byteLength!==64)throw new V(dh,{byteLength:e.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",e.slice(32),ya,!0,["verify"]),ao(e.slice(0,32),t)]),s=new Uint8Array(32);crypto.getRandomValues(s);const a=await bc(r,s);if(!await ov(n,a,s))throw new V(lh);return{privateKey:r,publicKey:n}}async function uv(e,t=!1){const n=ao(e,t),[r,s]=await Promise.all([(t?n:ao(e,!0)).then(async a=>await iv(a,!0)),n]);return{privateKey:s,publicKey:r}}function K0(e){return JSON.parse(dv(e),(t,n)=>hv(n)?pv(n):n)}function dv(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let s=!1;if(e[r]==="\\"&&(t.push(e[r++]),s=!s),e[r]==='"'){t.push(e[r]),s||(n=!n);continue}if(!n){const a=lv(e,r);if(a?.length){r+=a.length-1,a.match(/\.|[eE]-/)?t.push(a):t.push(fv(a));continue}}t.push(e[r])}return t.join("")}function lv(e,t){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!e[t]?.match(/[-\d]/))return null;const r=e.slice(t).match(n);return r?r[0]:null}function fv(e){return`{"$n":"${e}"}`}function pv({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}function hv(e){return!!e&&typeof e=="object"&&"$n"in e&&typeof e.$n=="string"}var ad=0n;function mv(){const e=ad;return ad++,e.toString()}function io(e){return{id:mv(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function Y0(e,t){return bv(JSON.stringify(e,(n,r)=>typeof r=="bigint"?yv(r):r,t))}function yv(e){return{$n:`${e}`}}function bv(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function gv(e){return wv(e)}function wv(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const a=n.toString(),i=Reflect.get(t,a,r);if(!i)throw new V(hh,{method:a,params:s});const o=i(...s);return vv(e,o)}}})}function vv({transport:e},t){return{async send(n){return await t.execute({signal:n?.abortSignal,transport:e})}}}function xv(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...a){const i=Object.freeze({methodName:s,params:a}),o=e?.requestTransformer?e?.requestTransformer(i):i;return Object.freeze({execute:async({signal:c,transport:u})=>{const d=io(o),f=await u({payload:d,signal:c});return e?.responseTransformer?e.responseTransformer(f,o):f}})}}})}function J0(e){return e==null||typeof e!="object"||Array.isArray(e)?!1:"jsonrpc"in e&&e.jsonrpc==="2.0"&&"method"in e&&typeof e.method=="string"&&"params"in e}function _v(e){return typeof e=="bigint"?Number(e):e}var C={};function X0(e){return function t(n,r){if(Array.isArray(n))return n.map((s,a)=>{const i={...r,keyPath:[...r.keyPath,a]};return t(s,i)});if(typeof n=="object"&&n!==null){const s={};for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const i={...r,keyPath:[...r.keyPath,a]};s[a]=t(n[a],i)}return s}else return e.reduce((s,a)=>a(s,r),n)}}function Q0(e,t){return n=>{const r=X0(e);return Object.freeze({...n,params:r(n.params,t)})}}function Ev(e,t){return n=>X0(e)(n,t)}function Av(){return Q0([_v],{keyPath:[]})}function Tv({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const s=t[n];if(s===void 0||s&&typeof s=="object"&&!Array.isArray(s)){if(s&&e in s){if(!s[e]||s[e]==="finalized"){const a=[...t],{[e]:i,...o}=s;return Object.keys(o).length>0?a[n]=o:n===a.length-1?a.length--:a[n]=void 0,a}}else if(r!=="finalized"){const a=[...t];return a[n]={...s,[e]:r},a}}return t}function Sv({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:s}=n;if(!Array.isArray(r))return n;const a=t[s];return a==null?n:Object.freeze({methodName:s,params:Tv({commitmentPropertyName:s==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:a,overrideCommitment:e,params:r})})}}function Iv(e){return(t,{keyPath:n})=>(typeof t=="bigint"&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}function Pv(e){return t=>Q0([Iv((...r)=>e(t,...r))],{keyPath:[]})(t)}var Cv={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function ep(e){const t=e?.onIntegerOverflow;return n=>Bt(n,t?Pv(t):r=>r,Av(),Sv({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Cv}))}function kv(e){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?Nv(r,e)?Number(n):BigInt(n):n}}function Nv(e,t){return t.some(n=>{if(n.length!==e.length)return!1;for(let r=e.length-1;r>=0;r--){const s=e[r],a=n[r];if(a!==s&&(a!==C||typeof s!="number"))return!1}return!0})}function tp(e){return Ev([kv(e)],{keyPath:[]})}function Rv(){return e=>e.result}function Bv(){return e=>{const t=e;if("error"in t)throw $d(t.error);return t}}function Ov(e){return(t,n)=>{const r=n.methodName,s=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Bt(t,a=>Bv()(a,n),a=>Rv()(a,n),a=>tp(s??[])(a,n))}}function $v(e){return(t,n)=>{const r=n.methodName,s=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Bt(t,a=>tp(s??[])(a,n))}}var oo=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",C,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",C,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",C,"state","preUpdateAverageRate"],["data","parsed","info","extensions",C,"state","currentRate"]],kn=[...oo,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",C,"confirmationCount"]],Ja=[["index"],["instructions",C,"accounts",C],["instructions",C,"programIdIndex"],["instructions",C,"stackHeight"]],id=[["addressTableLookups",C,"writableIndexes",C],["addressTableLookups",C,"readonlyIndexes",C],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",C,"accounts",C],["instructions",C,"programIdIndex"],["instructions",C,"stackHeight"]];function zv(e){return xv({requestTransformer:ep(e),responseTransformer:Ov({allowedNumericKeyPaths:Mv()})})}var Xa;function Mv(){return Xa||(Xa={getAccountInfo:kn.map(e=>["value",...e]),getBlock:[["transactions",C,"meta","preTokenBalances",C,"accountIndex"],["transactions",C,"meta","preTokenBalances",C,"uiTokenAmount","decimals"],["transactions",C,"meta","postTokenBalances",C,"accountIndex"],["transactions",C,"meta","postTokenBalances",C,"uiTokenAmount","decimals"],["transactions",C,"meta","rewards",C,"commission"],...Ja.map(e=>["transactions",C,"meta","innerInstructions",C,...e]),...id.map(e=>["transactions",C,"transaction","message",...e]),["rewards",C,"commission"]],getClusterNodes:[[C,"featureSet"],[C,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[C,"commission"]],getMultipleAccounts:kn.map(e=>["value",C,...e]),getProgramAccounts:kn.flatMap(e=>[["value",C,"account",...e],[C,"account",...e]]),getRecentPerformanceSamples:[[C,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:oo.map(e=>["value",C,"account",...e]),getTokenAccountsByOwner:oo.map(e=>["value",C,"account",...e]),getTokenLargestAccounts:[["value",C,"decimals"],["value",C,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",C,"accountIndex"],["meta","preTokenBalances",C,"uiTokenAmount","decimals"],["meta","postTokenBalances",C,"accountIndex"],["meta","postTokenBalances",C,"uiTokenAmount","decimals"],["meta","rewards",C,"commission"],...Ja.map(e=>["meta","innerInstructions",C,...e]),...id.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",C,"commission"],["delinquent",C,"commission"]],simulateTransaction:[...kn.map(e=>["value","accounts",C,...e]),...Ja.map(e=>["value","innerInstructions",C,...e])]}),Xa}function Dv(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Lv(e){const{fromJson:t,headers:n,toJson:r,url:s}=e;let a;const i=n&&Dv(n);return async function({payload:c,signal:u}){const d=r?r(c):JSON.stringify(c),f={...a,body:d,headers:{...i,accept:"application/json","content-length":d.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:u},l=await fetch(s,f);if(!l.ok)throw new V(mh,{headers:l.headers,message:l.statusText,statusCode:l.status});return t?t(await l.text(),c):await l.json()}}var Fv=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function od(e){return J0(e)&&Fv.includes(e.method)}function Uv(e){return Lv({...e,fromJson:(t,n)=>od(n)?K0(t):JSON.parse(t),toJson:t=>od(t)?Y0(t):JSON.stringify(t)})}var jv=Object.prototype.toString,Vv=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function hr(e,t){let n,r,s,a,i,o,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if("toJSON"in e&&typeof e.toJSON=="function")return hr(e.toJSON(),t);if(c=jv.call(e),c==="[object Array]"){for(s="[",r=e.length-1,n=0;n<r;n++)s+=hr(e[n],!0)+",";return r>-1&&(s+=hr(e[n],!0)),s+"]"}else if(c==="[object Object]"){for(a=Vv(e).sort(),r=a.length,s="",n=0;n<r;)i=a[n],o=hr(e[i],!1),o!==void 0&&(s&&(s+=","),s+=JSON.stringify(i)+":"+o),n++;return"{"+s+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function np(e){const t=hr(e,!1);if(t!==void 0)return""+t}function rp(e,t,n){let r="";if(typeof t[0]=="number"){const i=t[0]+1,o=i%10,c=i%100;o==1&&c!=11?r=i+"st":o==2&&c!=12?r=i+"nd":o==3&&c!=13?r=i+"rd":r=i+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(i=>typeof i=="number"?`[${i}]`:i).join("."):void 0,a=new V(zd,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return Md(a,rp),a}var Gv={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw rp(e.methodName,t,n)}},qv=globalThis.AbortController,cd;function ud(){return{}}function Hv(e,t){let n;return async function(s){const{payload:a,signal:i}=s,o=t(a);if(o===void 0)return await e(s);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[o]==null){const u=new qv,d=(async()=>{try{return await e({...s,signal:u.signal})}catch(f){if(f===(cd||(cd=ud())))return;throw f}})();n[o]={abortController:u,numConsumers:0,responsePromise:d}}const c=n[o];if(c.numConsumers++,i){const u=c.responsePromise;return await new Promise((d,f)=>{const l=p=>{i.removeEventListener("abort",l),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(cd||(cd=ud()))}),f(p.target.reason)};i.addEventListener("abort",l),u.then(d).catch(f).finally(()=>{i.removeEventListener("abort",l)})})}else return await c.responsePromise}}function Wv(e){return J0(e)?np([e.method,e.params]):void 0}function Zv(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Kv(e){return Bt(Uv({...e,headers:{...e.headers?Zv(e.headers):void 0,"solana-client":"js/2.3.0"}}),t=>Hv(t,Wv))}function sp(e,t){return Yv(Kv({url:e,...t}))}function Yv(e){return gv({api:zv(Gv),transport:e})}var Jv=globalThis.AbortController,Xv=globalThis.EventTarget,dd;function ld(){return Symbol(void 0)}var Qa=Symbol();function Qv({abortSignal:e,dataChannelName:t,dataPublisher:n,errorChannelName:r}){const s=new Map;function a(u){for(const[d,f]of s.entries())f.__hasPolled?(s.delete(d),f.onError(u)):f.publishQueue.push({__type:1,err:u})}const i=new Jv;e.addEventListener("abort",()=>{i.abort(),a(dd||(dd=ld()))});const o={signal:i.signal};let c=Qa;return n.on(r,u=>{c===Qa&&(c=u,i.abort(),a(u))},o),n.on(t,u=>{s.forEach((d,f)=>{if(d.__hasPolled){const{onData:l}=d;s.set(f,{__hasPolled:!1,publishQueue:[]}),l(u)}else d.publishQueue.push({__type:0,data:u})})},o),{async*[Symbol.asyncIterator](){if(e.aborted)return;if(c!==Qa)throw c;const u=Symbol();s.set(u,{__hasPolled:!1,publishQueue:[]});try{for(;;){const d=s.get(u);if(!d)throw new V(yh);if(d.__hasPolled)throw new V(bh);const f=d.publishQueue;try{if(f.length){d.publishQueue=[];for(const l of f)if(l.__type===0)yield l.data;else throw l.err}else yield await new Promise((l,p)=>{s.set(u,{__hasPolled:!0,onData:l,onError:p})})}catch(l){if(l===(dd||(dd=ld())))return;throw l}}}finally{s.delete(u)}}}}function ap(e){return{on(t,n,r){function s(a){if(a instanceof CustomEvent){const i=a.detail;n(i)}else n()}return e.addEventListener(t,s,r),()=>{e.removeEventListener(t,s)}}}}function ex(e,t,n){let r;const s=new Xv,a=ap(s);return{...a,on(i,o,c){r||(r={dispose:e.on(t,p=>{const h=n(p);if(!h)return;const[m,w]=h;s.dispatchEvent(new CustomEvent(m,{detail:w}))}),numSubscribers:0}),r.numSubscribers++;const u=a.on(i,o,c);let d=!0;function f(){d&&(d=!1,c?.signal.removeEventListener("abort",f),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),u())}return c?.signal.addEventListener("abort",f),f}}}function fd(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function tx(e){const t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then(r=>{for(const{resolve:s}of t)s(r);t.clear(),n.settled=!0},r=>{for(const{reject:s}of t)s(r);t.clear(),n.settled=!0}),n}var ei=new WeakMap;async function nx(e){let t;return await new Promise((r,s)=>{t={reject:s,resolve:r};for(const a of e){if(!fd(a)){Promise.resolve(a).then(r,s);continue}let i=ei.get(a);i===void 0?(i=tx(a),i.deferreds.add(t),ei.set(a,i)):i.settled?Promise.resolve(a).then(r,s):i.deferreds.add(t)}}).finally(()=>{for(const r of e)fd(r)&&ei.get(r).deferreds.delete(t)})}function rx(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const a=n.toString(),i=Reflect.get(t,a,r);if(!i)throw new V(gh,{notificationName:a});const o=i(...s);return sx(e.transport,o)}}})}function sx(e,t){return{async subscribe({abortSignal:n}){const r=await e({signal:n,...t});return Qv({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function ax(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...a){const i={methodName:s,params:a},o=e.requestTransformer?e.requestTransformer(i):i;return{execute(c){return e.planExecutor({...c,request:o})},request:o}}}})}function ix(e,t){return Object.freeze({...e,on(n,r,s){return n!=="message"?e.on(n,r,s):e.on("message",a=>r(t(a)),s)}})}function ox(e,t){return Object.freeze({...e,send:n=>e.send(t(n))})}var cx=globalThis.AbortController,co=new WeakMap;function ux(e,t){return ip(-1,e,t)}function dx(e,t){ip(1,e,t)}function lx(e){let t=co.get(e);return t||co.set(e,t={}),t}function ip(e,t,n){if(n===void 0)return;const r=lx(t);!r[n]&&e>0&&(r[n]=0);const s=e+r[n];return s<=0?delete r[n]:r[n]=s,s}var pd=new WeakMap;function fx(e,t,n){let r=pd.get(e);r||pd.set(e,r=new WeakMap);const s=n??e;let a=r.get(s);return a||r.set(s,a=ex(e,"message",i=>{const o=i;if(!("method"in o))return;const c=n?n(o.params.result,t):o.params.result;return[`notification:${o.params.subscription}`,c]})),a}async function px({channel:e,responseTransformer:t,signal:n,subscribeRequest:r,unsubscribeMethodName:s}){let a;e.on("error",()=>{a=void 0,co.delete(e)},{signal:n});const i=new Promise((f,l)=>{function p(){if(ux(e,a)===0){const h=io({methodName:s,params:[a]});a=void 0,e.send(h).catch(()=>{})}l(this.reason)}n.aborted?p.call(n):n.addEventListener("abort",p)}),o=io(r);await e.send(o);const c=new Promise((f,l)=>{const p=new cx;n.addEventListener("abort",p.abort.bind(p));const h={signal:p.signal};e.on("error",m=>{p.abort(),l(m)},h),e.on("message",m=>{m&&typeof m=="object"&&"id"in m&&m.id===o.id&&(p.abort(),"error"in m?l($d(m.error)):f(m.result))},h)});if(a=await nx([i,c]),a==null)throw new V(wh);dx(e,a);const u=fx(e,r,t),d=`notification:${a}`;return{on(f,l,p){switch(f){case"notification":return u.on(d,l,p);case"error":return e.on("error",l,p);default:throw new V(vh,{channelName:f,supportedChannelNames:["notification","error"]})}}}}function hx(e){const t=ep(e),n=$v({allowedNumericKeyPaths:yx()});return ax({planExecutor({request:r,...s}){return px({...s,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:t})}function mx(e){return hx(e)}var ti;function yx(){return ti||(ti={accountNotifications:kn.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",C,"meta","preTokenBalances",C,"accountIndex"],["value","block","transactions",C,"meta","preTokenBalances",C,"uiTokenAmount","decimals"],["value","block","transactions",C,"meta","postTokenBalances",C,"accountIndex"],["value","block","transactions",C,"meta","postTokenBalances",C,"uiTokenAmount","decimals"],["value","block","transactions",C,"meta","rewards",C,"commission"],["value","block","transactions",C,"meta","innerInstructions",C,"index"],["value","block","transactions",C,"meta","innerInstructions",C,"instructions",C,"programIdIndex"],["value","block","transactions",C,"meta","innerInstructions",C,"instructions",C,"accounts",C],["value","block","transactions",C,"transaction","message","addressTableLookups",C,"writableIndexes",C],["value","block","transactions",C,"transaction","message","addressTableLookups",C,"readonlyIndexes",C],["value","block","transactions",C,"transaction","message","instructions",C,"programIdIndex"],["value","block","transactions",C,"transaction","message","instructions",C,"accounts",C],["value","block","transactions",C,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",C,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",C,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",C,"commission"]],programNotifications:kn.flatMap(e=>[["value",C,"account",...e],[C,"account",...e]])}),ti}var bx=globalThis.EventTarget,lr=globalThis.WebSocket,hd=1e3;function gx({sendBufferHighWatermark:e,signal:t,url:n}){if(t.aborted)return Promise.reject(t.reason);let r,s=!1;const a=new Set;function i(){a.forEach(b=>{b()}),a.clear()}function o(){i(),s||m(t.reason),h.readyState!==lr.CLOSED&&h.readyState!==lr.CLOSING&&h.close(hd)}function c(b){i(),r?.onCancel(),t.removeEventListener("abort",o),h.removeEventListener("close",c),h.removeEventListener("error",u),h.removeEventListener("message",d),h.removeEventListener("open",p),!t.aborted&&!(b.wasClean&&b.code===hd)&&f.dispatchEvent(new CustomEvent("error",{detail:new V(pi,{cause:b})}))}function u(b){if(!t.aborted&&!s){const v=new V(xh,{errorEvent:b});m(v),f.dispatchEvent(new CustomEvent("error",{detail:v}))}}function d(b){t.aborted||f.dispatchEvent(new CustomEvent("message",{detail:b.data}))}const f=new bx,l=ap(f);function p(){s=!0,w({...l,async send(b){if(h.readyState!==lr.OPEN)throw new V(pi);if(!r&&h.bufferedAmount>e){let v;const g=new Promise((y,x)=>{const A=setInterval(()=>{(h.readyState!==lr.OPEN||!(h.bufferedAmount>e))&&(clearInterval(A),r=void 0,y())},16);v=()=>{r=void 0,clearInterval(A),x(new V(_h))}});r={onCancel:v,promise:g}}if(r){if(ArrayBuffer.isView(b)&&!(b instanceof DataView)){const v=b.constructor;b=new v(b)}await r.promise}h.send(b)}})}const h=new lr(n);t.addEventListener("abort",o),h.addEventListener("close",c),h.addEventListener("error",u),h.addEventListener("message",d),h.addEventListener("open",p);let m,w;return new Promise((b,v)=>{m=v,w=b})}function op(e,t,n){let r="";if(typeof t[0]=="number"){const i=t[0]+1,o=i%10,c=i%100;o==1&&c!=11?r=i+"st":o==2&&c!=12?r=i+"nd":o==3&&c!=13?r=i+"rd":r=i+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(i=>typeof i=="number"?`[${i}]`:i).join("."):void 0,a=new V(zd,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return Md(a,op),a}var wx={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw op(e.methodName,t,n)}},gc=globalThis.AbortController,vx={jsonrpc:"2.0",method:"ping"};function xx({abortSignal:e,channel:t,intervalMs:n}){let r;function s(){t.send(vx).catch(o=>{yo(o,pi)&&i.abort()})}function a(){clearInterval(r),r=setInterval(s,n)}const i=new gc;return i.signal.addEventListener("abort",()=>{clearInterval(r)}),e.addEventListener("abort",()=>{i.abort()}),t.on("error",()=>{i.abort()},{signal:i.signal}),t.on("message",a,{signal:i.signal}),globalThis.navigator.onLine&&a(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:i.signal}),globalThis.addEventListener("online",function(){s(),a()},{signal:i.signal}),{...t,send(...o){return i.signal.aborted||a(),t.send(...o)}}}function _x(){return{entries:[],freeChannelIndex:-1}}function Ex(e,{maxSubscriptionsPerChannel:t,minChannels:n}){const r=_x();function s(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let a;for(let i=0;i<r.entries.length;i++){const o=(r.freeChannelIndex+i+2)%r.entries.length,c=r.entries[o];c.subscriptionCount<t&&(!a||a.subscriptionCount>=c.subscriptionCount)&&(a={poolIndex:o,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=a?.poolIndex??-1}return function({abortSignal:i}){let o;function c(){const u=r.entries.findIndex(d=>d===o);r.entries.splice(u,1),o.dispose(),s()}if(r.freeChannelIndex===-1){const u=new gc,d=e({abortSignal:u.signal});d.then(f=>{f.on("error",c,{signal:u.signal})}).catch(c),o={channel:d,dispose(){u.abort()},subscriptionCount:0},r.entries.push(o)}else o=r.entries[r.freeChannelIndex];return o.subscriptionCount++,i.addEventListener("abort",function(){o.subscriptionCount--,o.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,s())}),s(),o.channel}}function Ax(e){return Bt(e,t=>ix(t,K0),t=>ox(t,Y0))}function Tx(e){return Sx({...e,jsonSerializer:Ax})}function Sx(e){if(/^wss?:/i.test(e.url)===!1){const s=e.url.match(/^([^:]+):/);throw new DOMException(s?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${s[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}const{intervalMs:t,...n}=e;return Ex(({abortSignal:s})=>gx({...n,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:s}).then(e.jsonSerializer).then(a=>xx({abortSignal:s,channel:a,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}function Ix(e){const t=new Map;return function(r){const{request:s,signal:a}=r,i=np([s.methodName,s.params]);let o=t.get(i);if(!o){const c=new gc,u=e({...r,signal:c.signal});u.then(d=>{d.on("error",()=>{t.delete(i),c.abort()},{signal:c.signal})}).catch(()=>{}),t.set(i,o={abortController:c,dataPublisherPromise:u,numSubscribers:0})}return o.numSubscribers++,a.addEventListener("abort",()=>{o.numSubscribers--,o.numSubscribers===0&&queueMicrotask(()=>{o.numSubscribers===0&&(t.delete(i),o.abortController.abort())})},{signal:o.abortController.signal}),o.dataPublisherPromise}}function Px({createChannel:e}){return Bt(Cx(e),t=>Ix(t))}function Cx(e){return async({execute:t,signal:n})=>{const r=await e({abortSignal:n});return await t({channel:r,signal:n})}}function kx(e,t){const n=Px({createChannel:Tx({...t,url:e})});return Nx(n)}function md(e,t){return kx(e,t)}function Nx(e){return rx({api:mx(wx),transport:e})}function Rx(e){return S2(e)}function Bx(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.blockhash=="string"&&typeof e.lifetimeConstraint.lastValidBlockHeight=="bigint"&&Rx(e.lifetimeConstraint.blockhash)}function cp(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}function Ox(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new V(vs,{alphabet:e,base:e.length,value:n})}var $x=e=>jt({getSizeFromValue:t=>{const[n,r]=yd(t,e[0]);if(!r)return t.length;const s=bd(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(Ox(e,t),t==="")return r;const[s,a]=yd(t,e[0]);if(!a)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let i=bd(a,e);const o=[];for(;i>0n;)o.unshift(Number(i%256n)),i/=256n;const c=[...Array(s.length).fill(0),...o];return n.set(c,r),r+c.length}}),zx=e=>Be({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const a=e[0].repeat(s);if(s===r.length)return[a,t.length];const i=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),o=Mx(i,e);return[a+o,t.length]}});function yd(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function bd(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function Mx(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var up="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Dx=()=>$x(up),Lx=()=>zx(up),ni;function Fx(){if(!ni){const e=Zn(Ee(),{size:nn()});ni=mt([["lookupTableAddress",zn()],["writableIndexes",e],["readonlyIndexes",e]])}return ni}var ri;function Ux(){if(!ri){const e=Rt(dt(),{size:Ft()});ri=Ge(te([["lookupTableAddress",X()],["writableIndexes",e],["readonlyIndexes",e]]),t=>"readableIndices"in t?{...t,readonlyIndexes:t.readableIndices,writableIndexes:t.writableIndices}:t)}return ri}var si;function ai(){return si||(si=Ee()),si}var ii;function oi(){return ii||(ii=dt()),ii}function jx(){return mt([["numSignerAccounts",ai()],["numReadonlySignerAccounts",ai()],["numReadonlyNonSignerAccounts",ai()]])}function Vx(){return te([["numSignerAccounts",oi()],["numReadonlySignerAccounts",oi()],["numReadonlyNonSignerAccounts",oi()]])}var ci;function Gx(){return ci||(ci=Vt(mt([["programAddressIndex",Ee()],["accountIndices",Zn(Ee(),{size:nn()})],["data",Ah(yc(),nn())]]),e=>e.accountIndices!==void 0&&e.data!==void 0?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),ci}var ui;function qx(){return ui||(ui=Ge(te([["programAddressIndex",dt()],["accountIndices",Rt(dt(),{size:Ft()})],["data",ne(Ur(),Ft())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}})),ui}var uo=128;function Hx(){return jt({getSizeFromValue:e=>e==="legacy"?0:1,maxSize:1,write:(e,t,n)=>{if(e==="legacy")return n;if(e<0||e>127)throw new V(Eh,{actualVersion:e});return t.set([e|uo],n),n+1}})}function dp(){return Be({maxSize:1,read:(e,t)=>{const n=e[t];return(n&uo)===0?["legacy",t]:[n^uo,t+1]}})}function gd(){return mt(lp())}function wd(){return Vt(mt([...lp(),["addressTableLookups",Zx()]]),e=>e.version==="legacy"?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function lp(){return[["version",Hx()],["header",jx()],["staticAccounts",Zn(zn(),{size:nn()})],["lifetimeToken",bo(Dx(),32)],["instructions",Zn(Gx(),{size:nn()})]]}function Wx(){return[["version",dp()],["header",Vx()],["staticAccounts",Rt(X(),{size:Ft()})],["lifetimeToken",Xn(Lx(),32)],["instructions",Rt(qx(),{size:Ft()})],["addressTableLookups",Kx()]]}function Zx(){return Zn(Fx(),{size:nn()})}function Kx(){return Rt(Ux(),{size:Ft()})}function Yx(){return jt({getSizeFromValue:e=>e.version==="legacy"?gd().getSizeFromValue(e):wd().getSizeFromValue(e),write:(e,t,n)=>e.version==="legacy"?gd().write(e,t,n):wd().write(e,t,n)})}function Jx(){return Ge(te(Wx()),({addressTableLookups:e,...t})=>t.version==="legacy"||!e?.length?t:{...t,addressTableLookups:e})}function vd(e,t,n){e[t]=n(e[t]??{role:Je.READONLY})}var de=Symbol("AddressMapTypeProperty");function Xx(e,t){const n={[e]:{[de]:0,role:Je.WRITABLE_SIGNER}},r=new Set;for(const s of t){vd(n,s.programAddress,i=>{if(r.add(s.programAddress),de in i){if(jr(i.role))switch(i[de]){case 0:throw new V(Th,{programAddress:s.programAddress});default:throw new V(Mc,{programAddress:s.programAddress})}if(i[de]===2)return i}return{[de]:2,role:Je.READONLY}});let a;if(s.accounts)for(const i of s.accounts)vd(n,i.address,o=>{const{address:c,...u}=i;if(de in o)switch(o[de]){case 0:return o;case 1:{const d=sd(o.role,u.role);if("lookupTableAddress"in u){if(o.lookupTableAddress!==u.lookupTableAddress&&(a||(a=mc()))(u.lookupTableAddress,o.lookupTableAddress)<0)return{[de]:1,...u,role:d}}else if(Yn(u.role))return{[de]:2,role:d};return o.role!==d?{...o,role:d}:o}case 2:{const d=sd(o.role,u.role);if(r.has(i.address)){if(jr(u.role))throw new V(Mc,{programAddress:i.address});return o.role!==d?{...o,role:d}:o}else return"lookupTableAddress"in u&&!Yn(o.role)?{...u,[de]:1,role:d}:o.role!==d?{...o,role:d}:o}}return"lookupTableAddress"in u?{...u,[de]:1}:{...u,[de]:2}})}return n}function Qx(e){let t;return Object.entries(e).sort(([r,s],[a,i])=>{if(s[de]!==i[de]){if(s[de]===0)return-1;if(i[de]===0)return 1;if(s[de]===2)return-1;if(i[de]===2)return 1}const o=Yn(s.role);if(o!==Yn(i.role))return o?-1:1;const c=jr(s.role);return c!==jr(i.role)?c?-1:1:(t||(t=mc()),s[de]===1&&i[de]===1&&s.lookupTableAddress!==i.lookupTableAddress?t(s.lookupTableAddress,i.lookupTableAddress):t(r,a))}).map(([r,s])=>({address:r,...s}))}function e_(e){var n;const t={};for(const r of e){if(!("lookupTableAddress"in r))continue;const s=t[n=r.lookupTableAddress]||(t[n]={readableIndices:[],readonlyIndexes:[],writableIndexes:[],writableIndices:[]});r.role===Je.WRITABLE?(s.writableIndexes.push(r.addressIndex),s.writableIndices.push(r.addressIndex)):(s.readableIndices.push(r.addressIndex),s.readonlyIndexes.push(r.addressIndex))}return Object.keys(t).sort(mc()).map(r=>({lookupTableAddress:r,...t[r]}))}function t_(e){let t=0,n=0,r=0;for(const s of e){if("lookupTableAddress"in s)break;const a=jr(s.role);Yn(s.role)?(r++,a||n++):a||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function n_(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}function r_(e,t){const n=n_(t);return e.map(({accounts:r,data:s,programAddress:a})=>({programAddressIndex:n[a],...r?{accountIndices:r.map(({address:i})=>n[i])}:null,...s?{data:s}:null}))}function s_(e){return"nonce"in e?e.nonce:e.blockhash}function a_(e){const t=e.findIndex(r=>"lookupTableAddress"in r);return(t===-1?e:e.slice(0,t)).map(({address:r})=>r)}function i_(e){const t=Xx(e.feePayer.address,e.instructions),n=Qx(t);return{...e.version!=="legacy"?{addressTableLookups:e_(n)}:null,header:t_(n),instructions:r_(e.instructions,n),lifetimeToken:s_(e.lifetimeConstraint),staticAccounts:a_(n),version:e.version}}function o_(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var c_="SysvarRecentB1ockHashes11111111111111111111",u_="11111111111111111111111111111111";function d_(e){return e.programAddress===u_&&e.data!=null&&l_(e.data)&&e.accounts?.length===3&&e.accounts[0].address!=null&&e.accounts[0].role===Je.WRITABLE&&e.accounts[1].address===c_&&e.accounts[1].role===Je.READONLY&&e.accounts[2].address!=null&&Yn(e.accounts[2].role)}function l_(e){return e.byteLength===4&&e[0]===4&&e[1]===0&&e[2]===0&&e[3]===0}function f_(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.nonce=="string"&&e.instructions[0]!=null&&d_(e.instructions[0])}function p_(e,t){if("feePayer"in t&&e===t.feePayer?.address&&h_(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function h_(e){return!!e&&"address"in e&&typeof e.address=="string"&&Object.keys(e).length===1}function fp(e,t){return pp([e],t)}function pp(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function m_(e,t){return y_([e],t)}function y_(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}var b_=f_;function g_(e){const t=Object.values(e);if(t.length===0)throw new V(Sh);return t.map(n=>n||new Uint8Array(64).fill(0))}function w_(){return Vt(Zn(bo(yc(),64),{size:nn()}),g_)}function v_(){return mt([["signatures",w_()],["messageBytes",yc()]])}function x_(){return Ge(te([["signatures",Rt(Xn(Ur(),64),{size:Ft()})],["messageBytes",Ur()]]),__)}function __(e){const{messageBytes:t,signatures:n}=e,r=Kn([dp(),Ih(dt(),2),Rt(X(),{size:Ft()})]),[s,a,i]=r.decode(t),o=i.slice(0,a);if(o.length!==n.length)throw new V(Ph,{numRequiredSignatures:a,signaturesLength:n.length,signerAddresses:o});const c={};return o.forEach((u,d)=>{const f=n[d];f.every(l=>l===0)?c[u]=null:c[u]=f}),{messageBytes:t,signatures:Object.freeze(c)}}function hp(e){const t=i_(e),n=Yx().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),s={};for(const i of r)s[i]=null;let a;return Bx(e)?a={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:a={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address},Object.freeze({lifetimeConstraint:a,messageBytes:n,signatures:Object.freeze(s)})}function E_(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])}async function A_(e,t){let n,r;if(await Promise.all(e.map(async s=>{const a=await H0(s.publicKey),i=t.signatures[a];if(i===void 0){r||(r=new Set),r.add(a);return}if(r)return;const o=await bc(s.privateKey,t.messageBytes);i!==null&&E_(o,i)||(n||(n={}),n[a]=o)})),r&&r.size>0){const s=Object.keys(t.signatures);throw new V(Ch,{expectedAddresses:s,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function wc(e){const t=v_().encode(e);return h2().decode(t)}function vc(e){const t={};return e.forEach(n=>{if(!t[n.address])t[n.address]=n;else if(t[n.address]!==n)throw new V(kh,{address:n.address})}),Object.values(t)}function ds(e){return"modifyAndSignTransactions"in e&&typeof e.modifyAndSignTransactions=="function"}function Jn(e){return"signTransactions"in e&&typeof e.signTransactions=="function"}function mp(e){return"signAndSendTransactions"in e&&typeof e.signAndSendTransactions=="function"}function ba(e){return Jn(e)||ds(e)||mp(e)}function T_(e){return vc((e.accounts??[]).flatMap(t=>"signer"in t?t.signer:[]))}function S_(e){return vc([...e.feePayer&&ba(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(T_)])}async function yp(e){const t=await H0(e.publicKey);return Object.freeze({address:t,keyPair:e,signMessages:r=>Promise.all(r.map(async s=>Object.freeze({[t]:await bc(e.privateKey,s.content)}))),signTransactions:r=>Promise.all(r.map(async s=>{const a=await A_([e],s);return Object.freeze({[t]:a.signatures[t]})}))})}async function I_(e,t){return await yp(await cv(e,t))}async function P_(e,t){return await yp(await uv(e,t))}async function C_(e,t){const{partialSigners:n,modifyingSigners:r}=k_(vc(S_(e).filter(ba)),{identifySendingSigner:!1});return await B_(e,r,n,t)}function k_(e,t={}){const r=t.identifySendingSigner??!0?N_(e):null,s=e.filter(o=>o!==r&&(ds(o)||Jn(o))),a=R_(s),i=s.filter(Jn).filter(o=>!a.includes(o));return Object.freeze({modifyingSigners:a,partialSigners:i,sendingSigner:r})}function N_(e){const t=e.filter(mp);if(t.length===0)return null;const n=t.filter(r=>!ds(r)&&!Jn(r));return n.length>0?n[0]:t[0]}function R_(e){const t=e.filter(ds);if(t.length===0)return[];const n=t.filter(r=>!Jn(r));return n.length>0?n:[t[0]]}async function B_(e,t=[],n=[],r){const s=hp(e),a=await t.reduce(async(o,c)=>{const[u]=await c.modifyAndSignTransactions([await o],r);return Object.freeze(u)},Promise.resolve(s)),i=await Promise.all(n.map(async o=>{const[c]=await o.signTransactions([a],r);return c}));return Object.freeze({...a,signatures:Object.freeze(i.reduce((o,c)=>({...o,...c}),a.signatures??{}))})}var bp="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",gp=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(gp||{});function O_(){return J2(gp)}function $_(){return Xn(Ur(),36)}function fr(){return Xn(Ur(),64)}function z_(){return H2([["Uninitialized",Mn()],["TransferFeeConfig",ne(te([["transferFeeConfigAuthority",X()],["withdrawWithheldAuthority",X()],["withheldAmount",we()],["olderTransferFee",xd()],["newerTransferFee",xd()]]),se())],["TransferFeeAmount",ne(te([["withheldAmount",we()]]),se())],["MintCloseAuthority",ne(te([["closeAuthority",X()]]),se())],["ConfidentialTransferMint",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",Ye()],["auditorElgamalPubkey",xe(X(),{prefix:null,noneValue:"zeroes"})]]),se())],["ConfidentialTransferAccount",ne(te([["approved",Ye()],["elgamalPubkey",X()],["pendingBalanceLow",fr()],["pendingBalanceHigh",fr()],["availableBalance",fr()],["decryptableAvailableBalance",$_()],["allowConfidentialCredits",Ye()],["allowNonConfidentialCredits",Ye()],["pendingBalanceCreditCounter",we()],["maximumPendingBalanceCreditCounter",we()],["expectedPendingBalanceCreditCounter",we()],["actualPendingBalanceCreditCounter",we()]]),se())],["DefaultAccountState",ne(te([["state",O_()]]),se())],["ImmutableOwner",ne(te([]),se())],["MemoTransfer",ne(te([["requireIncomingTransferMemos",Ye()]]),se())],["NonTransferable",ne(te([]),se())],["InterestBearingConfig",ne(te([["rateAuthority",X()],["initializationTimestamp",we()],["preUpdateAverageRate",Dc()],["lastUpdateTimestamp",we()],["currentRate",Dc()]]),se())],["CpiGuard",ne(te([["lockCpi",Ye()]]),se())],["PermanentDelegate",ne(te([["delegate",X()]]),se())],["NonTransferableAccount",ne(te([]),se())],["TransferHook",ne(te([["authority",X()],["programId",X()]]),se())],["TransferHookAccount",ne(te([["transferring",Ye()]]),se())],["ConfidentialTransferFee",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",X()],["harvestToMintEnabled",Ye()],["withheldAmount",fr()]]),se())],["ConfidentialTransferFeeAmount",ne(te([["withheldAmount",fr()]]),se())],["MetadataPointer",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",xe(X(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenMetadata",ne(te([["updateAuthority",xe(X(),{prefix:null,noneValue:"zeroes"})],["mint",X()],["name",ne(dr(),_t())],["symbol",ne(dr(),_t())],["uri",ne(dr(),_t())],["additionalMetadata",Q2(ne(dr(),_t()),ne(dr(),_t()))]]),se())],["GroupPointer",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["groupAddress",xe(X(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenGroup",ne(te([["updateAuthority",xe(X(),{prefix:null,noneValue:"zeroes"})],["mint",X()],["size",we()],["maxSize",we()]]),se())],["GroupMemberPointer",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["memberAddress",xe(X(),{prefix:null,noneValue:"zeroes"})]]),se())],["TokenGroupMember",ne(te([["mint",X()],["group",X()],["memberNumber",we()]]),se())],["ConfidentialMintBurn",Mn()],["ScaledUiAmountConfig",ne(te([["authority",X()],["multiplier",Lc()],["newMultiplierEffectiveTimestamp",we()],["newMultiplier",Lc()]]),se())],["PausableConfig",ne(te([["authority",xe(X(),{prefix:null,noneValue:"zeroes"})],["paused",Ye()]]),se())],["PausableAccount",Mn()]],{size:se()})}function xd(){return te([["epoch",we()],["maximumFee",we()],["transferFeeBasisPoints",se()]])}function M_(){return te([["mintAuthority",xe(X(),{prefix:_t(),noneValue:"zeroes"})],["supply",we()],["decimals",dt()],["isInitialized",Ye()],["freezeAuthority",xe(X(),{prefix:_t(),noneValue:"zeroes"})],["extensions",xe(X2(Rt(z_(),{size:"remainder"}),[W0(Nh(Ee(),83).encode(1))]),{prefix:null})]])}function D_(e){return b2(e,M_())}async function L_(e,t,n){const r=await F_(e,t,n);return v2(r),r}async function F_(e,t,n){const r=await G0(e,t,n);return D_(r)}var U_="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",xc="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";function j_(e){if(!e)throw new Error("Expected a Address.");return typeof e=="object"&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function wp(e,t){return n=>{if(!n.value)return Object.freeze({address:e,role:Je.READONLY});const r=n.isWritable?Je.WRITABLE:Je.READONLY;return Object.freeze({address:j_(n.value),role:_d(n.value)?sv(r):r,..._d(n.value)?{signer:n.value}:{}})}}function _d(e){return!!e&&typeof e=="object"&&"address"in e&&ba(e)}async function lo(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await L2({programAddress:n,seeds:[zn().encode(e.owner),zn().encode(e.tokenProgram),zn().encode(e.mint)]})}var V_=0;function G_(){return Vt(mt([["discriminator",Ee()]]),e=>({...e,discriminator:V_}))}function q_(e,t){const n=t?.programAddress??U_,s={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};s.tokenProgram.value||(s.tokenProgram.value="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),s.systemProgram.value||(s.systemProgram.value="11111111111111111111111111111111");const a=wp(n);return{accounts:[a(s.payer),a(s.ata),a(s.owner),a(s.mint),a(s.systemProgram),a(s.tokenProgram)],programAddress:n,data:G_().encode({})}}var H_=12;function W_(){return Vt(mt([["discriminator",Ee()],["amount",Dd()],["decimals",Ee()]]),e=>({...e,discriminator:H_}))}function Z_(e,t){const n=t?.programAddress??xc,s={source:{value:e.source??null,isWritable:!0},mint:{value:e.mint??null,isWritable:!1},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},a={...e},i=(a.multiSigners??[]).map(u=>({address:u.address,role:Je.READONLY_SIGNER,signer:u})),o=wp(n);return{accounts:[o(s.source),o(s.mint),o(s.destination),o(s.authority),...i],programAddress:n,data:W_().encode(a)}}Yd([ie().transform(e=>e.replace(/[^0-9.-]+/g,"")),Ve()]).pipe(_m.number().min(1e-4).max(999999999));var ga=pt(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq"]),_c=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq"],fo=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338]]),wa=["solana-devnet","solana"],Ed=new Map([["solana-devnet",103],["solana",101]]);Object.fromEntries([..._c,...wa].map(e=>[fo.get(e),e]));function Ec(e){const t=Sc(e);return J5({chain:t,transport:C0()}).extend(Ls)}function K_(){return Ec("base-sepolia")}function Y_(){return Ec("avalanche-fuji")}function Ac(e,t){const n=Sc(e),r=pw({chain:n,transport:C0(),account:t2(t)});return vp(n)?r.extend(Ls).extend(o2()):r.extend(Ls)}function J_(e){return Ac("base-sepolia",e)}function X_(e){return Ac("avalanche-fuji",e)}function va(e){return typeof e=="object"&&e!==null&&"chain"in e&&"transport"in e}function Tc(e){const t=e;return typeof e=="object"&&e!==null&&typeof t.address=="string"&&typeof t.type=="string"&&typeof t.sign=="function"&&typeof t.signMessage=="function"&&typeof t.signTypedData=="function"&&typeof t.signTransaction=="function"}function Sc(e){if(!e)throw new Error("NETWORK environment variable is not set");switch(e){case"abstract":return Aw;case"abstract-testnet":return Tw;case"base":return O0;case"base-sepolia":return $0;case"avalanche":return Bw;case"avalanche-fuji":return Ow;case"sei":return Fw;case"sei-testnet":return Uw;case"polygon":return Dw;case"polygon-amoy":return Lw;case"peaq":return Mw;case"iotex":return $w;case"iotex-testnet":return zw;default:throw new Error(`Unsupported network: ${e}`)}}var Q_=new Set([2741,11124]);function vp(e){return Q_.has(e.id)}var e8="https://api.devnet.solana.com",t8="https://api.mainnet-beta.solana.com",n8="wss://api.devnet.solana.com",r8="wss://api.mainnet-beta.solana.com";function xp(e){return sp(e||e8)}function _p(e){return sp(e||t8)}function ls(e,t){if(e==="solana-devnet")return xp(t);if(e==="solana")return _p(t);throw new Error("Invalid network")}function s8(e,t){if(e==="solana-devnet")return md(t?Ad(t):n8);if(e==="solana")return md(t?Ad(t):r8);throw new Error("Invalid network")}function Ad(e){return e.startsWith("http")?e.replace("http","ws"):e}function a8(e){if(!wa.find(t=>t===e))throw new Error(`Unsupported SVM network: ${e}`);return ls(e)}async function i8(e){const t=Kw.decode(e);if(t.length===64)return await I_(t);if(t.length===32)return await P_(t);throw new Error(`Unexpected key length: ${t.length}. Expected 32 or 64 bytes.`)}function Ep(e){return typeof e=="object"&&e!==null&&ba(e)}function o8(e){return va(e)||Tc(e)}function c8(e){return Ep(e)}function Td(e){return"evm"in e&&"svm"in e}var u8={};wo(u8,{authorizationPrimaryType:()=>d8,authorizationTypes:()=>Ap,config:()=>Hh,createClientAvalancheFuji:()=>Y_,createClientSepolia:()=>K_,createConnectedClient:()=>Ec,createSigner:()=>Ac,createSignerAvalancheFuji:()=>X_,createSignerSepolia:()=>J_,getChainFromNetwork:()=>Sc,isAccount:()=>Tc,isSignerWallet:()=>va,isZkStackChain:()=>vp,usdcABI:()=>Wh});var Ap={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},d8="TransferWithAuthorization",l8={};wo(l8,{SvmAddressRegex:()=>Ic});var Ic=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,f8=/^[A-Za-z0-9+/]*={0,2}$/;function Sd(e){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?globalThis.btoa(e):Buffer.from(e).toString("base64")}function p8(e){return typeof globalThis<"u"&&typeof globalThis.atob=="function"?globalThis.atob(e):Buffer.from(e,"base64").toString("utf-8")}var h8=18,po=/^0x[0-9a-fA-F]{40}$/,Pc=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,m8=/^0x[0-9a-fA-F]{64}$/,y8=/^0x[0-9a-fA-F]+$/,Cc=["exact"],fs=[1],kc=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],ws=e=>Number.isInteger(Number(e))&&Number(e)>=0,b8=e=>t=>t.length<=e,Nc=ie().regex(po).or(ie().regex(Ic)),g8=ie().regex(Pc).or(ie().regex(Ic)),ps=be({scheme:pt(Cc),network:ga,maxAmountRequired:ie().refine(ws),resource:ie().url(),description:ie(),mimeType:ie(),outputSchema:Xt(Fn()).optional(),payTo:Nc,maxTimeoutSeconds:Ve().int(),asset:g8,extra:Xt(Fn()).optional()}),w8=be({from:ie().regex(po),to:ie().regex(po),value:ie().refine(ws).refine(b8(h8)),validAfter:ie().refine(ws),validBefore:ie().refine(ws),nonce:ie().regex(m8)}),v8=be({signature:ie().regex(y8),authorization:w8}),x8=be({transaction:ie().regex(f8)}),Tp=be({x402Version:Ve().refine(e=>fs.includes(e)),scheme:pt(Cc),network:ga,payload:Yd([v8,x8])});be({x402Version:Ve().refine(e=>fs.includes(e)),error:pt(kc).optional(),accepts:js(ps).optional(),payer:ie().regex(Pc).optional()});var _8=pt(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),E8=be({type:xm("http"),method:_8,queryParams:Xt(ie(),ie()).optional(),bodyType:pt(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:Xt(ie(),Fn()).optional(),headerFields:Xt(ie(),Fn()).optional()});vm("type",[E8]);var A8=be({resource:ie(),type:pt(["http"]),x402Version:Ve().refine(e=>fs.includes(e)),accepts:js(ps),lastUpdated:wm(),metadata:Xt(Fn()).optional()});be({paymentPayload:Tp,paymentRequirements:ps});be({paymentPayload:Tp,paymentRequirements:ps});be({isValid:Kd(),invalidReason:pt(kc).optional(),payer:Nc.optional()});be({success:Kd(),errorReason:pt(kc).optional(),payer:Nc.optional(),transaction:ie().regex(Pc),network:ga});be({type:ie().optional(),limit:Ve().optional(),offset:Ve().optional()});be({x402Version:Ve().refine(e=>fs.includes(e)),items:js(A8),pagination:be({limit:Ve(),offset:Ve(),total:Ve()})});var T8=be({x402Version:Ve().refine(e=>fs.includes(e)),scheme:pt(Cc),network:ga,extra:Xt(Fn()).optional()});be({kinds:js(T8)});function S8(e){if(fo.has(e))return fo.get(e);if(Ed.has(e))return Ed.get(e);throw new Error(`Unsupported network: ${e}`)}function Id(e){const t=p8(e);return JSON.parse(t)}var ho={};wo(ho,{createDevnetRpcClient:()=>xp,createMainnetRpcClient:()=>_p,createSignerFromBase58:()=>i8,createSvmConnectedClient:()=>a8,decodeTransactionFromPayload:()=>I8,getRpcClient:()=>ls,getRpcSubscriptions:()=>s8,getTokenPayerFromTransaction:()=>P8,isSignerWallet:()=>Ep,signAndSimulateTransaction:()=>C8,signTransactionWithSigner:()=>Sp});function I8(e){try{const n=V0().encode(e.transaction);return x_().decode(n)}catch(t){throw console.error("error",t),new Error("invalid_exact_svm_payload_transaction")}}function P8(e){const t=Jx().decode(e.messageBytes),n=t.staticAccounts??[],r=t.instructions??[];for(const s of r){const a=s.programAddressIndex,i=n[a].toString();if(i===bp.toString()||i===xc.toString()){const o=s.accountIndices??[];if(o.length>=4){const c=o[3],u=n[c].toString();if(u)return u}}}return""}async function C8(e,t,n){const r=await Sp(e,t),s=wc(r),a={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(s,a).send()}async function Sp(e,t){if(ds(e)){const[n]=await e.modifyAndSignTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(Jn(e)){const[n]=await e.signTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return k8(t,n)}throw new Error("transaction_signer_must_support_offline_signing")}function k8(e,t){return Object.freeze({...e,signatures:Object.freeze({...e.signatures,...t})})}be({paymentHeader:ie(),paymentRequirements:ps});var Rc="ComputeBudget111111111111111111111111111111";function N8(e){const t="data"in e?e.data:e;if(Zt(t,Ee().encode(0),0))return 0;if(Zt(t,Ee().encode(1),0))return 1;if(Zt(t,Ee().encode(2),0))return 2;if(Zt(t,Ee().encode(3),0))return 3;if(Zt(t,Ee().encode(4),0))return 4;throw new Error("The provided instruction could not be identified as a computeBudget instruction.")}var R8=2;function B8(){return Vt(mt([["discriminator",Ee()],["units",Od()]]),e=>({...e,discriminator:R8}))}function mo(e,t){const n=Rc,r={...e};return{programAddress:n,data:B8().encode(r)}}var O8=3;function $8(){return Vt(mt([["discriminator",Ee()],["microLamports",Dd()]]),e=>({...e,discriminator:O8}))}function z8(e,t){const n=Rc,r={...e};return{programAddress:n,data:$8().encode(r)}}var M8=14e5;function D8(e){const t=L8(e);if(t<0)return null;const n=_t().decode(e.instructions[t].data,1);return{index:t,units:n}}function L8(e){return e.instructions.findIndex(F8)}function F8(e){return e.programAddress===Rc&&N8(e.data)===2}function U8(e,t){const n=u=>e,r=D8(t);if(!r)return fp(mo({units:n()}),t);const{index:s,units:a}=r,i=n();if(i===a)return t;const o=mo({units:i}),c=[...t.instructions];return c.splice(s,1,o),Object.freeze({...t,instructions:c})}var j8={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n};function V8(e){return"lifetimeConstraint"in e?e:G8(e)}function G8(e){return cp(j8,e)}async function q8({transactionMessage:e,...t}){const n=!b_(e),r=Bt(e,V8,s=>U8(M8,s),hp);return await H8({transaction:r,replaceRecentBlockhash:n,...t})}async function H8({abortSignal:e,rpc:t,transaction:n,...r}){const s=wc(n);try{const{value:{err:a,unitsConsumed:i}}=await t.simulateTransaction(s,{...r,encoding:"base64",sigVerify:!1}).send({abortSignal:e});if(i==null)throw new V(Fc);const o=i>4294967295n?4294967295:Number(i);if(a)throw new V(Uc,{cause:a,unitsConsumed:o});return o}catch(a){throw yo(a,Uc)?a:new V(Fc,{cause:a})}}function W8({rpc:e}){return async function(n,r){return await q8({...r,rpc:e,transactionMessage:n})}}function Z8(e,t){return fp(z8({microLamports:e}),t)}function Ip(e){let t;if(_c.includes(e.network)){const n=e.payload;return t={...e,payload:{...n,authorization:Object.fromEntries(Object.entries(n.authorization).map(([r,s])=>[r,typeof s=="bigint"?s.toString():s]))}},Sd(JSON.stringify(t))}if(wa.includes(e.network))return t={...e,payload:e.payload},Sd(JSON.stringify(t));throw new Error("Invalid network")}async function K8(e,{from:t,to:n,value:r,validAfter:s,validBefore:a,nonce:i},{asset:o,network:c,extra:u}){const d=S8(c),f=u?.name,l=u?.version,p={types:Ap,domain:{name:f,version:l,chainId:d,verifyingContract:Nn(o)},primaryType:"TransferWithAuthorization",message:{from:Nn(t),to:Nn(n),value:r,validAfter:s,validBefore:a,nonce:i}};if(va(e))return{signature:await e.signTypedData(p)};if(Tc(e)&&e.signTypedData)return{signature:await e.signTypedData(p)};throw new Error("Invalid wallet client provided does not support signTypedData")}function Y8(){const e=typeof globalThis.crypto<"u"&&typeof globalThis.crypto.getRandomValues=="function"?globalThis.crypto:qh("crypto").webcrypto;return Q(e.getRandomValues(new Uint8Array(32)))}function J8(e,t,n){const r=Y8(),s=BigInt(Math.floor(Date.now()/1e3)-600).toString(),a=BigInt(Math.floor(Date.now()/1e3+n.maxTimeoutSeconds)).toString();return{x402Version:t,scheme:n.scheme,network:n.network,payload:{signature:void 0,authorization:{from:e,to:n.payTo,value:n.maxAmountRequired,validAfter:s.toString(),validBefore:a.toString(),nonce:r}}}}async function X8(e,t,n){const{signature:r}=await K8(e,n.payload.authorization,t);return{...n,payload:{...n.payload,signature:r}}}async function Q8(e,t,n){const r=va(e)?e.account.address:e.address,s=J8(r,t,n);return X8(e,n,s)}async function eE(e,t,n){const r=await Q8(e,t,n);return Ip(r)}async function tE(e,t,n,r){const s=await nE(e,t,n,r);return Ip(s)}async function nE(e,t,n,r){const s=await rE(e,n,r),a=await C_(s),i=wc(a);return{scheme:n.scheme,network:n.network,x402Version:t,payload:{transaction:i}}}async function rE(e,t,n){const r=ls(t.network,n?.svmConfig?.rpcUrl),s=await sE(e,t,n),a=t.extra?.feePayer,i=Bt(o_({version:0}),f=>Z8(1,f),f=>p_(a,f),f=>pp(s,f)),c=await W8({rpc:r})(i),{value:u}=await r.getLatestBlockhash().send();return Bt(i,f=>m_(mo({units:c}),f),f=>cp(u,f))}async function sE(e,t,n){const{asset:r}=t,s=ls(t.network,n?.svmConfig?.rpcUrl),a=await L_(s,r),i=a.programAddress;if(i.toString()!==bp.toString()&&i.toString()!==xc.toString())throw new Error("Asset was not created by a known token program");const o=[],c=await aE(t,i,n);c&&o.push(c);const u=await iE(e,t,a.data.decimals,i);return o.push(u),o}async function aE(e,t,n){const{asset:r,payTo:s,extra:a}=e;if(!a?.feePayer)throw new Error("feePayer is required in paymentRequirements.extra in order to set the facilitator as the fee payer for the create associated token account instruction");const[o]=await lo({mint:r,owner:s,tokenProgram:t}),c=ls(e.network,n?.svmConfig?.rpcUrl);if(!(await G0(c,o)).exists)return q_({payer:e.extra?.feePayer,ata:o,owner:s,mint:r,tokenProgram:t})}async function iE(e,t,n,r){const{asset:s,maxAmountRequired:a,payTo:i}=t,[o]=await lo({mint:s,owner:e.address,tokenProgram:r}),[c]=await lo({mint:s,owner:i,tokenProgram:r});return Z_({source:o,mint:s,destination:c,authority:e,amount:BigInt(a),decimals:n},{programAddress:r})}async function oE(e,t,n,r){if(n.scheme==="exact"){if(_c.includes(n.network)){const s=Td(e)?e.evm:e;if(!o8(s))throw new Error("Invalid evm wallet client provided");return await eE(s,t,n)}if(wa.includes(n.network)){const s=Td(e)?e.svm:e;if(!c8(s))throw new Error("Invalid svm wallet client provided");return await tE(s,t,n,r)}throw new Error("Unsupported network")}throw new Error("Unsupported scheme")}function cE(){return Ld.generate()}async function uE(e,t){const r=new TextEncoder().encode(t),s=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits","deriveKey"]),a=crypto.getRandomValues(new Uint8Array(16)),i=await crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!1,["encrypt"]),o=crypto.getRandomValues(new Uint8Array(12)),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:o},i,e),u=new Uint8Array(a.length+o.length+c.byteLength);return u.set(a,0),u.set(o,a.length),u.set(new Uint8Array(c),a.length+o.length),btoa(String.fromCharCode(...u))}async function Pd(e,t){try{const n=Uint8Array.from(atob(e),f=>f.charCodeAt(0)),r=n.slice(0,16),s=n.slice(16,28),a=n.slice(28),o=new TextEncoder().encode(t),c=await crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveBits","deriveKey"]),u=await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["decrypt"]),d=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},u,a);return new Uint8Array(d)}catch(n){return console.log("[vizor] Decryption failed (likely wrong password):",n.message||n),null}}const dE="solscan.io",Cd="https://vizor-api.vercel.app/",lE="https://mainnet.helius-rpc.com/?api-key=d94f96c1-6be8-42be-90c4-311dec83c9f7";let wt=null,Jt=null;const fE=new Rh(lE,"confirmed");function di(e,t){chrome.tabs.sendMessage(e,{type:"URL_CHANGED",url:t}).catch(()=>{})}function kd(e){return!!e&&e.includes("://solscan.io/")}if(chrome.webNavigation?.onCommitted){const e={url:[{hostEquals:dE}]},t=n=>di(n.tabId,n.url);chrome.webNavigation.onCommitted.addListener(t,e),chrome.webNavigation.onHistoryStateUpdated.addListener(t,e)}else console.warn("[vizor] webNavigation unavailable; using tabs fallback"),chrome.tabs.onUpdated.addListener((e,t,n)=>{const r=t.url??n.url;(t.status==="complete"||t.url)&&kd(r)&&di(e,r)}),chrome.tabs.onActivated.addListener(async e=>{try{const t=await chrome.tabs.get(e.tabId);kd(t.url)&&di(e.tabId,t.url)}catch{}});function pE(e){if(e?.text&&typeof e.text=="string")return e.text;const t=[];if(e?.explainer&&t.push(String(e.explainer)),Array.isArray(e?.keypoints)&&e.keypoints.length){t.push("");for(const n of e.keypoints)t.push(` ${String(n)}`)}return e?.when&&(t.push(""),t.push(String(e.when))),t.join(`
`).trim()||"No explanation available."}async function Nd(e,t={}){let n=await fetch(e,t);if(n.status===402){if(console.log("[vizor] Got 402, wallet unlocked:",!!Jt),!Jt)throw console.error("[vizor] Wallet locked. Please unlock your wallet first."),new Error("Wallet locked. Please unlock your wallet to continue.");try{const r=await n.json();if(console.log("[vizor] Raw payment requirements:",JSON.stringify(r,null,2)),!r.accepts||!Array.isArray(r.accepts)||r.accepts.length===0)throw new Error("No payment options in accepts array");const s=r.accepts[0];console.log("[vizor] Selected payment option:",JSON.stringify(s,null,2)),console.log("[vizor] Creating payment (network fees covered by facilitator)..."),console.log("[vizor] Creating payment header...");const a=await oE(Jt,1,s,{svmConfig:{rpcUrl:fE.rpcEndpoint}});console.log("[vizor] Payment header created, length:",a.length),console.log("[vizor] Retrying request with payment..."),n=await fetch(e,{...t,headers:{...t.headers,"x-payment":a}}),console.log("[vizor] Retry response status:",n.status)}catch(r){throw console.error("[vizor] Payment failed:",r),r.message?.includes("Insufficient funds")||r.message?.includes("insufficient")?new Error(" Insufficient USDC. You need at least 0.01 USDC. Click the extension icon to see your address and add USDC."):r.message?.includes("simulation failed")?new Error(" Payment failed. Please ensure you have at least 0.01 USDC in your wallet."):r}}return n}chrome.runtime.onMessage.addListener((e,t,n)=>e?.type==="CHECK_WALLET_STATUS"?((async()=>{const{encryptedWallet:r}=await chrome.storage.local.get(["encryptedWallet"]);console.log("[vizor] Wallet status check - hasWallet:",!!r,"isUnlocked:",!!wt),n({hasWallet:!!r,isUnlocked:!!wt})})(),!0):e?.type==="CLEAR_WALLET"?((async()=>(await chrome.storage.local.remove(["encryptedWallet"]),wt=null,Jt=null,console.log("[vizor] Wallet data cleared"),n({ok:!0})))(),!0):e?.type==="CREATE_WALLET"?((async()=>{try{const r=cE(),s=await uE(r.secretKey,e.password);await chrome.storage.local.set({encryptedWallet:s}),wt=r,Jt=await ho.createSignerFromBase58(Ea.encode(r.secretKey)),console.log("[vizor] Wallet created:",r.publicKey.toBase58()),n({ok:!0})}catch(r){console.error("[vizor] Wallet creation failed:",r),n({ok:!1,error:r.message})}})(),!0):e?.type==="UNLOCK_WALLET"?((async()=>{try{const{encryptedWallet:r}=await chrome.storage.local.get(["encryptedWallet"]);if(!r){console.log("[vizor] No encrypted wallet found in storage"),n({ok:!1,error:"No wallet found"});return}console.log("[vizor] Attempting to decrypt wallet...");const s=await Pd(r,e.password);if(!s){console.log("[vizor] Decryption returned null (incorrect password)"),n({ok:!1,error:"Incorrect password"});return}console.log("[vizor] Wallet decrypted successfully, creating keypair..."),wt=Ld.fromSecretKey(s),console.log("[vizor] Creating signer..."),Jt=await ho.createSignerFromBase58(Ea.encode(s)),console.log("[vizor] Wallet unlocked:",wt.publicKey.toBase58()),n({ok:!0})}catch(r){console.error("[vizor] Unlock failed with exception:",r.message||r),n({ok:!1,error:r.message||"Failed to unlock wallet"})}})(),!0):e?.type==="LOCK_WALLET"?(wt=null,Jt=null,console.log("[vizor] Wallet locked"),n({ok:!0}),!0):e?.type==="GET_WALLET_INFO"?wt?(n({ok:!0,address:wt.publicKey.toBase58()}),!0):(n({ok:!1,error:"Wallet locked"}),!0):e?.type==="EXPORT_PRIVATE_KEY"?((async()=>{try{const{encryptedWallet:r}=await chrome.storage.local.get(["encryptedWallet"]);if(!r){n({ok:!1,error:"No wallet found"});return}const s=await Pd(r,e.password);if(!s){n({ok:!1,error:"Incorrect password"});return}n({ok:!0,privateKey:Ea.encode(s)})}catch(r){n({ok:!1,error:r.message})}})(),!0):e?.type==="EXPLAIN_TX"?((async()=>{try{const r=String(e.signature||""),s=String(e.tz||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC");if(!r){n({ok:!1,error:"Missing signature"});return}const a=await Nd(`${Cd}/api/transactions/explain`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({signature:r,tz:s})});if(!a.ok){n({ok:!1,error:`API ${a.status}`});return}const i=await a.json(),o=pE(i),c=a.headers.get("x-payment-response");if(c){const u=Id(c);console.log("[vizor] Payment:",u)}n({ok:!0,text:o})}catch(r){n({ok:!1,error:r?.message||String(r)})}})(),!0):e?.type==="EXPLAIN_ACCOUNT"?((async()=>{try{const r=String(e.address||""),s=String(e.tz||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC");if(!r){n({ok:!1,error:"Missing address"});return}const a=await Nd(`${Cd}/api/wallets/insights`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({address:r,tz:s})});if(!a.ok){n({ok:!1,error:`API ${a.status}`});return}const i=await a.json(),o=a.headers.get("x-payment-response");if(o){const c=Id(o);console.log("[vizor] Payment:",c)}n({ok:!0,data:i})}catch(r){n({ok:!1,error:r?.message||String(r)})}})(),!0):!1);export{_ as B,mr as H,Z1 as a,He as b,na as c,ub as d,Gt as e,Qe as f,Po as g,Xr as i,oa as l,he as s};
